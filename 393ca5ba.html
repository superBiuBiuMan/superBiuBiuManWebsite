<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover"><title>微信小程序相关知识点和云音乐项目制作遇到的问题及解决 | 梦洁小站-属于你我的小天地</title><meta name="author" content="梦洁"><meta name="copyright" content="梦洁"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="小程序项目想下载项目的可以下载看看~下载地址  github地址: https:&#x2F;&#x2F;github.com&#x2F;superBiuBiuMan&#x2F;Wechat_NetEase_CloudMusic gitee地址: https:&#x2F;&#x2F;gitee.com&#x2F;superBiuBiu&#x2F;Wechat_NetEase_CloudMusic  弹性盒布局和移动端适配的一些知识 具体看下面这两篇博客,这里就不再继续说了 盒子"><meta property="og:type" content="article"><meta property="og:title" content="微信小程序相关知识点和云音乐项目制作遇到的问题及解决"><meta property="og:url" content="https://www.dreamlove.top/393ca5ba.html"><meta property="og:site_name" content="梦洁小站-属于你我的小天地"><meta property="og:description" content="小程序项目想下载项目的可以下载看看~下载地址  github地址: https:&#x2F;&#x2F;github.com&#x2F;superBiuBiuMan&#x2F;Wechat_NetEase_CloudMusic gitee地址: https:&#x2F;&#x2F;gitee.com&#x2F;superBiuBiu&#x2F;Wechat_NetEase_CloudMusic  弹性盒布局和移动端适配的一些知识 具体看下面这两篇博客,这里就不再继续说了 盒子"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202207141615249.jpg"><meta property="article:published_time" content="2022-07-14T15:09:20.000Z"><meta property="article:modified_time" content="2022-07-14T16:09:52.000Z"><meta property="article:author" content="梦洁"><meta property="article:tag" content="小程序"><meta property="article:tag" content="移动端"><meta property="article:tag" content="微信小程序"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202207141615249.jpg"><link rel="shortcut icon" href="https://oss.ypggb.com/i/2025/07/01/pk26bw.png"><link rel="canonical" href="https://www.dreamlove.top/393ca5ba.html"><link rel="preconnect" href="https://lib.baomitu.com"><link rel="preconnect" href="//busuanzi.ibruce.info"><link rel="stylesheet" href="/css/index.css?v=4.13.0"><link rel="stylesheet" href="https://lib.baomitu.com/font-awesome/6.5.1/css/all.min.css"><link rel="stylesheet" href="https://lib.baomitu.com/fancyapps-ui/5.0.33/fancybox/fancybox.min.css" media="print" onload='this.media="all"'><script>const GLOBAL_CONFIG={root:"/",algolia:{appId:"G7A2D1SYPY",apiKey:"49056313a9be02852c7dbedfcb772831",indexName:"blog",hits:{per_page:20},languages:{input_placeholder:"搜索文章",hits_empty:"找不到您查询的内容：${query}",hits_stats:"找到 ${hits} 条结果，用时 ${time} 毫秒"}},localSearch:void 0,translate:void 0,noticeOutdate:void 0,highlight:{plugin:"highlight.js",highlightCopy:!0,highlightLang:!0,highlightHeightLimit:!1},copy:{success:"复制成功",error:"复制错误",noSupport:"浏览器不支持"},relativeDate:{homepage:!1,post:!1},runtime:"天",dateSuffix:{just:"刚刚",min:"分钟前",hour:"小时前",day:"天前",month:"个月前"},copyright:void 0,lightbox:"fancybox",Snackbar:void 0,infinitegrid:{js:"https://lib.baomitu.com/egjs-infinitegrid/4.11.1/infinitegrid.min.js",buttonText:"加载更多"},isPhotoFigcaption:!1,islazyload:!1,isAnchor:!1,percent:{toc:!0,rightside:!1},autoDarkmode:!1}</script><script id="config-diff">var GLOBAL_CONFIG_SITE={title:"微信小程序相关知识点和云音乐项目制作遇到的问题及解决",isPost:!0,isHome:!1,isHighlightShrink:!1,isToc:!0,postUpdate:"2022-07-14 16:09:52"}</script><script>(e=>{e.saveToLocal={set:(e,t,o)=>{if(0===o)return;const a={value:t,expiry:Date.now()+864e5*o};localStorage.setItem(e,JSON.stringify(a))},get:e=>{const t=localStorage.getItem(e);if(!t)return;const o=JSON.parse(t);if(!(Date.now()>o.expiry))return o.value;localStorage.removeItem(e)}},e.getScript=(e,t={})=>new Promise((o,a)=>{const n=document.createElement("script");n.src=e,n.async=!0,n.onerror=a,n.onload=n.onreadystatechange=function(){const e=this.readyState;e&&"loaded"!==e&&"complete"!==e||(n.onload=n.onreadystatechange=null,o())},Object.keys(t).forEach(e=>{n.setAttribute(e,t[e])}),document.head.appendChild(n)}),e.getCSS=(e,t=!1)=>new Promise((o,a)=>{const n=document.createElement("link");n.rel="stylesheet",n.href=e,t&&(n.id=t),n.onerror=a,n.onload=n.onreadystatechange=function(){const e=this.readyState;e&&"loaded"!==e&&"complete"!==e||(n.onload=n.onreadystatechange=null,o())},document.head.appendChild(n)}),e.activateDarkMode=()=>{document.documentElement.setAttribute("data-theme","dark"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","#0d0d0d")},e.activateLightMode=()=>{document.documentElement.setAttribute("data-theme","light"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","#ffffff")};const t=saveToLocal.get("theme");"dark"===t?activateDarkMode():"light"===t&&activateLightMode();const o=saveToLocal.get("aside-status");void 0!==o&&("hide"===o?document.documentElement.classList.add("hide-aside"):document.documentElement.classList.remove("hide-aside"));/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)&&document.documentElement.classList.add("apple")})(window)</script><meta name="generator" content="Hexo 7.1.1"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://oss.ypggb.com/i/2025/07/01/pk26bw.png" onerror='onerror=null,src="/img/404.png"' alt="avatar"></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">182</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">101</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">73</div></a></div><hr class="custom-hr"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友情和链接</span></a></div><div class="menus_item"><a class="site-page" href="/navigation/"><i class="fa-fw fas fa-link"></i><span> 链接导航</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 私有化导航</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" target="_blank" rel="noopener" href="https://mark.123916.xyz/"><i class="fa-fw fas fa-database"></i><span> 导航</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="https://cloud.reassurehome.com/"><i class="fa-fw fas fa-hippo"></i><span> Alist(私有)</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 工具</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" target="_blank" rel="noopener" href="https://short.123916.xyz/027a2"><i class="fa-fw fas fa-paperclip"></i><span> clash免费订阅地址</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="https://short.123916.xyz/admin/"><i class="fa-fw fas fa-paperclip"></i><span> 短链接生成</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 好玩的</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" target="_blank" rel="noopener" href="https://make.girls.moe/#/"><i class="fa-fw fas fa-database"></i><span> 动漫头像制作</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="http://dfqshy.ysepan.com/"><i class="fa-fw fas fa-database"></i><span> FC游戏大全网盘</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="https://www.yikm.net/"><i class="fa-fw fas fa-database"></i><span> 小霸王</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="https://www.return8090.com/"><i class="fa-fw fas fa-database"></i><span> 小霸王(广告多)</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="http://farm.dreamlove.top"><i class="fa-fw fas fa-database"></i><span> QQ农场经典版</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="https://codepip.com/"><i class="fa-fw fas fa-database"></i><span> CssGame</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="https://photo.123916.xyz/"><i class="fa-fw fas fa-database"></i><span> 有趣的照片</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 其他</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></li><li><a class="site-page child" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="https://buy.dreamlove.top/"><i class="fa-fw fas fa-heart"></i><span> 购物</span></a></li></ul></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image:url(https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202207141615249.jpg)"><nav id="nav"><span id="blog-info"><a href="/" title="梦洁小站-属于你我的小天地"><span class="site-name">梦洁小站-属于你我的小天地</span></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友情和链接</span></a></div><div class="menus_item"><a class="site-page" href="/navigation/"><i class="fa-fw fas fa-link"></i><span> 链接导航</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 私有化导航</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" target="_blank" rel="noopener" href="https://mark.123916.xyz/"><i class="fa-fw fas fa-database"></i><span> 导航</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="https://cloud.reassurehome.com/"><i class="fa-fw fas fa-hippo"></i><span> Alist(私有)</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 工具</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" target="_blank" rel="noopener" href="https://short.123916.xyz/027a2"><i class="fa-fw fas fa-paperclip"></i><span> clash免费订阅地址</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="https://short.123916.xyz/admin/"><i class="fa-fw fas fa-paperclip"></i><span> 短链接生成</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 好玩的</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" target="_blank" rel="noopener" href="https://make.girls.moe/#/"><i class="fa-fw fas fa-database"></i><span> 动漫头像制作</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="http://dfqshy.ysepan.com/"><i class="fa-fw fas fa-database"></i><span> FC游戏大全网盘</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="https://www.yikm.net/"><i class="fa-fw fas fa-database"></i><span> 小霸王</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="https://www.return8090.com/"><i class="fa-fw fas fa-database"></i><span> 小霸王(广告多)</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="http://farm.dreamlove.top"><i class="fa-fw fas fa-database"></i><span> QQ农场经典版</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="https://codepip.com/"><i class="fa-fw fas fa-database"></i><span> CssGame</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="https://photo.123916.xyz/"><i class="fa-fw fas fa-database"></i><span> 有趣的照片</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 其他</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></li><li><a class="site-page child" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="https://buy.dreamlove.top/"><i class="fa-fw fas fa-heart"></i><span> 购物</span></a></li></ul></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">微信小程序相关知识点和云音乐项目制作遇到的问题及解决</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2022-07-14T15:09:20.000Z" title="发表于 2022-07-14 15:09:20">2022-07-14</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2022-07-14T16:09:52.000Z" title="更新于 2022-07-14 16:09:52">2022-07-14</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/HTML/">HTML</a><i class="fas fa-angle-right post-meta-separator"></i><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/HTML/javscript/">javscript</a><i class="fas fa-angle-right post-meta-separator"></i><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/HTML/javscript/wechat/">wechat</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">13.8k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>55分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" data-flag-title="微信小程序相关知识点和云音乐项目制作遇到的问题及解决"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h3 id="小程序项目想下载项目的可以下载看看"><a href="#小程序项目想下载项目的可以下载看看" class="headerlink" title="小程序项目想下载项目的可以下载看看~"></a>小程序项目想下载项目的可以下载看看~</h3><p>下载地址</p><ul><li>github地址: <a target="_blank" rel="noopener" href="https://github.com/superBiuBiuMan/Wechat_NetEase_CloudMusic">https://github.com/superBiuBiuMan/Wechat_NetEase_CloudMusic</a></li><li>gitee地址: <a target="_blank" rel="noopener" href="https://gitee.com/superBiuBiu/Wechat_NetEase_CloudMusic">https://gitee.com/superBiuBiu/Wechat_NetEase_CloudMusic</a></li></ul><h3 id="弹性盒布局和移动端适配的一些知识"><a href="#弹性盒布局和移动端适配的一些知识" class="headerlink" title="弹性盒布局和移动端适配的一些知识"></a>弹性盒布局和移动端适配的一些知识</h3><ul><li>具体看下面这两篇博客,这里就不再继续说了</li><li><a href="https://www.dreamlove.top/8b5e5cf7.html">盒子模型及块元素水平垂直定位和绝对元素的定位布局和弹性盒</a></li><li><a href="https://www.dreamlove.top/cb27eea3.html">移动端前端的适配和rem,vm其他的一些的复习</a></li></ul><h3 id="微信小程序的适配方案"><a href="#微信小程序的适配方案" class="headerlink" title="微信小程序的适配方案"></a>微信小程序的适配方案</h3><ul><li>小程序适配单位:<code>rpx</code></li><li>小程序规定任何屏幕小的宽度为<code>750rpx</code><ul><li>所以小程序会根据屏幕的宽度不同自动计算rpx值的大小</li></ul></li><li>在<code>iPhone6</code>情况下(其实也就是DPR为2的情况下) <code>1px</code> &#x3D; <code>2rpx</code></li><li>举个例子,比如设计师在iPhone6尺寸(375*667)下设计UI图,那么有一张图片的大小为<code>100px * 50px</code> ,那么在微信小程序当中对应的rpx是多少呢? 相当于计算下方关系,当然,不需要我们自己去计算,微信小程序会自动转换</li><li>计算得结果等于200,所以是<code>200rpx</code></li></ul><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202207131436995.png"></p><h3 id="什么是响应式和自适应"><a href="#什么是响应式和自适应" class="headerlink" title="什么是响应式和自适应"></a>什么是响应式和自适应</h3><ul><li>一句话:响应式对不同页面做出代码变更,自适应不做代码变更</li></ul><h4 id="响应式"><a href="#响应式" class="headerlink" title="响应式"></a>响应式</h4><ul><li><p>像素达到临界点就使用另外一套样式,通过媒体查询的方式,也就是<strong>据屏幕的大小自动的调整页面的展现方式</strong></p></li><li><p>响应式的概念应该是覆盖了自适应，但是包括的东西更多了</p></li></ul><h4 id="自适应"><a href="#自适应" class="headerlink" title="自适应"></a>自适应</h4><ul><li>百分比布局，宽度使用百分比，文字使用em,rem等</li><li>自适应是为了解决如何才能在不同大小的设备上呈现相同的网页</li></ul><h3 id="小程序配置"><a href="#小程序配置" class="headerlink" title="小程序配置"></a>小程序配置</h3><h4 id="全局配置"><a href="#全局配置" class="headerlink" title="全局配置"></a>全局配置</h4><ul><li><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/reference/configuration/app.html">@官网全局配置API地址</a></li><li>小程序根目录下的 <code>app.json</code> 文件用来对微信小程序进行全局配置。文件内容为一个 JSON 对象，有以下属性：</li><li>比如说配置页面底部的导航</li></ul><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202207131043068.png"></p><ul><li>比如说配置页面路由项目</li></ul><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202207131043405.png"></p><ul><li>比如说小程序标题名</li></ul><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202207131043885.png"></p><h4 id="页面配置"><a href="#页面配置" class="headerlink" title="页面配置"></a>页面配置</h4><ul><li><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/reference/configuration/page.html">@官网页面配置API</a></li><li><code>app.json</code>当中的部分配置项和对单个页面的配置项(二者通用)</li><li>在全局配置当中需要有<code>window</code>字段,而单个页面的配置项.json文件当中是不需要添加<code>window</code>字段的</li></ul><p>全局配置(<code>app.json</code>),需要添加<code>window</code>字段</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202207131043885.png"></p><p>为某一个页面配置(比如说video页面<code>video.json</code>),就不需要添加<code>window</code>字段了</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202207131047759.png"></p><h4 id="sitemap"><a href="#sitemap" class="headerlink" title="sitemap"></a>sitemap</h4><ul><li><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/reference/configuration/sitemap.html">@官网sitemapAPI地址</a></li><li>用于被微信搜索爬取页面</li></ul><h3 id="小程序框架接口"><a href="#小程序框架接口" class="headerlink" title="小程序框架接口"></a>小程序框架接口</h3><h4 id="App-js"><a href="#App-js" class="headerlink" title="App.js"></a>App.js</h4><ul><li><p><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/reference/api/App.html">@官网API接口</a></p></li><li><p><code>App.js</code> 只有一个,所以执行<code>App(&#123;...&#125;)</code>在里面,而在每一个页面执行的是<code>Page(&#123;...&#125;)</code>函数</p></li><li><p>可以<strong>配置一些生命周期</strong>,并且可以用来全局数据<code>globalData</code></p></li><li><p>App.js当中内容代码如下</p></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">App</span>(&#123;</span><br><span class="line">  onLaunch (options) &#123;</span><br><span class="line">    <span class="comment">// Do something initial when launch.</span></span><br><span class="line">  &#125;,</span><br><span class="line">  onShow (options) &#123;</span><br><span class="line">    <span class="comment">// Do something when show.</span></span><br><span class="line">  &#125;,</span><br><span class="line">  onHide () &#123;</span><br><span class="line">    <span class="comment">// Do something when hide.</span></span><br><span class="line">  &#125;,</span><br><span class="line">  onError (msg) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(msg)</span><br><span class="line">  &#125;,</span><br><span class="line">    <span class="comment">//存储全局数据</span></span><br><span class="line">  <span class="attr">globalData</span>: <span class="string">&#x27;I am global data&#x27;</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><ul><li>如果需要获取App.js所生成的实例化对象,其他js文件需要调用<code>getApp()</code>函数,经常用来读取设置的全局数据</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// other.js</span></span><br><span class="line"><span class="keyword">var</span> appInstance = <span class="title function_">getApp</span>()</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(appInstance.<span class="property">globalData</span>) <span class="comment">// I am global data</span></span><br></pre></td></tr></table></figure><h4 id="xxx-js-不同页面不同的xxx-js"><a href="#xxx-js-不同页面不同的xxx-js" class="headerlink" title="xxx.js(不同页面不同的xxx.js)"></a>xxx.js(不同页面不同的xxx.js)</h4><ul><li><p><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/reference/api/Page.html">@官网API</a></p></li><li><p>每一个页面<strong>js</strong>当中执行的是<code>Page(&#123;...&#125;)</code>函数,<code>App.js</code> 只有一个,执行<code>App(&#123;...&#125;)</code>在里面</p></li><li><p>不管有多少页码,每一个页面的<code>xxx.js</code>基本内容差不多都是这样子</p></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// pages/test/test.js</span></span><br><span class="line"><span class="title class_">Page</span>(&#123;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * 页面的初始数据</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="attr">data</span>: &#123;</span><br><span class="line"></span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * 生命周期函数--监听页面加载</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="title function_">onLoad</span>(<span class="params">options</span>) &#123;</span><br><span class="line"></span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * 生命周期函数--监听页面初次渲染完成</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="title function_">onReady</span>(<span class="params"></span>) &#123;</span><br><span class="line"></span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * 生命周期函数--监听页面显示</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="title function_">onShow</span>(<span class="params"></span>) &#123;</span><br><span class="line"></span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * 生命周期函数--监听页面隐藏</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="title function_">onHide</span>(<span class="params"></span>) &#123;</span><br><span class="line"></span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * 生命周期函数--监听页面卸载</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="title function_">onUnload</span>(<span class="params"></span>) &#123;</span><br><span class="line"></span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * 页面相关事件处理函数--监听用户下拉动作</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="title function_">onPullDownRefresh</span>(<span class="params"></span>) &#123;</span><br><span class="line"></span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * 页面上拉触底事件的处理函数</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="title function_">onReachBottom</span>(<span class="params"></span>) &#123;</span><br><span class="line"></span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * 用户点击右上角分享</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="title function_">onShareAppMessage</span>(<span class="params"></span>) &#123;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h4 id="WXML语法"><a href="#WXML语法" class="headerlink" title="WXML语法"></a>WXML语法</h4><ul><li><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/reference/wxml/">@官方API</a></li><li>和vue不同的是,vue一般对于变量是要在属性前添加<code>v-bind</code> 或者简写为<code>:</code>的,微信小程序则需要通过<code>&#123;&#123; js代码 &#125;&#125;</code>来操作变量</li></ul><h5 id="数据绑定"><a href="#数据绑定" class="headerlink" title="数据绑定"></a>数据绑定</h5><ul><li><p><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/reference/wxml/data.html">@官方API</a></p></li><li><p>使用数据的一方</p></li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--wxml--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">view</span>&gt;</span> &#123;&#123;message&#125;&#125; <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li>提供数据的一方<figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// page.js</span></span><br><span class="line"><span class="title class_">Page</span>(&#123;</span><br><span class="line">  <span class="attr">data</span>: &#123;</span><br><span class="line">    <span class="attr">message</span>: <span class="string">&#x27;Hello MINA!&#x27;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li></ul><h5 id="列表渲染"><a href="#列表渲染" class="headerlink" title="列表渲染"></a>列表渲染</h5><ul><li><p><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/reference/wxml/list.html">@官方API</a></p></li><li><p>微信小程序如果需要操作的话,也需要绑定<code>key</code>值</p><ul><li>绑定key的时候,不需要书写<code>&#123;&#123; &#125;&#125;</code>符号,直接传入key值,比如循环的每一项为item,里面有一个字段为id,那么传入<code>wx:key</code>的时候只需要<code>wx:key=&quot;id&quot;</code> ,而不是<code>wx:key=&quot;&#123;&#123;id&#125;&#125;&quot;</code></li></ul></li><li><p><code>wx:for</code>语句有别与vue,在vue当中需要手动指明循环的变量,而微信小程序如果在不指定的情况下,循环项目自动命名为<code>item</code>,当前循环的索引自动命名为<code>index</code>,也可以使用如下代码去重命名,不过,一般都是二三层循环的时候才去,一般都是默认情况</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">使用 wx:for-item 可以指定数组当前元素的变量名，</span><br><span class="line"></span><br><span class="line">使用 wx:for-index 可以指定数组当前下标的变量名：</span><br></pre></td></tr></table></figure></li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--wxml--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">wx:for</span>=<span class="string">&quot;&#123;&#123;array&#125;&#125;&quot;</span> <span class="attr">wx:key</span>=<span class="string">&quot;index&quot;</span>&gt;</span> &#123;&#123;item&#125;&#125; <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// page.js</span></span><br><span class="line"><span class="title class_">Page</span>(&#123;</span><br><span class="line">  <span class="attr">data</span>: &#123;</span><br><span class="line">    <span class="attr">array</span>: [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h5 id="条件渲染"><a href="#条件渲染" class="headerlink" title="条件渲染"></a>条件渲染</h5><ul><li><p><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/reference/wxml/conditional.html">@官方API</a></p></li><li><p>在框架中，使用 <code>wx:if=&quot;&quot;</code> 来判断是否需要渲染该代码块：</p></li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">wx:if</span>=<span class="string">&quot;&#123;&#123;length &gt; 5&#125;&#125;&quot;</span>&gt;</span> 1 <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">wx:elif</span>=<span class="string">&quot;&#123;&#123;length &gt; 2&#125;&#125;&quot;</span>&gt;</span> 2 <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">wx:else</span>&gt;</span> 3 <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br></pre></td></tr></table></figure><p><strong>block wx:if</strong></p><ul><li>可以用于包括要判断的元素,并且不做渲染,这样子就不用在外面套一层<code>view</code>再去判断是否渲染了</li><li><code>&lt;block/&gt;</code> 并不是一个组件，它仅仅是一个包装元素，不会在页面中做任何渲染，只接受控制属性。</li></ul><h4 id="WXS文件"><a href="#WXS文件" class="headerlink" title="WXS文件"></a>WXS文件</h4><ul><li><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/view/wxs/">@官方API - wxs</a></li><li>这里就不说啦,看这位博主写的就可以~</li><li><a target="_blank" rel="noopener" href="https://blog.csdn.net/w_D_lufei/article/details/103615045">@博客地址</a></li></ul><h4 id="事件系统-事件"><a href="#事件系统-事件" class="headerlink" title="事件系统&#x2F;事件"></a>事件系统&#x2F;事件</h4><ul><li><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/view/wxml/event.html">@官方API-介绍</a></li><li><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/view/wxml/event.html#%E4%BA%8B%E4%BB%B6%E5%88%86%E7%B1%BB">@官方API - 事件分类</a></li><li>在学事件之前,我们先回顾理解下标准事件流和非标准事件流</li><li>除上官网公布的事件之外的其他组件自定义事件如无特殊声明都是非冒泡事件，如 form 的submit事件，input 的input事件，scroll-view 的scroll事件，(详见各个组件)</li></ul><h5 id="标准事件流"><a href="#标准事件流" class="headerlink" title="标准事件流"></a>标准事件流</h5><ul><li>捕获: 从最外层祖先开始捕获</li><li>执行: 从最内层开始执行事件(执行相同的事件)</li><li>冒泡:从最内层开始执行,从内向外执行的过程交冒泡</li></ul><h5 id="非标准事件流"><a href="#非标准事件流" class="headerlink" title="非标准事件流"></a>非标准事件流</h5><ul><li>IE浏览器专属</li><li>特点:没有捕获阶段</li></ul><h5 id="事件格式及示例"><a href="#事件格式及示例" class="headerlink" title="事件格式及示例"></a>事件格式及示例</h5><ul><li><code>bind</code> + 事件名 (不会阻止事件冒泡)</li><li><code>catch</code> + 事件名 (会阻止事件冒泡)</li><li>常见的事件<code>tap</code>,就相当于PC端的<code>click</code></li></ul><p>示例</p><ul><li>当用户点击该组件的时候会在该页面对应的 Page 中找到相应的事件处理函数。</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--</span></span><br><span class="line"><span class="comment">	id以及h5的自定义属性data-xxx</span></span><br><span class="line"><span class="comment">	是为了在同一件事件回调函数当中可以区分是哪一个组件调用了</span></span><br><span class="line"><span class="comment">--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">id</span>=<span class="string">&quot;tapTest&quot;</span> <span class="attr">data-hi</span>=<span class="string">&quot;Weixin&quot;</span> <span class="attr">bindtap</span>=<span class="string">&quot;tapName&quot;</span>&gt;</span> 单击我 <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li>在相应的 Page 定义中写上相应的事件处理函数，参数是event。</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Page</span>(&#123;</span><br><span class="line">  <span class="attr">tapName</span>: <span class="keyword">function</span>(<span class="params">event</span>) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(event)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>打印输出event</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;type&quot;</span><span class="punctuation">:</span><span class="string">&quot;tap&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;timeStamp&quot;</span><span class="punctuation">:</span><span class="number">895</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;target&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;id&quot;</span><span class="punctuation">:</span> <span class="string">&quot;tapTest&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;dataset&quot;</span><span class="punctuation">:</span>  <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;hi&quot;</span><span class="punctuation">:</span><span class="string">&quot;Weixin&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;currentTarget&quot;</span><span class="punctuation">:</span>  <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;id&quot;</span><span class="punctuation">:</span> <span class="string">&quot;tapTest&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;dataset&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">      <span class="attr">&quot;hi&quot;</span><span class="punctuation">:</span><span class="string">&quot;Weixin&quot;</span></span><br><span class="line">    <span class="punctuation">&#125;</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;detail&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;x&quot;</span><span class="punctuation">:</span><span class="number">53</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;y&quot;</span><span class="punctuation">:</span><span class="number">14</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;touches&quot;</span><span class="punctuation">:</span><span class="punctuation">[</span><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;identifier&quot;</span><span class="punctuation">:</span><span class="number">0</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;pageX&quot;</span><span class="punctuation">:</span><span class="number">53</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;pageY&quot;</span><span class="punctuation">:</span><span class="number">14</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;clientX&quot;</span><span class="punctuation">:</span><span class="number">53</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;clientY&quot;</span><span class="punctuation">:</span><span class="number">14</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;changedTouches&quot;</span><span class="punctuation">:</span><span class="punctuation">[</span><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;identifier&quot;</span><span class="punctuation">:</span><span class="number">0</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;pageX&quot;</span><span class="punctuation">:</span><span class="number">53</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;pageY&quot;</span><span class="punctuation">:</span><span class="number">14</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;clientX&quot;</span><span class="punctuation">:</span><span class="number">53</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;clientY&quot;</span><span class="punctuation">:</span><span class="number">14</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">]</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><h3 id="数据绑定-1"><a href="#数据绑定-1" class="headerlink" title="数据绑定"></a>数据绑定</h3><ul><li><strong>小程序没有自带的双向绑定,但是可以通过this.setData来实现修改数据后视图也变化</strong></li><li>this.data.key &#x3D; value修改data当中的数据,注意和vue进行区分**,vue为什么不用加一层data,那是因为vue做了数据劫持**</li><li>这样子是不会引起视图的改变的! <strong>小程序没有自带的双向绑定</strong></li></ul><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202207132141756.png"></p><ul><li>如果想要触发视图中数据的更新,那么就需要借助<code>setData</code>这个方法用了,<code>setData</code>的机制去把视图层和逻辑层做一个“中转站”两边连接起来。 <strong>注意这里的回调函数必须要用箭头函数,否者this指向不正确</strong></li></ul><p>如图</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202207132142800.png"></p><h3 id="小程序获取-查询-元素-组件的信息"><a href="#小程序获取-查询-元素-组件的信息" class="headerlink" title="小程序获取,查询,元素&#x2F;组件的信息"></a>小程序获取,查询,元素&#x2F;组件的信息</h3><ul><li><p><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/api/wxml/NodesRef.boundingClientRect.html">@官方API - boundingClientRect</a></p></li><li><p><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/api/wxml/wx.createSelectorQuery.html">@官方API -createSelectorQuery</a></p></li><li><p>其功能类似于 DOM 的 <code>getBoundingClientRect</code></p></li><li><p>获取元素节点信息语法格式</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">NodesRef</span>.<span class="title function_">boundingClientRect</span>(<span class="keyword">function</span> callback)</span><br><span class="line"></span><br><span class="line"><span class="comment">//返回对象的信息均为px格式</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> callback</span><br><span class="line">回调函数，在执行 <span class="title class_">SelectorQuery</span>.<span class="property">exec</span> 方法后，节点信息会在 callback 中返回。</span><br><span class="line">    返回对象</span><br><span class="line">    属性	    类型	  说明</span><br><span class="line">    id	     string	 节点的 <span class="variable constant_">ID</span></span><br><span class="line">    dataset	 <span class="title class_">Object</span>	 节点的 dataset</span><br><span class="line">    left	 number	 节点的左边界坐标</span><br><span class="line">    right	 number	 节点的右边界坐标</span><br><span class="line">    top	     number	 节点的上边界坐标</span><br><span class="line">    bottom	 number	 节点的下边界坐标</span><br><span class="line">    width	 number	 节点的宽度(包括padding,包括border)</span><br><span class="line">    height	 number	 节点的高度(包括padding,包括border)</span><br></pre></td></tr></table></figure></li><li><p><code>wx.createSelectorQuery()</code></p><ul><li>返回一个 SelectorQuery 对象实例。在自定义组件或包含自定义组件的页面中，应使用 <code>this.createSelectorQuery()</code> 来代替。</li></ul></li><li><p>获取元素节点信息和查询节点案例</p></li></ul><p><strong>wxml</strong></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--pages/boundingClientRect/boundingClientRect.wxml--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;list-container&quot;</span>&gt;</span>查看我多大吧<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br></pre></td></tr></table></figure><p><strong>wxss</strong></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* pages/boundingClientRect/boundingClientRect.wxss */</span></span><br><span class="line"><span class="selector-class">.list-container</span>&#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">300</span>rpx;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">300</span>rpx;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">10</span>rpx;</span><br><span class="line">  <span class="attribute">background-color</span>: red;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">6</span>rpx solid blue;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>js</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">onLoad</span>(<span class="params">options</span>) &#123;</span><br><span class="line">    <span class="comment">//select查询单个结果</span></span><br><span class="line">    <span class="comment">// 也有selectAll查询全部结果</span></span><br><span class="line">    wx.<span class="title function_">createSelectorQuery</span>().<span class="title function_">select</span>(<span class="string">&quot;.list-container&quot;</span>).<span class="title function_">boundingClientRect</span>(<span class="function">(<span class="params">res</span>)=&gt;</span>&#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(res);</span><br><span class="line">    &#125;).<span class="title function_">exec</span>();</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><p><strong>输出结果</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">bottom: 166,</span><br><span class="line">dataset:&#123;&#125;,</span><br><span class="line">height: 166,</span><br><span class="line"><span class="built_in">id</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">left: 0,</span><br><span class="line">right: 166,</span><br><span class="line">top: 0,</span><br><span class="line">width: 166</span><br></pre></td></tr></table></figure><h3 id="vue和小程序都是单向数据流"><a href="#vue和小程序都是单向数据流" class="headerlink" title="vue和小程序都是单向数据流"></a>vue和小程序都是单向数据流</h3><h4 id="什么是单向数据流"><a href="#什么是单向数据流" class="headerlink" title="什么是单向数据流"></a>什么是单向数据流</h4><ul><li>在父传子的前提下，父组件的数据发生会通知子组件自动更新</li><li>子组件内部，不能直接修改父组件传递过来的props &#x3D;&gt; props是只读的</li></ul><h4 id="vue"><a href="#vue" class="headerlink" title="vue"></a>vue</h4><ul><li><p>单向数据流</p></li><li><p>但是实现了双向数据绑定 v-model 和 input事件结合使用</p></li><li><p>修改状态数据</p><ul><li>this.key &#x3D; value</li></ul></li><li><p>同步修改 model数据结构 和 视图<strong>同时修改</strong></p></li></ul><h4 id="小程序"><a href="#小程序" class="headerlink" title="小程序"></a>小程序</h4><ul><li>单向数据流</li><li>同步修改 model数据结构 和 视图 同时修改,通过<code>this.setData</code></li></ul><h3 id="App-json当中配置路由-路由跳转及需要注意的点"><a href="#App-json当中配置路由-路由跳转及需要注意的点" class="headerlink" title="App.json当中配置路由,路由跳转及需要注意的点"></a>App.json当中配置路由,路由跳转及需要注意的点</h3><ul><li><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/reference/configuration/app.html#pages">@官方API-pages</a></li><li><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/api/route/wx.redirectTo.html">@官方API-路由跳转</a></li><li>微信小程序的路由和vue路由不同,小程序的默认路由会自动设置,即为配置项目<code>pages</code>数组的第一个</li></ul><h4 id="注意点"><a href="#注意点" class="headerlink" title="注意点"></a>注意点</h4><ul><li>App.json当中的配置项<code>pages</code>在配置路由页面的时候不可以再加上 <code>/</code></li></ul><p>错误示范如下</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 不要在前面添加 /</span></span><br><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;pages&quot;</span>: [</span><br><span class="line">    <span class="string">&quot;/pages/index/index&quot;</span>,</span><br><span class="line">    <span class="string">&quot;/pages/logs/logs&quot;</span>,</span><br><span class="line">    <span class="string">&quot;/pages/test/test&quot;</span></span><br><span class="line">  ],</span><br><span class="line">  <span class="string">&quot;sitemapLocation&quot;</span>: <span class="string">&quot;sitemap.json&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>正确示范如下</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;pages&quot;</span>: [</span><br><span class="line">    <span class="string">&quot;pages/index/index&quot;</span>,</span><br><span class="line">    <span class="string">&quot;pages/logs/logs&quot;</span>,</span><br><span class="line">    <span class="string">&quot;pages/test/test&quot;</span></span><br><span class="line">  ],</span><br><span class="line">  <span class="string">&quot;sitemapLocation&quot;</span>: <span class="string">&quot;sitemap.json&quot;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>在路由跳转的时候,必须要加上 <code>/</code> 才可以正确跳转</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//关闭当前页面,跳转路由</span></span><br><span class="line">wx.<span class="title function_">redirectTo</span>(&#123;</span><br><span class="line">	<span class="attr">url</span>:<span class="string">&quot;/pages/logs/logs&quot;</span></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><ul><li>不同的路由跳转会有所区别,有的是不允许跳转到 <strong>tabbar 页面</strong> 的</li></ul><h3 id="小程序使用分包"><a href="#小程序使用分包" class="headerlink" title="小程序使用分包"></a>小程序使用分包</h3><ul><li><p><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/reference/configuration/app.html#subpackages">@官方API - 全局配置(app.json)当中的subpackages配置项</a></p></li><li><p><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/subpackages/basic.html">@官方API - 使用分包和示例</a></p></li><li><p><strong>特点</strong></p><ul><li>加载小程序的时候先加载主播,当需要访问分包的页面时候才加载分包内容</li><li>分包的页面可以访问主包的文件,数据,图片等资源</li><li>目前小程序分包大小有以下限制：<ul><li>整个小程序所有分包大小不超过 <code>20M</code></li><li>单个分包&#x2F;主包大小不能超过 <code>2M</code></li></ul></li></ul></li><li><p><strong>主包</strong></p><ul><li>主包通常放置启动页(tabBar)页面</li></ul></li><li><p>分包</p><ul><li>除了主包,其他就都是分包了</li></ul></li><li><p>常规分包和独立分包</p><ul><li><p>常规分包</p><ul><li>开发者通过在<code>app.json</code>的<code>subpackages</code>字段声明项目分包结构</li><li>特点<ul><li>加载小程序的时候先加载主包,当需要访问分包页面的时候才加载分包内容</li><li>分包的页面可以访问主包的文件,数据,图片等资源</li></ul></li></ul></li><li><p>独立分包</p><ul><li><p>在<code>app.json</code>的<code>subpackages</code>字段当中的每一个配置项中添加<code>independent</code>为true</p></li><li><p>特点</p><ul><li>独立分包可以单独访问分包的内容,不需要下载主包</li><li>独立分包不能依赖主包或者其他包的内容</li></ul></li><li><p>独立分包使用场景</p><ul><li>通常某些页面和当前小程序的其他页面关联不大的时候可以进行独立分包</li><li>比如: 临时加的广告页 或者是 活动页</li></ul></li></ul></li></ul></li></ul><h4 id="使用常规分包的具体步骤和示例"><a href="#使用常规分包的具体步骤和示例" class="headerlink" title="使用常规分包的具体步骤和示例"></a>使用常规分包的具体步骤和示例</h4><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">打包之前的app.json的pages配置项</span><br><span class="line">  <span class="attr">&quot;pages&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">    <span class="string">&quot;pages/index/index&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="string">&quot;pages/songDetail/songDetail&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="string">&quot;pages/video/video&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="string">&quot;pages/search/search&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="string">&quot;pages/recommendSong/recommendSong&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="string">&quot;pages/personal/personal&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="string">&quot;pages/login/login&quot;</span></span><br><span class="line">  <span class="punctuation">]</span><span class="punctuation">,</span></span><br></pre></td></tr></table></figure><h5 id="1-为分包建立文件夹"><a href="#1-为分包建立文件夹" class="headerlink" title="(1).为分包建立文件夹"></a>(1).为分包建立文件夹</h5><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">这里就建立一个名字叫做mysubpackages文件夹</span><br></pre></td></tr></table></figure><h5 id="2-将除了启动页-tabBar-的页面文件夹放置在刚刚创建的文件夹当中"><a href="#2-将除了启动页-tabBar-的页面文件夹放置在刚刚创建的文件夹当中" class="headerlink" title="(2).将除了启动页(tabBar)的页面文件夹放置在刚刚创建的文件夹当中"></a>(2).将除了启动页(tabBar)的页面文件夹放置在刚刚创建的文件夹当中</h5><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202207141502899.png"></p><ul><li>注意,这里为了演示,其实应该将这里文件夹放置在pages文件夹下方的,也就是<code>/mysubpackages/pages</code>文件夹下方,和主包的目录结构保持一致的</li></ul><h5 id="3-app-json配置项修改"><a href="#3-app-json配置项修改" class="headerlink" title="(3).app.json配置项修改"></a>(3).app.json配置项修改</h5><p>app.json当中的pages配置项只留下主包</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"> <span class="attr">&quot;pages&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">    <span class="string">&quot;pages/index/index&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="string">&quot;pages/video/video&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="string">&quot;pages/personal/personal&quot;</span></span><br><span class="line"><span class="punctuation">]</span><span class="punctuation">,</span></span><br></pre></td></tr></table></figure><p>将分包写入app.json当中的subpackages配置项</p><ul><li><code>subpackages</code> 中，每个分包的配置有以下几项：</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">字段	类型	说明</span><br><span class="line">root	String	分包根目录</span><br><span class="line">name	String	分包别名，分包预下载时可以使用</span><br><span class="line">pages	StringArray	分包页面路径，相对于分包根目录</span><br><span class="line">	完整路径为root+pages</span><br><span class="line">independent	Boolean	分包是否是独立分包</span><br></pre></td></tr></table></figure><p>app.json当中subpackages配置项</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">&quot;subpackages&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">  <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;root&quot;</span><span class="punctuation">:</span> <span class="string">&quot;mysubpackages&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;所有分包&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;pages&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">      <span class="string">&quot;login/login&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="string">&quot;recommendSong/recommendSong&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="string">&quot;search/search&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="string">&quot;songDetail/songDetail&quot;</span></span><br><span class="line">    <span class="punctuation">]</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">]</span><span class="punctuation">,</span></span><br></pre></td></tr></table></figure><h5 id="4-更改跳转路径"><a href="#4-更改跳转路径" class="headerlink" title="(4).更改跳转路径"></a>(4).更改跳转路径</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//跳转到搜索界面</span></span><br><span class="line"><span class="title function_">toSearchPage</span>(<span class="params"></span>)&#123;</span><br><span class="line">  wx.<span class="title function_">navigateTo</span>(&#123;</span><br><span class="line">    <span class="comment">// url: &#x27;/pages/search/search&#x27;,</span></span><br><span class="line">    <span class="attr">url</span>:<span class="string">&quot;/mysubpackages/login/login&quot;</span></span><br><span class="line">  &#125;);</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><h5 id="5-目录结构"><a href="#5-目录结构" class="headerlink" title="(5).目录结构"></a>(5).目录结构</h5><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202207141512181.png"></p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202207141512463.png"></p><h4 id="分包预下载"><a href="#分包预下载" class="headerlink" title="分包预下载"></a>分包预下载</h4><ul><li><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/subpackages/preload.html">@官方API - 分包预下载</a></li><li>略</li></ul><h3 id="微信小程序生命周期"><a href="#微信小程序生命周期" class="headerlink" title="微信小程序生命周期"></a>微信小程序生命周期</h3><ul><li><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/app-service/page-life-cycle.html">@官方API - 生命周期</a></li><li>复习下vue的生命周期<ul><li>beforeCreated,created,beforeMount,mounted,beforeUpdate,updated,beforeDestroy,destroyed</li></ul></li><li>小程序生命周期<ul><li>onLoad</li><li>onShow(会重复出现)</li><li>onReady</li><li>onHide 路由重定向的时候如果选择了比如说<code>wx.navigatorTo</code>之类的保活的,就会产生隐藏生命周期</li><li>onUnload 相当于是销毁的生命周期</li></ul></li><li>具体的图片</li></ul><p><img src="https://res.wx.qq.com/wxdoc/dist/assets/img/page-lifecycle.2e646c86.png"></p><h3 id="小程序使用npm包步骤"><a href="#小程序使用npm包步骤" class="headerlink" title="小程序使用npm包步骤"></a>小程序使用npm包步骤</h3><h4 id="1-初始化"><a href="#1-初始化" class="headerlink" title="(1).初始化"></a>(1).初始化</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm init -y</span><br></pre></td></tr></table></figure><h4 id="2-勾选使用npm-有的项目需要勾选-现在没有这个选项了"><a href="#2-勾选使用npm-有的项目需要勾选-现在没有这个选项了" class="headerlink" title="(2).勾选使用npm(有的项目需要勾选,现在没有这个选项了)"></a>(2).勾选使用npm(有的项目需要勾选,现在没有这个选项了)</h4><h4 id="3-下载需要的包"><a href="#3-下载需要的包" class="headerlink" title="(3).下载需要的包"></a>(3).下载需要的包</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install moment --save</span><br></pre></td></tr></table></figure><h4 id="4-引入包"><a href="#4-引入包" class="headerlink" title="(4).引入包"></a>(4).引入包</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// pages/boundingClientRect/boundingClientRect.js</span></span><br><span class="line"><span class="keyword">import</span> moment <span class="keyword">from</span> <span class="string">&quot;moment&quot;</span></span><br></pre></td></tr></table></figure><h4 id="5-引入包后构建npm"><a href="#5-引入包后构建npm" class="headerlink" title="(5).引入包后构建npm"></a>(5).引入包后构建npm</h4><ul><li>开发工具 —&gt; 工具 —&gt; 构建npm</li><li>会将node_modules中的包打包到miniprogram_npm中</li></ul><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202207141434418.png"></p><p>如果步骤错了,会报这个错误<code>module &#39;pages/boundingClientRect/moment.js&#39; is not defined, require args is &#39;moment&#39;&#39;</code></p><p><strong>只需要再次构建下npm就可以</strong></p><ul><li>注意<ul><li>测试的时候引入<code>axios</code>包,然后按照这个流程发现不行,可能是小程序不支持<code>axios</code>吧</li></ul></li></ul><h3 id="小程序的ajax请求发送和二次封装"><a href="#小程序的ajax请求发送和二次封装" class="headerlink" title="小程序的ajax请求发送和二次封装"></a>小程序的ajax请求发送和二次封装</h3><ul><li><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/api/network/request/wx.request.html">@官方API - wx.request</a></li><li>需要注意的是<ul><li><strong>在h5的时候,全局对象为window,但是在微信小程序是没有window的,取而代之的全局对象是wx</strong></li><li>所以是用<code>wx.xxxx</code>来调用微信提供的方法</li><li>wx.request规定<strong>必须</strong>是https协议 ,最大并发为10</li></ul></li></ul><h4 id="ajax请求发送"><a href="#ajax请求发送" class="headerlink" title="ajax请求发送"></a>ajax请求发送</h4><p>发送请求示例代码</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">wx.<span class="title function_">request</span>(&#123;</span><br><span class="line">  <span class="attr">url</span>: <span class="string">&#x27;example.php&#x27;</span>, <span class="comment">//仅为示例，并非真实的接口地址</span></span><br><span class="line">  <span class="attr">data</span>: &#123;</span><br><span class="line">    <span class="attr">x</span>: <span class="string">&#x27;&#x27;</span>,</span><br><span class="line">    <span class="attr">y</span>: <span class="string">&#x27;&#x27;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">header</span>: &#123;</span><br><span class="line">    <span class="string">&#x27;content-type&#x27;</span>: <span class="string">&#x27;application/json&#x27;</span> <span class="comment">// 默认值</span></span><br><span class="line">  &#125;,</span><br><span class="line">  success (res) &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(res.<span class="property">data</span>)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h4 id="二次封装"><a href="#二次封装" class="headerlink" title="二次封装"></a>二次封装</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 二次封装请求</span></span><br><span class="line"><span class="keyword">import</span> config <span class="keyword">from</span> <span class="string">&quot;./config&quot;</span>;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * params:</span></span><br><span class="line"><span class="comment"> *  url:请求地址</span></span><br><span class="line"><span class="comment"> *  method:请求方式(默认get)</span></span><br><span class="line"><span class="comment"> *  data:请求数据(默认 &#123;&#125; )</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> (url, data = &#123;&#125;, method = <span class="string">&quot;get&quot;</span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Promise</span>(<span class="function">(<span class="params">resolve, reject</span>) =&gt;</span> &#123;</span><br><span class="line">    wx.<span class="title function_">request</span>(&#123;</span><br><span class="line">      <span class="attr">url</span>: config.<span class="property">host</span> + url,</span><br><span class="line">      method,</span><br><span class="line">      data,</span><br><span class="line">      <span class="attr">header</span>: &#123;</span><br><span class="line">       <span class="comment">//写入配置项</span></span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="title function_">success</span>(<span class="params">res</span>) &#123;</span><br><span class="line">       <span class="comment">//Do Something</span></span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="title function_">fail</span>(<span class="params">reason</span>) &#123;</span><br><span class="line">        <span class="comment">//返回错误原因</span></span><br><span class="line">        <span class="title function_">reject</span>(reason);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="小程序使用自定义组件"><a href="#小程序使用自定义组件" class="headerlink" title="小程序使用自定义组件"></a>小程序使用自定义组件</h3><ul><li><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/custom-component/">@官网API - 自定义组件介绍</a></li><li><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/reference/api/Component.html#properties-%E5%AE%9A%E4%B9%89">@官网API - properties</a></li></ul><h4 id="1-建立文件夹"><a href="#1-建立文件夹" class="headerlink" title="(1)建立文件夹"></a>(1)建立文件夹</h4><ul><li>1.先依次建立一个文件夹叫<code>componets/NavHeader</code></li></ul><h4 id="2-右键新建Component"><a href="#2-右键新建Component" class="headerlink" title="(2)右键新建Component"></a>(2)右键新建Component</h4><ul><li>2.1.在<code>NavHeader</code>文件夹右键,选中新建<code>Component</code>,输入与文件夹同名的名称</li><li>2.2.<code>NavHeader</code>文件夹当中的结构和普通的页面结构一样,唯一不同的是不会自动在app.json当中的配置项pages中注册,因为不是页面嘛</li></ul><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202207131610712.png" alt="image-20220713161024645"></p><h4 id="3-构建NavHeader的结构"><a href="#3-构建NavHeader的结构" class="headerlink" title="(3)构建NavHeader的结构"></a>(3)构建NavHeader的结构</h4><ul><li><p>3.1 书写NavHeader结构并使用<code>NavHeader.js</code>当中的<code>propertyies属性</code></p><ul><li>可以看到,选择<code>新建Component</code>生成的js文件会自动添加如下内容,我们使用的多的,就是 <code>properties</code></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// components/NavHeader/NavHeader.js</span></span><br><span class="line"><span class="title class_">Component</span>(&#123;</span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * 组件的属性列表</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="attr">properties</span>: &#123;</span><br><span class="line">    <span class="comment">//书写自定义属性</span></span><br><span class="line">    <span class="attr">title</span>:&#123;</span><br><span class="line">      <span class="comment">//指明属性类型</span></span><br><span class="line">      <span class="attr">type</span>:<span class="title class_">String</span>,</span><br><span class="line">      <span class="attr">value</span>:<span class="string">&quot;未传入时候的默认值-title&quot;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">desc</span>:&#123;</span><br><span class="line">      <span class="attr">type</span>:<span class="title class_">String</span>,</span><br><span class="line">      <span class="attr">value</span>:<span class="string">&quot;未传入时候的默认值-desc&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * 组件的初始数据</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="attr">data</span>: &#123;</span><br><span class="line"></span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * 组件的方法列表</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="attr">methods</span>: &#123;</span><br><span class="line"></span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure></li><li><p>3.2 在<code>NavHeader.wxml</code>中使用<code>NavHeader.js</code>的<code>properties属性</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--components/NavHeader/NavHeader.wxml--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">view</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">text</span>&gt;</span>标题:&#123;&#123;title&#125;&#125;<span class="tag">&lt;/<span class="name">text</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">text</span>&gt;</span>描述:&#123;&#123;desc&#125;&#125;<span class="tag">&lt;/<span class="name">text</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br></pre></td></tr></table></figure></li></ul><h4 id="4-其他组件注册使用自定义组件"><a href="#4-其他组件注册使用自定义组件" class="headerlink" title="(4)其他组件注册使用自定义组件"></a>(4)其他组件注册使用自定义组件</h4><ul><li>在要使用此组件的页面的xxx.json里面的配置项目<code>usingCompoents</code>去注册,比如下方的index.json当中注册使用组件NavHeader</li></ul><p>index.json当中使用自定义组件NavHeader(相当于注册组件吧有点)</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">&#123;</span><br><span class="line">  <span class="string">&quot;usingComponents&quot;</span>: &#123;</span><br><span class="line">    <span class="string">&quot;NavHeader&quot;</span>:<span class="string">&quot;/components/NavHeader/NavHeader&quot;</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="5使用并传值"><a href="#5使用并传值" class="headerlink" title="(5使用并传值"></a>(5使用并传值</h4><p>index.wxml中使用(也就是xxx.wxml中使用)</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!-- 使用自定义组件 --&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">NavHeader</span> <span class="attr">title</span>=<span class="string">&quot;我是标题&quot;</span> <span class="attr">desc</span>=<span class="string">&quot;我是描述&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">NavHeader</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="tabBar底部导航的实现"><a href="#tabBar底部导航的实现" class="headerlink" title="tabBar底部导航的实现"></a>tabBar底部导航的实现</h3><ul><li><p><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/reference/configuration/app.html#tabBar">@官方API- tabBar</a></p></li><li><p><code>tabBar</code>配置项用的比较多的</p><ul><li><code>color</code>: tab 上的文字默认颜色，仅支持十六进制颜色</li><li><code>selectedColor</code>:tab 上的文字选中时的颜色，仅支持十六进制颜色</li><li><code>backgroundColor</code>:tab 的背景色，仅支持十六进制颜色</li><li><code>list</code>: tab 的列表，详见 <code>list</code> 属性说明，最少 2 个、最多 5 个 tab</li></ul></li><li><p>注意的是</p><ul><li>假如有需求需要计算一个容器的高度比如通过<code>calc</code>计算,那么在计算高度的时候,比如减去一部分的高度,这个时候可以忽略tabBar的高度,而不用减去,因为微信小程序会自动处理</li></ul></li></ul><p>示例 <code>app.json</code>当中添加配置项</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;tabBar&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;color&quot;</span><span class="punctuation">:</span> <span class="string">&quot;#333&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;selectedColor&quot;</span><span class="punctuation">:</span> <span class="string">&quot;#d43c33&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;backgroundColor&quot;</span><span class="punctuation">:</span> <span class="string">&quot;#fff&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;list&quot;</span><span class="punctuation">:</span> </span><br><span class="line">      <span class="punctuation">[</span></span><br><span class="line">          <span class="punctuation">&#123;</span></span><br><span class="line">            <span class="attr">&quot;pagePath&quot;</span><span class="punctuation">:</span> <span class="string">&quot;pages/index/index&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;text&quot;</span><span class="punctuation">:</span> <span class="string">&quot;首页&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;iconPath&quot;</span><span class="punctuation">:</span> <span class="string">&quot;/static/images/tabs/tab-home.png&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;selectedIconPath&quot;</span><span class="punctuation">:</span> <span class="string">&quot;/static/images/tabs/tab-home-current.png&quot;</span></span><br><span class="line">          <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">          <span class="punctuation">&#123;</span></span><br><span class="line">            <span class="attr">&quot;pagePath&quot;</span><span class="punctuation">:</span> <span class="string">&quot;pages/video/video&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;text&quot;</span><span class="punctuation">:</span> <span class="string">&quot;视频&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;iconPath&quot;</span><span class="punctuation">:</span> <span class="string">&quot;/static/images/tabs/video.png&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;selectedIconPath&quot;</span><span class="punctuation">:</span> <span class="string">&quot;/static/images/tabs/video-current.png&quot;</span></span><br><span class="line">          <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">          <span class="punctuation">&#123;</span></span><br><span class="line">            <span class="attr">&quot;pagePath&quot;</span><span class="punctuation">:</span> <span class="string">&quot;pages/personal/personal&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;text&quot;</span><span class="punctuation">:</span> <span class="string">&quot;个人中心&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;iconPath&quot;</span><span class="punctuation">:</span> <span class="string">&quot;/static/images/tabs/tab-my.png&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;selectedIconPath&quot;</span><span class="punctuation">:</span> <span class="string">&quot;/static/images/tabs/tab-my-current.png&quot;</span></span><br><span class="line">          <span class="punctuation">&#125;</span></span><br><span class="line">    <span class="punctuation">]</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><p>效果图</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202207131639737.png"></p><h3 id="js文件使用this-data-xxx和this-xxx和this-setData的区别"><a href="#js文件使用this-data-xxx和this-xxx和this-setData的区别" class="headerlink" title="js文件使用this.data.xxx和this.xxx和this.setData的区别"></a>js文件使用this.data.xxx和this.xxx和this.setData的区别</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// pages/test/test.js</span></span><br><span class="line"><span class="title class_">Page</span>(&#123;</span><br><span class="line">  <span class="attr">data</span>: &#123;</span><br><span class="line"></span><br><span class="line">  &#125;,</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h4 id="this-data-xxx"><a href="#this-data-xxx" class="headerlink" title="this.data.xxx"></a>this.data.xxx</h4><ul><li><code>this.data.xxx</code> 操作当前配置项当中data的属性值,但是操作不会更新视图</li></ul><h4 id="this-xxx"><a href="#this-xxx" class="headerlink" title="this.xxx"></a>this.xxx</h4><ul><li>操作当前由Page生成的实例化对象上的属性</li><li>可以用来绑定一个共用,唯一的值,比如说单例</li></ul><h4 id="this-setData"><a href="#this-setData" class="headerlink" title="this.setData"></a>this.setData</h4><ul><li><code>this.setData(&#123; value: &#39;leaf&#39; &#125;)</code>可以更新配置项当中data的属性值,并且会引发视图更新</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">this</span>.<span class="title function_">setData</span>(&#123;</span><br><span class="line">    要修改的data当中的key值: 新值</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h3 id="元素当中id和data-xxx在辨别数据的使用"><a href="#元素当中id和data-xxx在辨别数据的使用" class="headerlink" title="元素当中id和data-xxx在辨别数据的使用"></a>元素当中id和data-xxx在辨别数据的使用</h3><ul><li>有时候我们想一个函数被二个不同功能的组件所触发,但是所处理的功能不同,就可以为组件添加id或者是data-xxx来区分</li><li><code>id</code>区分和<code>data-xxx</code>区分主要区别就是<code>id</code>只能有一个,而<code>data-xxx</code>可以有多个</li><li>在回调函数的事件对象当中通过<code>currentTarget</code> 或者<code>target</code>来获取id或者data-xxx属性<ul><li>currentTarget和target的区别主要在于是否是事件委派,如果没有事件委派,那么二者没有区别</li><li>如果有事件委派&#x2F;委托,区别如下</li><li><code>currentTarget</code>是绑定事件的元素(父元素)</li><li><code>target</code>: 是触发事件的元素(子元素)</li></ul></li></ul><p>有如下结构</p><p>可以看到,<code>test.wxml</code>的二个view组件都赋予了同一个回调函数,那么如何区分呢?这里添加了<code>id</code>和<code>data-index</code></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--pages/test/test.wxml--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">text</span>&gt;</span>\n<span class="tag">&lt;/<span class="name">text</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">text</span>&gt;</span>\n<span class="tag">&lt;/<span class="name">text</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">text</span>&gt;</span>\n<span class="tag">&lt;/<span class="name">text</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">bindtap</span>=<span class="string">&quot;handleTouch&quot;</span> <span class="attr">id</span>=<span class="string">&quot;one&quot;</span> <span class="attr">data-index</span>=<span class="string">&quot;0&quot;</span>&gt;</span>我是组件1<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">text</span>&gt;</span>\n<span class="tag">&lt;/<span class="name">text</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">bindtap</span>=<span class="string">&quot;handleTouch&quot;</span> <span class="attr">id</span>=<span class="string">&quot;two&quot;</span> <span class="attr">data-index</span>=<span class="string">&quot;1&quot;</span>&gt;</span>我是组件2<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br></pre></td></tr></table></figure><p>test.js内容</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">handleTouch</span>(<span class="params">event</span>)&#123;</span><br><span class="line">	<span class="variable language_">console</span>.<span class="title function_">log</span>(event);</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><p>我们任意单击一个<code>view</code>,输出查看下事件对象<code>event</code>,可以看到,currentTarget和target记录着一些数据,<strong>正好是我们所设置的数据,那么就可以以此来区分是哪一个组件触发的了</strong></p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202207131700657.png"></p><p>完整js代码如下</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">handleTouch</span>(<span class="params">event</span>) &#123;</span><br><span class="line"><span class="comment">//获取组件的id</span></span><br><span class="line"><span class="keyword">let</span> id = event.<span class="property">target</span>.<span class="property">id</span>;</span><br><span class="line"><span class="keyword">if</span> (id === <span class="string">&#x27;one&#x27;</span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;组件1触发的&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (id === <span class="string">&#x27;two&#x27;</span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;组件2触发的&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><p>当然,也可以通过<code>data-xxx</code>来区分</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">handleTouch</span>(<span class="params">event</span>) &#123;</span><br><span class="line"><span class="comment">//获取组件的id</span></span><br><span class="line"><span class="keyword">let</span> index = event.<span class="property">target</span>.<span class="property">dataset</span>.<span class="property">index</span>;</span><br><span class="line"><span class="keyword">if</span> (index === <span class="string">&#x27;0&#x27;</span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;组件1触发的&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">if</span> (index === <span class="string">&#x27;1&#x27;</span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;组件2触发的&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><h3 id="文本超出显示省略号或文本超出两行后显示省略号"><a href="#文本超出显示省略号或文本超出两行后显示省略号" class="headerlink" title="文本超出显示省略号或文本超出两行后显示省略号"></a>文本超出显示省略号或文本超出两行后显示省略号</h3><ul><li>需要注意的是<ul><li><code>overflow</code>属性只会<strong>在块级元素才会生效</strong></li></ul></li></ul><h4 id="文本超出显示省略号"><a href="#文本超出显示省略号" class="headerlink" title="文本超出显示省略号"></a>文本超出显示省略号</h4><ul><li>关键代码就是下面这三行</li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">white-space</span>:nowrap;</span><br><span class="line"><span class="attribute">text-overflow</span>:ellipsis;</span><br><span class="line">over-<span class="attribute">flow</span>:hidden</span><br></pre></td></tr></table></figure><p>示例</p><ul><li><a target="_blank" rel="noopener" href="https://codepen.io/superbiubiuman/pen/vYRXjXp">@在线演示</a></li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.show</span>&#123;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">width</span>: <span class="number">200px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">height</span>: <span class="number">50px</span>;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">border</span>: <span class="number">1px</span> solid red;</span></span><br><span class="line"><span class="language-css">            <span class="comment">/* 设置超出部分为省略号代替 */</span></span></span><br><span class="line"><span class="language-css">            <span class="attribute">overflow</span>: hidden;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">text-overflow</span>: ellipsis;</span></span><br><span class="line"><span class="language-css">            <span class="attribute">white-space</span>: nowrap;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">class</span>=<span class="string">&quot;show&quot;</span>&gt;</span></span><br><span class="line">        本人也是经过了深思熟虑，在每个日日夜夜思考这个问题。 这种事实对本人来说意义重大，相信对这个世界也是有一定意义的。 那么， 既然如此， 问题的关键究竟为何？ 就我个人来说，对我的意义，不能不说非常重大</span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202207131509175.png"></p><h4 id="文本超出两行后显示省略号"><a href="#文本超出两行后显示省略号" class="headerlink" title="文本超出两行后显示省略号"></a>文本超出两行后显示省略号</h4><ul><li>关键代码如下</li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">display</span>: -webkit-box;</span><br><span class="line">-webkit-box-orient: vertical;</span><br><span class="line"><span class="comment">/* 设置超出几行省略 */</span></span><br><span class="line">-webkit-line-clamp: <span class="number">2</span>;</span><br></pre></td></tr></table></figure><p>示例</p><ul><li><a target="_blank" rel="noopener" href="https://codepen.io/superbiubiuman/pen/mdxrLwK">@在线演示</a></li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">        <span class="selector-class">.show</span> &#123;</span></span><br><span class="line"><span class="language-css">           <span class="attribute">width</span>: <span class="number">200px</span>;</span></span><br><span class="line"><span class="language-css">           <span class="attribute">border</span>: <span class="number">1px</span> solid red;</span></span><br><span class="line"><span class="language-css">           <span class="attribute">text-overflow</span>: ellipsis;</span></span><br><span class="line"><span class="language-css">           <span class="attribute">overflow</span>: hidden;</span></span><br><span class="line"><span class="language-css">           <span class="attribute">display</span>: -webkit-box;</span></span><br><span class="line"><span class="language-css">           -webkit-box-orient: vertical;</span></span><br><span class="line"><span class="language-css">           <span class="comment">/* 设置超出几行省略 */</span></span></span><br><span class="line"><span class="language-css">           -webkit-line-clamp: <span class="number">2</span>;</span></span><br><span class="line"><span class="language-css">        &#125;</span></span><br><span class="line"><span class="language-css">    </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">p</span> <span class="attr">class</span>=<span class="string">&quot;show&quot;</span>&gt;</span></span><br><span class="line">        本人也是经过了深思熟虑，在每个日日夜夜思考这个问题。 这种事实对本人来说意义重大，相信对这个世界也是有一定意义的。 那么， 既然如此， 问题的关键究竟为何？ 就我个人来说，对我的意义，不能不说非常重大</span><br><span class="line">    <span class="tag">&lt;/<span class="name">p</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="小程序的轻提示-Toast"><a href="#小程序的轻提示-Toast" class="headerlink" title="小程序的轻提示(Toast)"></a>小程序的轻提示(Toast)</h3><ul><li><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/api/ui/interaction/wx.showToast.html">@官方API - Toast</a></li><li>和其他不同的就是小程序的轻提示除了<code>none</code>,其他都只限于7个汉字的长度</li><li>并且小程序的轻提示-<code>wx.showLoading</code>必须要调用<code>wx.hideToast</code>进行手动关闭才可以,其他的就不用</li></ul><h3 id="小程序当中视频的操作"><a href="#小程序当中视频的操作" class="headerlink" title="小程序当中视频的操作"></a>小程序当中视频的操作</h3><ul><li><p><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/component/video.html">@官方API - video</a></p></li><li><p>想要操作视频,比如说跳转到指定位置,倍速播放的时候,就需要对视频(video)进行操作了</p></li><li><p>大致操作就是先创建属于这个视频的上下文对象,然后对上下文对象进行操作</p><ul><li>设计到视频的操作有很多,可以查看官方API的说明~</li><li><code>bindtimeupdate</code> : 播放进度变化时触发</li><li><code>bindfullscreenchange</code>: 视频进入和退出全屏时触发</li></ul></li><li><p>下方步骤为操作一个video的基本步骤</p></li></ul><h4 id="0-wxml基本结构"><a href="#0-wxml基本结构" class="headerlink" title="(0)wxml基本结构"></a>(0)wxml基本结构</h4><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--pages/videotest/videotest.wxml--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">view</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- 视频1 --&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">video</span> <span class="attr">id</span>=<span class="string">&quot;1&quot;</span> <span class="attr">src</span>=<span class="string">&quot;http://vfx.mtime.cn/Video/2019/03/18/mp4/190318214226685784.mp4&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">video</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">button</span> <span class="attr">bindtap</span>=<span class="string">&quot;handlePlay&quot;</span>&gt;</span>播放/暂停视频1<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br></pre></td></tr></table></figure><h4 id="1-创建视频上下文对象"><a href="#1-创建视频上下文对象" class="headerlink" title="(1)创建视频上下文对象"></a>(1)创建视频上下文对象</h4><ul><li><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/api/media/video/wx.createVideoContext.html">@官方API - createVideoContext</a></li><li><code>let 当前video的上下文对象 = wx.createVideoContext(video组件的id)</code></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// pages/videotest/videotest.js </span></span><br><span class="line"><span class="title function_">onLoad</span>(<span class="params">options</span>) &#123;</span><br><span class="line">    <span class="comment">//创建视频上下文对象,并绑定在当前页的实例对象上</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">videoContext</span> = wx.<span class="title function_">createVideoContext</span>(<span class="string">&quot;1&quot;</span>);</span><br><span class="line"> &#125;,</span><br></pre></td></tr></table></figure><h4 id="2-控制视频的播放-暂停-跳转"><a href="#2-控制视频的播放-暂停-跳转" class="headerlink" title="(2)控制视频的播放&#x2F;暂停&#x2F;跳转"></a>(2)控制视频的播放&#x2F;暂停&#x2F;跳转</h4><ul><li><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/api/media/video/VideoContext.html">@官方API - 视频上下文操作方法</a></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">handlePlay</span>(<span class="params"></span>) &#123;</span><br><span class="line">	<span class="comment">//视频播放</span></span><br><span class="line">	<span class="variable language_">this</span>.<span class="property">videoContext</span>.<span class="title function_">play</span>();</span><br><span class="line">	<span class="comment">//视频暂停</span></span><br><span class="line">	<span class="comment">// this.videoContext.pause();</span></span><br><span class="line">	<span class="comment">//视频跳转 - 传入的为s</span></span><br><span class="line">	<span class="variable language_">this</span>.<span class="property">videoContext</span>.<span class="title function_">seek</span>(<span class="number">40</span>);</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><h4 id="补充-由于微信问题-视频播放下一个的时候不会自动暂停上一个视频-所以这里需要使用视频上下文进行处理"><a href="#补充-由于微信问题-视频播放下一个的时候不会自动暂停上一个视频-所以这里需要使用视频上下文进行处理" class="headerlink" title="补充:由于微信问题,视频播放下一个的时候不会自动暂停上一个视频,所以这里需要使用视频上下文进行处理"></a>补充:由于微信问题,视频播放下一个的时候不会自动暂停上一个视频,所以这里需要使用视频上下文进行处理</h4><ul><li><p>演示内容,当播放视频1的时候,又跑去播放视频2,那么视频1会被暂停播放</p></li><li><p>示例<code>wxml</code>基本结构</p><ul><li>记得绑定<code>bindplay</code>哦</li></ul></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;!--pages/videotest/videotest.<span class="property">wxml</span>--&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">text</span>&gt;</span>视频测试<span class="tag">&lt;/<span class="name">text</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">view</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="comment">&lt;!-- 视频1 --&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="comment">&lt;!-- video添加id,用于获取上下文对象--&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;<span class="name">video</span> <span class="attr">id</span>=<span class="string">&quot;1&quot;</span> <span class="attr">src</span>=<span class="string">&quot;http://vfx.mtime.cn/Video/2019/03/18/mp4/190318214226685784.mp4&quot;</span> <span class="attr">bindplay</span>=<span class="string">&quot;handlePlay&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">video</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">view</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="comment">&lt;!-- 视频2 --&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="comment">&lt;!-- video添加id,用于获取上下文对象--&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;<span class="name">video</span> <span class="attr">id</span>=<span class="string">&quot;2&quot;</span> <span class="attr">src</span>=<span class="string">&quot;http://vfx.mtime.cn/Video/2019/03/19/mp4/190319104618910544.mp4&quot;</span> <span class="attr">bindplay</span>=<span class="string">&quot;handlePlay&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">video</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span></span><br></pre></td></tr></table></figure><p><code>js</code>代码</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">handlePlay</span>(<span class="params">event</span>) &#123;</span><br><span class="line">   <span class="comment">//1.先获取下视频的id</span></span><br><span class="line">   <span class="keyword">let</span> videoId = event.<span class="property">target</span>.<span class="property">id</span>;</span><br><span class="line">   <span class="comment">//1.5 判断之前是否创建过了,如果创建过了,则暂停播放</span></span><br><span class="line">   <span class="keyword">if</span>(<span class="variable language_">this</span>.<span class="property">videoContext</span>)&#123;</span><br><span class="line">     <span class="comment">//暂停上一个视频</span></span><br><span class="line">     <span class="variable language_">this</span>.<span class="property">videoContext</span>.<span class="title function_">pause</span>();</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="comment">//2.创建视频的上下文对象</span></span><br><span class="line">   <span class="variable language_">this</span>.<span class="property">videoContext</span> = wx.<span class="title function_">createVideoContext</span>(videoId);</span><br><span class="line">   </span><br><span class="line"> &#125;,</span><br></pre></td></tr></table></figure><h3 id="小程序的video组件设置为100-出现黑色边框"><a href="#小程序的video组件设置为100-出现黑色边框" class="headerlink" title="小程序的video组件设置为100%出现黑色边框"></a>小程序的video组件设置为100%出现黑色边框</h3><ul><li><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/component/video.html">@官方API - video</a></li><li>设置<code>video</code>组件的<code>object-fit</code>属性为<code>cover</code>即可</li></ul><p>如图</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202207131918955.png"></p><h3 id="scroll-view滚动到指定位置并且有过渡效果"><a href="#scroll-view滚动到指定位置并且有过渡效果" class="headerlink" title="scroll-view滚动到指定位置并且有过渡效果"></a>scroll-view滚动到指定位置并且有过渡效果</h3><ul><li><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/component/scroll-view.html">@官网API -scroll-view</a></li><li>实现滚动到指定位置的二个属性<ul><li><code>scroll-into-view</code>: 值应为某子元素id（<strong>id不能以数字开头</strong>）。设置哪个方向可滚动，则在哪个方向滚动到该元素</li><li><code>scroll-with-animation</code> : 在设置滚动条位置时使用动画过渡</li></ul></li><li>实现原理<ul><li>通过动态设置<code>scroll-into-view</code>的值来实现</li></ul></li></ul><h4 id="效果"><a href="#效果" class="headerlink" title="效果"></a>效果</h4><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202207132027726.gif"></p><h4 id="代码实现"><a href="#代码实现" class="headerlink" title="代码实现"></a>代码实现</h4><p><strong>wxml</strong></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--pages/bar/bar.wxml--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">scroll-view</span> <span class="attr">class</span>=<span class="string">&quot;nav-tab&quot;</span> <span class="attr">enable-flex</span> <span class="attr">scroll-x</span> <span class="attr">scroll-into-view</span>=<span class="string">&quot;&#123;&#123;&#x27;scroll&#x27;+selectedId&#125;&#125;&quot;</span> <span class="attr">scroll-with-animation</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;nav&quot;</span> <span class="attr">wx:for</span>=<span class="string">&quot;&#123;&#123;navList&#125;&#125;&quot;</span> <span class="attr">wx:key</span>=<span class="string">&quot;id&quot;</span> <span class="attr">id</span>=<span class="string">&quot;&#123;&#123;&#x27;scroll&#x27;+item.id&#125;&#125;&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;nav-item &#123;&#123;selectedId==item.id?&#x27;active&#x27;:&#x27;&#x27;&#125;&#125;&quot;</span> <span class="attr">bindtap</span>=<span class="string">&quot;changNavTab&quot;</span> <span class="attr">id</span>=<span class="string">&quot;&#123;&#123;item.id&#125;&#125;&quot;</span>&gt;</span></span><br><span class="line">      &#123;&#123;item.name&#125;&#125;</span><br><span class="line">    <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">scroll-view</span>&gt;</span></span><br></pre></td></tr></table></figure><p><strong>js</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// pages/bar/bar.js</span></span><br><span class="line"><span class="title class_">Page</span>(&#123;</span><br><span class="line"></span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * 页面的初始数据</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="attr">data</span>: &#123;</span><br><span class="line">    <span class="comment">//数据列表</span></span><br><span class="line">    <span class="attr">navList</span>: [&#123;</span><br><span class="line">        <span class="string">&quot;id&quot;</span>: <span class="number">58100</span>,</span><br><span class="line">        <span class="string">&quot;name&quot;</span>: <span class="string">&quot;现场&quot;</span>,</span><br><span class="line">        <span class="string">&quot;url&quot;</span>: <span class="literal">null</span>,</span><br><span class="line">        <span class="string">&quot;relatedVideoType&quot;</span>: <span class="literal">null</span>,</span><br><span class="line">        <span class="string">&quot;selectTab&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">        <span class="string">&quot;abExtInfo&quot;</span>: <span class="literal">null</span></span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="string">&quot;id&quot;</span>: <span class="number">60100</span>,</span><br><span class="line">        <span class="string">&quot;name&quot;</span>: <span class="string">&quot;翻唱&quot;</span>,</span><br><span class="line">        <span class="string">&quot;url&quot;</span>: <span class="literal">null</span>,</span><br><span class="line">        <span class="string">&quot;relatedVideoType&quot;</span>: <span class="literal">null</span>,</span><br><span class="line">        <span class="string">&quot;selectTab&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">        <span class="string">&quot;abExtInfo&quot;</span>: <span class="literal">null</span></span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="string">&quot;id&quot;</span>: <span class="number">1101</span>,</span><br><span class="line">        <span class="string">&quot;name&quot;</span>: <span class="string">&quot;舞蹈&quot;</span>,</span><br><span class="line">        <span class="string">&quot;url&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">        <span class="string">&quot;relatedVideoType&quot;</span>: <span class="literal">null</span>,</span><br><span class="line">        <span class="string">&quot;selectTab&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">        <span class="string">&quot;abExtInfo&quot;</span>: <span class="literal">null</span></span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="string">&quot;id&quot;</span>: <span class="number">58101</span>,</span><br><span class="line">        <span class="string">&quot;name&quot;</span>: <span class="string">&quot;听BGM&quot;</span>,</span><br><span class="line">        <span class="string">&quot;url&quot;</span>: <span class="literal">null</span>,</span><br><span class="line">        <span class="string">&quot;relatedVideoType&quot;</span>: <span class="literal">null</span>,</span><br><span class="line">        <span class="string">&quot;selectTab&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">        <span class="string">&quot;abExtInfo&quot;</span>: <span class="literal">null</span></span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="string">&quot;id&quot;</span>: <span class="number">262158</span>,</span><br><span class="line">        <span class="string">&quot;name&quot;</span>: <span class="string">&quot;万有引力&quot;</span>,</span><br><span class="line">        <span class="string">&quot;url&quot;</span>: <span class="literal">null</span>,</span><br><span class="line">        <span class="string">&quot;relatedVideoType&quot;</span>: <span class="literal">null</span>,</span><br><span class="line">        <span class="string">&quot;selectTab&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">        <span class="string">&quot;abExtInfo&quot;</span>: <span class="literal">null</span></span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="string">&quot;id&quot;</span>: <span class="number">261121</span>,</span><br><span class="line">        <span class="string">&quot;name&quot;</span>: <span class="string">&quot;告白&quot;</span>,</span><br><span class="line">        <span class="string">&quot;url&quot;</span>: <span class="literal">null</span>,</span><br><span class="line">        <span class="string">&quot;relatedVideoType&quot;</span>: <span class="literal">null</span>,</span><br><span class="line">        <span class="string">&quot;selectTab&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">        <span class="string">&quot;abExtInfo&quot;</span>: <span class="literal">null</span></span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="string">&quot;id&quot;</span>: <span class="number">259132</span>,</span><br><span class="line">        <span class="string">&quot;name&quot;</span>: <span class="string">&quot;云村放映厅&quot;</span>,</span><br><span class="line">        <span class="string">&quot;url&quot;</span>: <span class="literal">null</span>,</span><br><span class="line">        <span class="string">&quot;relatedVideoType&quot;</span>: <span class="literal">null</span>,</span><br><span class="line">        <span class="string">&quot;selectTab&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">        <span class="string">&quot;abExtInfo&quot;</span>: <span class="literal">null</span></span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="string">&quot;id&quot;</span>: <span class="number">259129</span>,</span><br><span class="line">        <span class="string">&quot;name&quot;</span>: <span class="string">&quot;超燃联盟&quot;</span>,</span><br><span class="line">        <span class="string">&quot;url&quot;</span>: <span class="literal">null</span>,</span><br><span class="line">        <span class="string">&quot;relatedVideoType&quot;</span>: <span class="literal">null</span>,</span><br><span class="line">        <span class="string">&quot;selectTab&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">        <span class="string">&quot;abExtInfo&quot;</span>: <span class="literal">null</span></span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="string">&quot;id&quot;</span>: <span class="number">264120</span>,</span><br><span class="line">        <span class="string">&quot;name&quot;</span>: <span class="string">&quot;热歌看得见&quot;</span>,</span><br><span class="line">        <span class="string">&quot;url&quot;</span>: <span class="literal">null</span>,</span><br><span class="line">        <span class="string">&quot;relatedVideoType&quot;</span>: <span class="literal">null</span>,</span><br><span class="line">        <span class="string">&quot;selectTab&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">        <span class="string">&quot;abExtInfo&quot;</span>: <span class="literal">null</span></span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="string">&quot;id&quot;</span>: <span class="number">243125</span>,</span><br><span class="line">        <span class="string">&quot;name&quot;</span>: <span class="string">&quot;#歌手#&quot;</span>,</span><br><span class="line">        <span class="string">&quot;url&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">        <span class="string">&quot;relatedVideoType&quot;</span>: <span class="literal">null</span>,</span><br><span class="line">        <span class="string">&quot;selectTab&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">        <span class="string">&quot;abExtInfo&quot;</span>: <span class="literal">null</span></span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="string">&quot;id&quot;</span>: <span class="number">243123</span>,</span><br><span class="line">        <span class="string">&quot;name&quot;</span>: <span class="string">&quot;致敬英雄&quot;</span>,</span><br><span class="line">        <span class="string">&quot;url&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">        <span class="string">&quot;relatedVideoType&quot;</span>: <span class="literal">null</span>,</span><br><span class="line">        <span class="string">&quot;selectTab&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">        <span class="string">&quot;abExtInfo&quot;</span>: <span class="literal">null</span></span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="string">&quot;id&quot;</span>: <span class="number">254120</span>,</span><br><span class="line">        <span class="string">&quot;name&quot;</span>: <span class="string">&quot;滚石唱片行&quot;</span>,</span><br><span class="line">        <span class="string">&quot;url&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">        <span class="string">&quot;relatedVideoType&quot;</span>: <span class="literal">null</span>,</span><br><span class="line">        <span class="string">&quot;selectTab&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">        <span class="string">&quot;abExtInfo&quot;</span>: <span class="literal">null</span></span><br><span class="line">      &#125;,</span><br><span class="line">      &#123;</span><br><span class="line">        <span class="string">&quot;id&quot;</span>: <span class="number">249121</span>,</span><br><span class="line">        <span class="string">&quot;name&quot;</span>: <span class="string">&quot;宫崎骏&quot;</span>,</span><br><span class="line">        <span class="string">&quot;url&quot;</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">        <span class="string">&quot;relatedVideoType&quot;</span>: <span class="literal">null</span>,</span><br><span class="line">        <span class="string">&quot;selectTab&quot;</span>: <span class="literal">false</span>,</span><br><span class="line">        <span class="string">&quot;abExtInfo&quot;</span>: <span class="literal">null</span></span><br><span class="line">      &#125;,</span><br><span class="line">    ],</span><br><span class="line">    <span class="comment">//默认选中项</span></span><br><span class="line">    <span class="attr">selectedId</span>:<span class="string">&#x27;58100&#x27;</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="comment">//单击标签跳转到指定标签</span></span><br><span class="line">  <span class="title function_">changNavTab</span>(<span class="params">event</span>)&#123;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">setData</span>(&#123;</span><br><span class="line">      <span class="attr">selectedId</span>:event.<span class="property">target</span>.<span class="property">id</span></span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p><strong>wxss</strong></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* pages/bar/bar.wxss */</span></span><br><span class="line"><span class="selector-class">.nav-tab</span>&#123;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">white-space</span>: nowrap;</span><br><span class="line">  <span class="attribute">margin-top</span>: <span class="number">15</span>rpx;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">60</span>rpx;</span><br><span class="line">  <span class="comment">/* flex-wrap: nowrap; */</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.nav-tab</span> <span class="selector-class">.nav</span> &#123;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">0</span> <span class="number">10</span>rpx;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="number">0</span> <span class="number">10</span>rpx;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">60</span>rpx;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.nav-tab</span> <span class="selector-class">.nav</span> <span class="selector-class">.nav-item</span>&#123;</span><br><span class="line">  <span class="attribute">padding-bottom</span>: <span class="number">7</span>rpx;</span><br><span class="line">  <span class="attribute">font-size</span>: <span class="number">28</span>rpx;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.nav-tab</span> <span class="selector-class">.nav</span> <span class="selector-class">.nav-item</span><span class="selector-class">.active</span>&#123;</span><br><span class="line">  <span class="attribute">border-bottom</span>: <span class="number">1</span>rpx solid <span class="number">#ee5d44</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="用户转发分享和自定义转发分享内容"><a href="#用户转发分享和自定义转发分享内容" class="headerlink" title="用户转发分享和自定义转发分享内容"></a>用户转发分享和自定义转发分享内容</h3><p>如果想要区分是当前页面调用了button触发的分享还是右上角转发菜单触发的分享,只需要在<code>onShareAppMessage</code>回调当中结构出<code>from</code>,通过from判断</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">onShareAppMessage</span>(<span class="params">&#123;<span class="keyword">from</span>&#125;</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="keyword">from</span> === <span class="string">&#x27;menu&#x27;</span>) &#123;</span><br><span class="line">    	<span class="comment">//右上角转发菜单调用的分享</span></span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="comment">//为按钮调用的分享</span></span><br><span class="line">    </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="button实现"><a href="#button实现" class="headerlink" title="button实现"></a>button实现</h4><ul><li>通过设置button的<code>open-type</code>属性为share,即成为了一个分享功能的按钮,其实这样子已经可以使用了,但是我们可以自定义分享的图片和标题~</li><li>想要自定义,就需要在对应页面的js文件当中添加<code>onShareAppMessage</code>回调</li><li><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/reference/api/Page.html#onShareAppMessage-Object-object">@官网API-onShareAppMessage</a></li></ul><p>wxml</p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--pages/share/share.wxml--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">open-type</span>=<span class="string">&quot;share&quot;</span>&gt;</span>单击我分享<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure><p>js</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// pages/share/share.js</span></span><br><span class="line"><span class="title class_">Page</span>(&#123;</span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * 用户点击右上角分享</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="title function_">onShareAppMessage</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">//如果都留空,则都采取默认值</span></span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      <span class="attr">title</span>:<span class="string">&quot;我来分享啦~~~我是自定义内容&quot;</span>,</span><br><span class="line">      <span class="attr">imageUrl</span>:<span class="string">&quot;https://dreamlove.top/img/favicon.png&quot;</span></span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p>自定义内容后的效果</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202207132040598.png"></p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202207132040135.png" alt="默认值效果,图片为自动截取的"></p><h3 id="微信小程序背景音频的播放"><a href="#微信小程序背景音频的播放" class="headerlink" title="微信小程序背景音频的播放"></a>微信小程序背景音频的播放</h3><ul><li><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/api/media/background-audio/wx.getBackgroundAudioManager.html">@官方API - BackgroundAudioManager</a></li><li><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/api/media/background-audio/BackgroundAudioManager.html">@官方API - BackgroundAudioManager 实例</a></li><li>大体步骤如下</li></ul><h4 id="1-获取全局唯一的背景音频管理对象-返回BackgroundAudioManager-实例"><a href="#1-获取全局唯一的背景音频管理对象-返回BackgroundAudioManager-实例" class="headerlink" title="(1)获取全局唯一的背景音频管理对象,返回BackgroundAudioManager 实例"></a>(1)获取全局唯一的背景音频管理对象,返回BackgroundAudioManager 实例</h4><ul><li><p><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/api/media/background-audio/wx.getBackgroundAudioManager.html">@官方API - BackgroundAudioManager</a></p></li><li><p>注意的是</p><ul><li><p>从微信客户端6.7.2版本开始，若需要在小程序切后台后继续播放音频，需要在 <a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/reference/configuration/app.html">app.json</a> 中配置 <code>requiredBackgroundModes</code> 属性。开发版和体验版上可以直接生效，正式版还需通过审核。</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;requiredBackgroundModes&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">    <span class="string">&quot;audio&quot;</span></span><br><span class="line">  <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure></li></ul></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">onLoad</span>(<span class="params">options</span>) &#123;</span><br><span class="line">    <span class="comment">//获取全局唯一的背景音频管理对象</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="property">musicManager</span> = wx.<span class="title function_">getBackgroundAudioManager</span>();</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><h4 id="2-操作BackgroundAudioManager-实例"><a href="#2-操作BackgroundAudioManager-实例" class="headerlink" title="(2)操作BackgroundAudioManager 实例"></a>(2)操作BackgroundAudioManager 实例</h4><ul><li><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/api/media/background-audio/BackgroundAudioManager.html">@官方API - BackgroundAudioManager 实例</a></li><li>比较常用的实例<strong>属性</strong><ul><li><code>startTime</code>: 音频开始播放的位置（单位：s）。</li><li><code>src</code>:音频的数据源（2.2.3 开始支持云文件ID）。默认为空字符串，当设置了新的 src 时，会自动开始播放，目前支持的格式有 m4a, aac, mp3, wav。</li><li><code>title</code>:**(必填)**音频标题，用于原生音频播放器音频标题（必填）。原生音频播放器中的分享功能，分享出去的卡片标题，也将使用该值。</li><li><code>duration</code>:当前音频的长度（单位：s），只有在有合法 src 时返回。（只读）</li><li><code>currentTime</code>:当前音频的播放位置（单位：s），只有在有合法 src 时返回。（只读）</li></ul></li><li>比较常用的<strong>方法</strong><ul><li><code>play()</code>: 播放音乐</li><li><code>pause()</code>: 暂停音乐</li><li><code>seek(跳转到的位置)</code>: 跳转到指定位置(单位为s)</li><li><code>onTimeUpdate(callback)</code>:监听背景音频播放进度更新事件，只有小程序在前台时会回调。</li><li><code>onEnded()</code>:监听背景音频自然播放结束事件</li></ul></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">onLoad</span>(<span class="params">options</span>) &#123;</span><br><span class="line">  <span class="comment">//获取全局唯一的背景音频管理对象</span></span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">musicManager</span> = wx.<span class="title function_">getBackgroundAudioManager</span>();</span><br><span class="line">  <span class="comment">//设置背景音频管理对象的一些属性</span></span><br><span class="line">    <span class="comment">//当设置了src的时候,音频会自动播放</span></span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">musicManager</span>.<span class="property">src</span> = <span class="string">&quot; http://downsc.chinaz.net/Files/DownLoad/sound1/201906/11582.mp3&quot;</span>;</span><br><span class="line">  <span class="comment">//还必须要设置title属性</span></span><br><span class="line">  <span class="variable language_">this</span>.<span class="property">musicManager</span>.<span class="property">title</span> = <span class="string">&quot;测试音频&quot;</span>;</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><h3 id="微信小程序的授权登录和获取openid"><a href="#微信小程序的授权登录和获取openid" class="headerlink" title="微信小程序的授权登录和获取openid"></a>微信小程序的授权登录和获取openid</h3><h4 id="wx-getUserProfile-2022-年-10-月-25-日-24-时后-会失效"><a href="#wx-getUserProfile-2022-年-10-月-25-日-24-时后-会失效" class="headerlink" title="wx.getUserProfile( 2022 年 10 月 25 日 24 时后 会失效)"></a>wx.getUserProfile( 2022 年 10 月 25 日 24 时后 会失效)</h4><ul><li><p><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/api/open-api/user-info/wx.getUserProfile.html">@官方API地址</a></p></li><li><p><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/community/develop/doc/00022c683e8a80b29bed2142b56c01">@即将废弃公告</a></p></li><li><p>授权动作只会发生一次,必须要清除缓存后才可以重新请求授权,并且<strong>授权信息永不过期</strong></p></li><li><p>授权过程如下</p></li></ul><h5 id="1-button按钮绑定回调"><a href="#1-button按钮绑定回调" class="headerlink" title="(1).button按钮绑定回调"></a>(1).button按钮绑定回调</h5><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--pages/userprofile/userprofile.wxml--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">button</span> <span class="attr">bindtap</span>=<span class="string">&quot;handleUserInfo&quot;</span>&gt;</span>单击我申请授权<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span><br></pre></td></tr></table></figure><h5 id="2-自定义一个函数-这里取名-handleUserInfo-并且添加wx-getUserProfile方法-需要注意的是-事件名都是小写"><a href="#2-自定义一个函数-这里取名-handleUserInfo-并且添加wx-getUserProfile方法-需要注意的是-事件名都是小写" class="headerlink" title="(2).自定义一个函数,这里取名  handleUserInfo 并且添加wx.getUserProfile方法 需要注意的是,事件名都是小写"></a>(2).自定义一个函数,这里取名 handleUserInfo 并且添加wx.getUserProfile方法 需要注意的是,<strong>事件名都是小写</strong></h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// pages/userprofile/userprofile.js</span></span><br><span class="line"><span class="title function_">handleUserInfo</span>(<span class="params"></span>) &#123;</span><br><span class="line">    wx.<span class="title function_">getUserProfile</span>(&#123;</span><br><span class="line">      <span class="attr">desc</span>: <span class="string">&#x27;请求授权&#x27;</span>,</span><br><span class="line">      <span class="attr">success</span>: <span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;用户同意授权&quot;</span>);</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(res);</span><br><span class="line">      &#125;,</span><br><span class="line">      <span class="attr">fail</span>: <span class="function">(<span class="params">reason</span>) =&gt;</span> &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;用户拒绝授权&quot;</span>);</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(reason);</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;,</span><br></pre></td></tr></table></figure><h5 id="3-处理授权结果"><a href="#3-处理授权结果" class="headerlink" title="(3).处理授权结果"></a>(3).处理授权结果</h5><ul><li>成功结果输出</li></ul><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202207132155886.png"></p><ul><li>失败结果输出</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">&#123;<span class="attr">errMsg</span>: <span class="string">&quot;getUserProfile:fail getUserProfile:fail auth deny&quot;</span>&#125;</span><br></pre></td></tr></table></figure><h4 id="获取openid"><a href="#获取openid" class="headerlink" title="获取openid"></a>获取openid</h4><ul><li><p><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/api/open-api/login/wx.login.html">@官方API - wx.login</a></p></li><li><p><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/api-backend/open-api/login/auth.code2Session.html">@官方API - auth.code2Session</a></p></li><li><p><code>wx.login</code>与<code>auth.code2Session</code>结合使用</p></li><li><p><strong>wx.login</strong></p><ul><li>调用接口获取登录凭证（code）。通过凭证进而换取用户登录态信息，包括用户在当前小程序的唯一标识（openid）、微信开放平台帐号下的唯一标识（unionid，若当前小程序已绑定到微信开放平台帐号）及本次登录的会话密钥（session_key）等。用户数据的加解密通讯需要依赖会话密钥完成。</li></ul></li><li><p><strong>auth.code2Session</strong></p><ul><li>登录凭证校验。通过 <a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/api/open-api/login/wx.login.html">wx.login</a> 接口获得临时登录凭证 code 后传到开发者服务器调用此接口完成登录流程。更多使用方法详见 <a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/open-ability/login.html">小程序登录</a></li></ul></li><li><p>步骤如下</p></li></ul><h5 id="1-wx-login获取登录凭证"><a href="#1-wx-login获取登录凭证" class="headerlink" title="(1).wx.login获取登录凭证"></a>(1).wx.login获取登录凭证</h5><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">handleOpenid</span>(<span class="params"></span>) &#123;</span><br><span class="line">  wx.<span class="title function_">login</span>(&#123;</span><br><span class="line">    <span class="attr">success</span>: <span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="comment">//获取登录凭证</span></span><br><span class="line">      <span class="keyword">let</span> code = res.<span class="property">code</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><h5 id="2-有了登录凭证-再通过auth-code2Session获取openid"><a href="#2-有了登录凭证-再通过auth-code2Session获取openid" class="headerlink" title="(2).有了登录凭证,再通过auth.code2Session获取openid"></a>(2).有了登录凭证,再通过auth.code2Session获取openid</h5><ul><li>这里我没有自己后台服务器,就直接这样子用了,其实可以通过后台来调用,这样子就不会泄露自己的开发信息了</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//获取openid</span></span><br><span class="line"><span class="title function_">handleOpenid</span>(<span class="params"></span>) &#123;</span><br><span class="line">  wx.<span class="title function_">login</span>(&#123;</span><br><span class="line">    <span class="attr">success</span>: <span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">      <span class="comment">//获取登录凭证</span></span><br><span class="line">      <span class="keyword">let</span> code = res.<span class="property">code</span>;</span><br><span class="line">      <span class="keyword">if</span> (code) &#123;</span><br><span class="line">        <span class="comment">//凭证存在,接着请求换取openid</span></span><br><span class="line">        wx.<span class="title function_">request</span>(&#123;</span><br><span class="line">          <span class="attr">url</span>: <span class="string">&#x27;https://api.weixin.qq.com/sns/jscode2session&#x27;</span>,</span><br><span class="line">          <span class="attr">data</span>: &#123;</span><br><span class="line">            <span class="comment">//登陆换取的凭证</span></span><br><span class="line">            <span class="attr">js_code</span>: code,</span><br><span class="line">            <span class="comment">//小程序的appid</span></span><br><span class="line">            <span class="attr">appid</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">            <span class="comment">//小程序的APPSecret</span></span><br><span class="line">            <span class="attr">secret</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">            <span class="comment">//授权类型,固定值authorization_code</span></span><br><span class="line">            <span class="attr">grant_type</span>: <span class="string">&quot;authorization_code&quot;</span>,</span><br><span class="line">          &#125;,</span><br><span class="line">          <span class="attr">success</span>: <span class="function">(<span class="params">res</span>) =&gt;</span> &#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;获取openid成功&quot;</span>);</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(res);</span><br><span class="line">          &#125;,</span><br><span class="line">          <span class="attr">fail</span>: <span class="function">(<span class="params">error</span>) =&gt;</span> &#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;获取openid失败&quot;</span>, error);</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;)</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;)</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><h5 id="3-处理结果"><a href="#3-处理结果" class="headerlink" title="(3).处理结果"></a>(3).处理结果</h5><ul><li>授权成功输出</li></ul><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202207132209939.png"></p><ul><li>授权失败输出这里错误的appid</li></ul><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202207132210583.png"></p><h3 id="小程序更新数据状态的区别"><a href="#小程序更新数据状态的区别" class="headerlink" title="小程序更新数据状态的区别"></a>小程序更新数据状态的区别</h3><ul><li>实时更新(每发一次请求就更新一部分数据)<ul><li>优点: 用户等待时间较短</li><li>缺点: 多次更新页面</li></ul></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(循环请求数据)&#123;</span><br><span class="line">    <span class="keyword">let</span> 请求的数据 = 发送请求;</span><br><span class="line">    <span class="comment">//实时更新数据</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">setData</span>(&#123;</span><br><span class="line">        <span class="attr">topList</span>:resultArray</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>统一更新<ul><li>优点: 减少更新的次数,只更新1次</li><li>缺点: 网络较差的时候用户等待时间过长,可能会看到白屏</li></ul></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> 全部数据 ; </span><br><span class="line"><span class="keyword">for</span>(循环请求数据)&#123;</span><br><span class="line">    <span class="keyword">let</span> 请求的数据 = 发送请求;</span><br><span class="line">    将请求的数据添加到全部数据</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//统一更新数据</span></span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">setData</span>(&#123;</span><br><span class="line">        <span class="attr">topList</span>:全部数据</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h3 id="小程序的数据存储"><a href="#小程序的数据存储" class="headerlink" title="小程序的数据存储"></a>小程序的数据存储</h3><ul><li><p><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/api/storage/wx.setStorageSync.html">@官方API - 操作数据存储</a></p></li><li><p>不同小程序的数据存储相互独立,互不干扰. <a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/ability/storage.html">@官方解释网站</a></p></li><li><p>同一个微信用户，同一个小程序 storage 上限为 10MB。storage 以用户维度隔离，同一台设备上，A 用户无法读取到 B 用户的数据；不同小程序之间也无法互相读写数据。</p></li><li><p>插件隔离策略</p><ul><li>同一小程序使用不同插件：不同插件之间，插件与小程序之间 storage 不互通。</li><li>不同小程序使用同一插件：同一插件 storage 不互通。</li></ul></li><li><p>与h5的storage不同的是,<strong>h5的需要转化为json格式的字符串后存储</strong>,而<strong>小程序可以直接存储对象,也可以存储json格式字符串</strong></p></li></ul><h4 id="wx-setStorageSync-存数据"><a href="#wx-setStorageSync-存数据" class="headerlink" title="wx.setStorageSync(存数据)"></a>wx.setStorageSync(存数据)</h4><ul><li>将数据存储在本地缓存中指定的 key 中。会覆盖掉原来该 key 对应的内容。除非用户主动删除或因存储空间原因被系统清理，否则数据都一直可用。单个 key 允许存储的最大数据长度为 1MB，所有数据存储上限为 10MB。</li></ul><p>示例 - 直接存储对象</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> data = &#123;</span><br><span class="line">  <span class="string">&quot;objects&quot;</span>: [&#123;</span><br><span class="line">	  <span class="string">&quot;ID&quot;</span>: <span class="string">&quot;1&quot;</span>,</span><br><span class="line">	  <span class="string">&quot;JobTitle&quot;</span>: <span class="string">&quot;Software Engineer&quot;</span>,</span><br><span class="line">	  <span class="string">&quot;EmailAddress&quot;</span>: <span class="string">&quot;Gil_West3007@elnee.tech&quot;</span>,</span><br><span class="line">	  <span class="string">&quot;FirstNameLastName&quot;</span>: <span class="string">&quot;Gil West&quot;</span></span><br><span class="line">	&#125;,</span><br><span class="line">	&#123;</span><br><span class="line">	  <span class="string">&quot;ID&quot;</span>: <span class="string">&quot;2&quot;</span>,</span><br><span class="line">	  <span class="string">&quot;JobTitle&quot;</span>: <span class="string">&quot;Associate Professor&quot;</span>,</span><br><span class="line">	  <span class="string">&quot;EmailAddress&quot;</span>: <span class="string">&quot;Leslie_Little2936@naiker.biz&quot;</span>,</span><br><span class="line">	  <span class="string">&quot;FirstNameLastName&quot;</span>: <span class="string">&quot;Leslie Little&quot;</span></span><br><span class="line">	&#125;,</span><br><span class="line">  ]</span><br><span class="line">&#125;</span><br><span class="line">wx.<span class="title function_">setStorageSync</span>(<span class="string">&#x27;userInfo&#x27;</span>, data.<span class="property">objects</span>);</span><br></pre></td></tr></table></figure><p>调试器信息 - Storage项</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202207140855828.png"></p><h4 id="wx-getStorageSync-取数据"><a href="#wx-getStorageSync-取数据" class="headerlink" title="wx.getStorageSync(取数据)"></a>wx.getStorageSync(取数据)</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">let</span> data1 = wx.<span class="title function_">getStorageSync</span>(<span class="string">&#x27;userInfo&#x27;</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;获取的数据&quot;</span>,data1);</span><br></pre></td></tr></table></figure><p>调试器输出信息</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202207140857570.png"></p><h3 id="小程序scroll-view的下拉刷新"><a href="#小程序scroll-view的下拉刷新" class="headerlink" title="小程序scroll-view的下拉刷新"></a>小程序scroll-view的下拉刷新</h3><ul><li><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/component/scroll-view.html">@官方API-scroll-view组件</a></li><li>scroll-view需要开启和设置的属性<ul><li><code>refresher-triggered</code>: 设置当前下拉刷新状态，true 表示下拉刷新已经被触发，false 表示下拉刷新未被触发(会显示相应的效果)</li><li><code>refresher-enabled</code>: 是否开启自定义下拉刷新,true开启,false关闭(默认)</li></ul></li><li>scroll-view需要添加的回调或监听<ul><li><code>bindrefresherrefresh</code>:自定义下拉刷新被触发</li></ul></li><li>scroll-view需要实现上拉加载更多只需要添加<ul><li><code>bindscrolltolower</code> 滚动到底部&#x2F;右边时触发就可以</li></ul></li><li><strong>顺带一提</strong><ul><li>使用<code>calc</code>计算scroll-view的高度的时候,calc的计算符号和数字之间必须要分开来才可以,否者计算会无效!并且如果小程序有tabBar(底部导航),可以不用减去底部导航的高度(小程序会自动处理)</li></ul></li></ul><h4 id="示例"><a href="#示例" class="headerlink" title="示例"></a>示例</h4><ul><li>模拟请求发送数据,1s后关闭下拉刷新并显示提示</li></ul><p><strong>效果图</strong></p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202207140914075.gif"></p><p><strong>wxml</strong></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--pages/refreshscroll/refreshscroll.wxml--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">scroll-view</span>  <span class="attr">class</span>=<span class="string">&quot;item-container&quot;</span></span></span><br><span class="line"><span class="tag"><span class="attr">scroll-y</span> <span class="attr">refresher-enabled</span> </span></span><br><span class="line"><span class="tag"><span class="attr">refresher-triggered</span>=<span class="string">&quot;&#123;&#123;isRefresh&#125;&#125;&quot;</span></span></span><br><span class="line"><span class="tag"><span class="attr">bindrefresherrefresh</span>=<span class="string">&quot;handlePullRefresh&quot;</span></span></span><br><span class="line"><span class="tag">&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;item&quot;</span>&gt;</span>我是内容<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;item&quot;</span>&gt;</span>我是内容<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;item&quot;</span>&gt;</span>我是内容<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;item&quot;</span>&gt;</span>我是内容<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;item&quot;</span>&gt;</span>我是内容<span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">scroll-view</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p><strong>js</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// pages/refreshscroll/refreshscroll.js</span></span><br><span class="line"><span class="title class_">Page</span>(&#123;</span><br><span class="line">  <span class="comment">/**</span></span><br><span class="line"><span class="comment">   * 页面的初始数据</span></span><br><span class="line"><span class="comment">   */</span></span><br><span class="line">  <span class="attr">data</span>: &#123;</span><br><span class="line">    <span class="attr">isRefresh</span>:<span class="literal">false</span>,<span class="comment">//是否处于正在刷新的状态</span></span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="title function_">handlePullRefresh</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="comment">// console.log(&quot;用户下拉刷新了&quot;);</span></span><br><span class="line">    <span class="comment">//当用户触发下拉刷新,data当中的&#x27;isRefresh&#x27;的值会自动被小程序更改为true</span></span><br><span class="line">    <span class="comment">//模拟请求发送数据,1s后关闭下拉刷新并显示提示</span></span><br><span class="line">    <span class="built_in">setTimeout</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">        <span class="comment">//设置当前下拉刷新状态</span></span><br><span class="line">        <span class="variable language_">this</span>.<span class="title function_">setData</span>(&#123;</span><br><span class="line">          <span class="attr">isRefresh</span>:<span class="literal">false</span></span><br><span class="line">        &#125;);</span><br><span class="line">        <span class="comment">//显示用户提示</span></span><br><span class="line">        wx.<span class="title function_">showToast</span>(&#123;</span><br><span class="line">          <span class="attr">title</span>: <span class="string">&#x27;刷新成功!&#x27;</span>,</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;,<span class="number">1000</span>);</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p><strong>wxss</strong></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* pages/refreshscroll/refreshscroll.wxss */</span></span><br><span class="line"><span class="selector-class">.item-container</span>&#123;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1</span>rpx solid red;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">400</span>rpx;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="为什么小程序没有引入css样式都会生效"><a href="#为什么小程序没有引入css样式都会生效" class="headerlink" title="为什么小程序没有引入css样式都会生效?"></a>为什么小程序没有引入css样式都会生效?</h3><ul><li><p>在html开发的时候,我们会通过@import或者link标签来引入css文件,但是微信小程序却不用我们去引入,那是为什么?</p></li><li><p>我们在<code>app.json</code>的配置项<code>pages</code>已经书写了一条,比如下面代码,我们知道,所有页面都需要写在<code>pages</code>当中</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;pages&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">    <span class="string">&quot;pages/index/index&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;sitemapLocation&quot;</span><span class="punctuation">:</span> <span class="string">&quot;sitemap.json&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure></li><li><p>在我们进入页面,比如说<code>index</code>页面的时候,小程序回去寻找<code>pages/index</code>文件夹,然后依次访问,寻找与访问页面同名的文件,<code>index.wxml,</code> <code>index.wxss</code> ,<code>index.js</code> ,<code>index.json</code></p><ul><li>所以你可以试试看,把<code>index.wxss</code>改为<code>index11.wxss</code>,然后再去访问<code>index</code>页面,就会丢失样式</li></ul></li></ul><h3 id="import-和import-引入css区别和小程序引入css"><a href="#import-和import-引入css区别和小程序引入css" class="headerlink" title="@import 和import 引入css区别和小程序引入css?"></a>@import 和import 引入css区别和小程序引入css?</h3><ul><li>一句话@import引入css样式在html文件,或者css文件当中,</li><li>而import是用来引入模块的,当然,如果有webpack工具也是可以通过import引入css文件的</li></ul><h4 id="import的用法"><a href="#import的用法" class="headerlink" title="@import的用法"></a>@import的用法</h4><ul><li>(1) html当中的link标签中使用</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">link</span> <span class="attr">rel</span>=<span class="string">&quot;stylesheet&quot;</span> <span class="attr">type</span>=<span class="string">&quot;text/css&quot;</span> <span class="attr">href</span>=<span class="string">&quot;css文件路径&quot;</span>/&gt;</span></span><br></pre></td></tr></table></figure><ul><li>(2) html当中的style标签中使用</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">&lt;style type=&quot;text/css&quot;&gt;</span><br><span class="line"></span><br><span class="line">@import url(css文件路径);</span><br><span class="line"></span><br><span class="line">&lt;/style&gt;</span><br></pre></td></tr></table></figure><ul><li>(3) css文件当中引入</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">@<span class="keyword">import</span> <span class="title function_">url</span>(css文件路径);</span><br></pre></td></tr></table></figure><h4 id="import区别"><a href="#import区别" class="headerlink" title="@import区别"></a>@import区别</h4><ul><li>link是XHTML标签，除了加载CSS外，还可以定义RRS等其他事务。@import属于CSS范畴，只能加载CSS</li><li>link引用CSS样式，是和页面加载同步进行加载，@import是等页面加载完后才开始加载。</li><li>link是XHTML标签，无兼容问题；@import是在CSS2.1提出的，低版本的浏览器不支持。</li><li>link支持使用Javascript控制DOM去改变样式；而@import不支持。</li></ul><h4 id="小程序引入css"><a href="#小程序引入css" class="headerlink" title="小程序引入css"></a>小程序引入css</h4><ul><li><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/view/wxss.html">@ 官方API - wxss</a></li><li>使用<code>@import</code>语句可以导入外联样式表，<code>@import</code>后跟需要导入的外联样式表的相对路径，用<code>;</code>表示语句结束</li></ul><p>示例</p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/** app.wxss **/</span></span><br><span class="line"><span class="keyword">@import</span> <span class="string">&quot;common.wxss&quot;</span>;</span><br><span class="line"><span class="selector-class">.middle-p</span> &#123;</span><br><span class="line">  <span class="attribute">padding</span>:<span class="number">15px</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="微信小程序动态类-class"><a href="#微信小程序动态类-class" class="headerlink" title="微信小程序动态类(class)"></a>微信小程序动态类(class)</h3><ul><li>vue的时候动态类</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//vue代码</span></span><br><span class="line">&lt;div :<span class="keyword">class</span>=<span class="string">&quot;&#123; colorRed: isShow &#125;&quot;</span>&gt;哈哈哈&lt;/div&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">//js代码</span></span><br><span class="line"><span class="title function_">data</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">  	<span class="attr">isShow</span>: <span class="literal">true</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//css 类名</span></span><br><span class="line">.<span class="property">colorRed</span> &#123;</span><br><span class="line">	<span class="attr">color</span>:red;</span><br><span class="line">&#125;</span><br><span class="line">.<span class="property">colorBlue</span>&#123;</span><br><span class="line">	<span class="attr">color</span>:blue;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>小程序的动态类</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;!--pages/classdongtai/classdongtai.<span class="property">wxml</span>--&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">text</span> <span class="attr">class</span>=<span class="string">&quot;item &#123;&#123;activeIndex === 0?&#x27;active&#x27;:&#x27;&#x27;&#125;&#125;&quot;</span>&gt;</span>动感超人<span class="tag">&lt;/<span class="name">text</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="comment">// pages/classdongtai/classdongtai.js</span></span><br><span class="line"><span class="attr">data</span>: &#123;</span><br><span class="line">	<span class="attr">activeIndex</span>:<span class="number">0</span></span><br><span class="line">&#125;,</span><br><span class="line"></span><br><span class="line"><span class="comment">/* pages/classdongtai/classdongtai.wxss */</span></span><br><span class="line">.<span class="property">item</span>.<span class="property">active</span>&#123;</span><br><span class="line">  <span class="attr">color</span>: red;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="使用事件委托，children层存在嵌套时无法获取标识符id，非嵌套时可以如期获取-嵌套获取不到标识符id的解决办法"><a href="#使用事件委托，children层存在嵌套时无法获取标识符id，非嵌套时可以如期获取-嵌套获取不到标识符id的解决办法" class="headerlink" title="使用事件委托，children层存在嵌套时无法获取标识符id，非嵌套时可以如期获取,嵌套获取不到标识符id的解决办法"></a>使用事件委托，children层存在嵌套时无法获取标识符id，非嵌套时可以如期获取,嵌套获取不到标识符id的解决办法</h3><ul><li>有人提出这个问题,然后我自己也遇到了这个问题,就来记录下</li><li>先说嵌套时候的解决办法<ul><li>通过为子元素添加mark属性</li><li><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/view/wxml/event.html#mark">@官方API - mark属性</a></li></ul></li><li>mark属性简介<ul><li>在基础库版本 <a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/compatibility.html">2.7.1</a> 以上，可以使用 <code>mark</code> 来识别具体触发事件的 target 节点。此外， <code>mark</code> 还可以用于承载一些自定义数据（类似于 <code>dataset</code> ）。</li><li>当事件触发时，事件冒泡路径上所有的 <code>mark</code> 会被合并，并返回给事件回调函数。（即使事件不是冒泡事件，也会 <code>mark</code> 。）</li></ul></li></ul><h4 id="委派子元素层存在嵌套获取不到标识符id的情况的演示"><a href="#委派子元素层存在嵌套获取不到标识符id的情况的演示" class="headerlink" title="委派子元素层存在嵌套获取不到标识符id的情况的演示"></a>委派子元素层存在嵌套获取不到标识符id的情况的演示</h4><ul><li>本来想通过事件委派,然后通过<code>event.target.id</code>来获取是哪一个元素所触发的,这样子方便寻找数据,但是实际情况却是,当单击到了子元素嵌套的元素的时候,就获取不到<code>id</code>了</li></ul><p>演示动画,可以看到,单击子元素内部的索引号或者邮箱地址的时候,出现获取不到<code>id</code>的情况</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202207141034821.gif"></p><h4 id="委派子元素层存在嵌套获取id的办法-通过mark属性"><a href="#委派子元素层存在嵌套获取id的办法-通过mark属性" class="headerlink" title="委派子元素层存在嵌套获取id的办法-通过mark属性"></a>委派子元素层存在嵌套获取id的办法-通过mark属性</h4><ul><li><a target="_blank" rel="noopener" href="https://developers.weixin.qq.com/miniprogram/dev/framework/view/wxml/event.html#mark">@官方API - mark</a></li></ul><p>实现代码</p><p><strong>wxml</strong></p><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--pages/weipaimark/weipaimark.wxml--&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;list-container&quot;</span> <span class="attr">bindtap</span>=<span class="string">&quot;handleClick&quot;</span> &gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">view</span> <span class="attr">class</span>=<span class="string">&quot;item&quot;</span> <span class="attr">wx:for</span>=<span class="string">&quot;&#123;&#123;userInfo&#125;&#125;&quot;</span> <span class="attr">wx:key</span>=<span class="string">&quot;id&quot;</span> <span class="attr">mark:index</span>=<span class="string">&quot;&#123;&#123;index&#125;&#125;&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">text</span>&gt;</span>索引号&#123;&#123;index&#125;&#125;<span class="tag">&lt;/<span class="name">text</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">text</span>&gt;</span>邮箱地址:&#123;&#123;item.EmailAddress&#125;&#125;<span class="tag">&lt;/<span class="name">text</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">view</span>&gt;</span></span><br></pre></td></tr></table></figure><p><strong>js</strong></p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">handleClick</span>(<span class="params">event</span>)&#123;</span><br><span class="line"><span class="comment">//一旦单击到子元素内容,就会输出为空</span></span><br><span class="line"><span class="comment">// console.log(event.target.id);</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(event.<span class="property">mark</span>.<span class="property">index</span>);</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><p><strong>wxss</strong></p><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* pages/weipaimark/weipaimark.wxss */</span></span><br><span class="line"></span><br><span class="line"><span class="selector-class">.list-container</span>&#123;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1</span>rpx solid red;</span><br><span class="line">&#125;</span><br><span class="line"><span class="selector-class">.list-container</span> <span class="selector-class">.item</span>&#123;</span><br><span class="line">  <span class="attribute">margin-bottom</span>: <span class="number">10</span>rpx;</span><br><span class="line">  <span class="attribute">border</span>: <span class="number">1px</span> solid blue;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>演示效果</strong></p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202207141039723.gif"></p><h3 id="其他知识点"><a href="#其他知识点" class="headerlink" title="其他知识点"></a>其他知识点</h3><h4 id="js操作的键值为变量的时候-需要使用中括号"><a href="#js操作的键值为变量的时候-需要使用中括号" class="headerlink" title="js操作的键值为变量的时候,需要使用中括号"></a>js操作的键值为变量的时候,需要使用中括号</h4><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// pages/refreshscroll/refreshscroll.js</span></span><br><span class="line"><span class="title class_">Page</span>(&#123;</span><br><span class="line">  <span class="attr">data</span>: &#123;</span><br><span class="line">    <span class="attr">priority</span>: &#123;</span><br><span class="line">      <span class="comment">// 优先级</span></span><br><span class="line">      <span class="string">&#x27;vip&#x27;</span>: <span class="number">1111</span>,</span><br><span class="line">      <span class="string">&#x27;user&#x27;</span>: <span class="number">1</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="title function_">onLoad</span>(<span class="params">options</span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> type = <span class="string">&#x27;vip&#x27;</span>;</span><br><span class="line">    <span class="variable language_">this</span>.<span class="title function_">setData</span>(&#123;</span><br><span class="line">      [type]:<span class="number">9999</span></span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">data</span>.<span class="property">priority</span>);</span><br><span class="line">  &#125;,</span><br><span class="line"></span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h4 id="判断类型的时候-老师说最好是全等来判断"><a href="#判断类型的时候-老师说最好是全等来判断" class="headerlink" title="判断类型的时候,老师说最好是全等来判断"></a>判断类型的时候,老师说最好是全等来判断</h4><h4 id="位移运算符转化为数字"><a href="#位移运算符转化为数字" class="headerlink" title="位移运算符转化为数字"></a>位移运算符转化为数字</h4><ul><li>这里使用无符号右移运算符转换为数字~</li><li>如果转换过程中有字母,则返回0</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a = <span class="string">&#x27;12&#x27;</span>;</span><br><span class="line"><span class="keyword">let</span> afterA = a &gt;&gt;&gt; <span class="number">0</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(afterA); <span class="comment">//12</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="keyword">typeof</span> afterA);<span class="comment">//number</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> b = <span class="string">&#x27;a12a&#x27;</span>;</span><br><span class="line"><span class="keyword">let</span> afterB = b &gt;&gt;&gt; <span class="number">0</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(afterB); <span class="comment">//0</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="keyword">typeof</span> afterB);<span class="comment">//number</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> c = <span class="string">&#x27;12a&#x27;</span>;</span><br><span class="line"><span class="keyword">let</span> afterC = c &gt;&gt;&gt; <span class="number">0</span>;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(afterC); <span class="comment">//0</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="keyword">typeof</span> afterC);<span class="comment">//number</span></span><br></pre></td></tr></table></figure><ul><li>补充<ul><li><code>!</code> 一个感叹号表示取反</li><li><code>!!</code> 二个感叹号转化为布尔值</li><li><code>!!!</code> 三个感叹号表示转化为布尔值并取反</li></ul></li></ul><h4 id="object的toString和Array的toString和其他的toString"><a href="#object的toString和Array的toString和其他的toString" class="headerlink" title="object的toString和Array的toString和其他的toString"></a>object的toString和Array的toString和其他的toString</h4><ul><li><p><code>toString()</code>函数的作用是返回object的字符串表示，JavaScript中<strong>object默认的toString()方法</strong>返回字符串<code>[object Object]</code>。定义类时可以实现新的toString()方法，从而返回更加具有可读性的结果。</p></li><li><p>JavaScript对于数组对象、函数对象、正则表达式对象以及Date日期对象均定义了更加具有可读性的toString()方法：</p></li></ul><h5 id="object的toSting-经常用来判断数据类型"><a href="#object的toSting-经常用来判断数据类型" class="headerlink" title="object的toSting(经常用来判断数据类型)"></a>object的toSting(经常用来判断数据类型)</h5><ul><li>如果不是object,而是function,需要通过<code>Object.prototype.toSting.call()</code>来调用</li><li>通过toString()返回类型后可以通过<code>slice(8,-1)</code>来获取具体类型,代码功能为从索引为8的开始取,直到倒数第二个</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//object的toString</span></span><br><span class="line"><span class="keyword">let</span> userInfo = &#123;</span><br><span class="line">	<span class="string">&quot;ID&quot;</span>: <span class="string">&quot;1&quot;</span>,</span><br><span class="line">	<span class="string">&quot;JobTitle&quot;</span>: <span class="string">&quot;Software Engineer&quot;</span>,</span><br><span class="line">	<span class="string">&quot;EmailAddress&quot;</span>: <span class="string">&quot;Gil_West3007@elnee.tech&quot;</span>,</span><br><span class="line">	<span class="string">&quot;FirstNameLastName&quot;</span>: <span class="string">&quot;Gil West&quot;</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">//输出 [object Object]</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(userInfo.<span class="title function_">toString</span>()); </span><br><span class="line"></span><br><span class="line"> <span class="comment">//输出 数据类型 Object</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;数据类型取值&quot;</span>, userInfo.<span class="title function_">toString</span>().<span class="title function_">slice</span>(<span class="number">8</span>, -<span class="number">1</span>));</span><br><span class="line"></span><br><span class="line"><span class="comment">//其他的,比如说数组</span></span><br><span class="line"><span class="keyword">let</span> userList = [<span class="string">&#x27;用户1&#x27;</span>, <span class="string">&#x27;用户2&#x27;</span>];</span><br><span class="line"></span><br><span class="line"><span class="comment">//输出 [object Array]</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">Object</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">toString</span>.<span class="title function_">call</span>(userList));</span><br><span class="line"></span><br><span class="line"><span class="comment">//输出 数据类型取值 Array</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;数据类型取值&quot;</span>, <span class="title class_">Object</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">toString</span>.<span class="title function_">call</span>(userList).<span class="title function_">slice</span>(<span class="number">8</span>, -<span class="number">1</span>));</span><br></pre></td></tr></table></figure><h5 id="array当中的toString"><a href="#array当中的toString" class="headerlink" title="array当中的toString"></a>array当中的toString</h5><ul><li>array当中的toString会返回以逗号分割的字符串</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"> <span class="comment">//array的toString</span></span><br><span class="line"><span class="keyword">let</span> userList = [<span class="string">&#x27;用户1&#x27;</span>,<span class="string">&#x27;用户2&#x27;</span>,<span class="string">&#x27;用户3&#x27;</span>];</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(userList.<span class="title function_">toString</span>());</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="keyword">typeof</span> userList.<span class="title function_">toString</span>());</span><br><span class="line"></span><br><span class="line"><span class="comment">//输出结果</span></span><br><span class="line">用户<span class="number">1</span>,用户<span class="number">2</span>,用户<span class="number">3</span></span><br><span class="line">string</span><br></pre></td></tr></table></figure><h5 id="函数的toString"><a href="#函数的toString" class="headerlink" title="函数的toString"></a>函数的toString</h5><ul><li>function的toString()方法将返回函数的文本定义</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//函数当中的toString</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">sayName</span>(<span class="params"></span>)&#123;</span><br><span class="line">	<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;我叫将军大人&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(sayName.<span class="title function_">toString</span>());</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="keyword">typeof</span> sayName.<span class="title function_">toString</span>());</span><br><span class="line"></span><br><span class="line"><span class="comment">//输出结果</span></span><br><span class="line">	这个应该是字符串</span><br><span class="line">	<span class="keyword">function</span> <span class="title function_">sayName</span>(<span class="params"></span>)&#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;我叫将军大人&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">string</span><br></pre></td></tr></table></figure><h5 id="Date的toString"><a href="#Date的toString" class="headerlink" title="Date的toString"></a>Date的toString</h5><ul><li>Date的toString()方法将返回一个具有可读性的日期时间字符串</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Date的toString()</span></span><br><span class="line"><span class="keyword">var</span> time = <span class="keyword">new</span> <span class="title class_">Date</span>();</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(time.<span class="title function_">toString</span>());</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="keyword">typeof</span> time.<span class="title function_">toString</span>());</span><br><span class="line"></span><br><span class="line"><span class="comment">//输出</span></span><br><span class="line"><span class="title class_">Object</span>的toStirng和<span class="title class_">Array</span>的toString.<span class="property">html</span>:<span class="number">33</span> <span class="title class_">Thu</span> <span class="title class_">Jul</span> <span class="number">14</span> <span class="number">2022</span> <span class="number">09</span>:<span class="number">57</span>:<span class="number">49</span> <span class="variable constant_">GMT</span>+<span class="number">0800</span> (中国标准时间)</span><br><span class="line">string</span><br></pre></td></tr></table></figure><h5 id="正则的toString"><a href="#正则的toString" class="headerlink" title="正则的toString"></a>正则的toString</h5><ul><li>RegExp的toString()方法与function的toString()方法类似，将返回正则表达式的文本定义</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// RegExp的toString()方法</span></span><br><span class="line"><span class="keyword">var</span> reg = <span class="keyword">new</span> <span class="title class_">RegExp</span>(<span class="regexp">/\w&#123;5,10&#125;/</span>);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(reg.<span class="title function_">toString</span>());</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="keyword">typeof</span> reg.<span class="title function_">toString</span>());</span><br><span class="line"></span><br><span class="line"><span class="comment">//输出</span></span><br><span class="line"><span class="regexp">/\w&#123;5,10&#125;/</span></span><br><span class="line">string</span><br></pre></td></tr></table></figure><h4 id="设计模式之单例模式-工厂模式简说"><a href="#设计模式之单例模式-工厂模式简说" class="headerlink" title="设计模式之单例模式,工厂模式简说"></a>设计模式之单例模式,工厂模式简说</h4><h5 id="单例模式"><a href="#单例模式" class="headerlink" title="单例模式"></a>单例模式</h5><ul><li>创建多个对象的情况下,使用一个变量来保存,始终只有一个对象</li><li>当创建新的对象的时候就会把之前的对象覆盖掉</li><li>可以节省内存空间</li></ul><h5 id="工厂模式"><a href="#工厂模式" class="headerlink" title="工厂模式"></a>工厂模式</h5><ul><li>根据不同的参数创建不同的对象</li></ul><h4 id="如果遍历的是数组里面的对象-那么修改遍历时候的遍历项-会影响原数组"><a href="#如果遍历的是数组里面的对象-那么修改遍历时候的遍历项-会影响原数组" class="headerlink" title="如果遍历的是数组里面的对象,那么修改遍历时候的遍历项,会影响原数组"></a>如果遍历的是数组里面的对象,那么修改遍历时候的遍历项,会影响原数组</h4><ul><li><p><a target="_blank" rel="noopener" href="https://codepen.io/superbiubiuman/pen/JjLboVr">@在线演示</a></p></li><li><p>代码示例如下,可以看到,更改了找到的item项目后,原来的也会改变</p></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> array1 = [&#123;</span><br><span class="line">        <span class="attr">name</span>: <span class="string">&#x27;李白1&#x27;</span>,</span><br><span class="line">        <span class="attr">age</span>: <span class="number">18</span></span><br><span class="line">    &#125;, &#123;</span><br><span class="line">        <span class="attr">name</span>: <span class="string">&#x27;李白2&#x27;</span>,</span><br><span class="line">        <span class="attr">age</span>: <span class="number">19</span></span><br><span class="line">    &#125;, &#123;</span><br><span class="line">        <span class="attr">name</span>: <span class="string">&#x27;李白3&#x27;</span>,</span><br><span class="line">        <span class="attr">age</span>: <span class="number">20</span></span><br><span class="line">    &#125;, &#123;</span><br><span class="line">        <span class="attr">name</span>: <span class="string">&#x27;李白4&#x27;</span>,</span><br><span class="line">        <span class="attr">age</span>: <span class="number">21</span></span><br><span class="line">    &#125;];</span><br><span class="line"><span class="comment">//寻找年龄大于20的项目,返回找到的对象</span></span><br><span class="line"><span class="keyword">const</span> found = array1.<span class="title function_">find</span>(<span class="function"><span class="params">element</span> =&gt;</span> element.<span class="property">age</span> &gt; <span class="number">20</span>);</span><br><span class="line"><span class="comment">//对寻找到的对象的年龄进行修改</span></span><br><span class="line">found.<span class="property">age</span> = <span class="number">1888</span>;</span><br><span class="line"><span class="comment">//输出查看当前寻找到的对象</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(found);<span class="comment">//输出 item项目修改.html:31 &#123;name: &#x27;李白4&#x27;, age: 1888&#125;</span></span><br><span class="line"><span class="comment">//将原对象转化为字符串,避免干扰</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="title class_">JSON</span>.<span class="title function_">stringify</span>(array1));<span class="comment">//输出 [&#123;&quot;name&quot;:&quot;李白1&quot;,&quot;age&quot;:18&#125;,&#123;&quot;name&quot;:&quot;李白2&quot;,&quot;age&quot;:19&#125;,&#123;&quot;name&quot;:&quot;李白3&quot;,&quot;age&quot;:20&#125;,&#123;&quot;name&quot;:&quot;李白4&quot;,&quot;age&quot;:1888&#125;]</span></span><br></pre></td></tr></table></figure><h4 id="数组的includes-indexOf-find-findIndex-concat-slice-splice"><a href="#数组的includes-indexOf-find-findIndex-concat-slice-splice" class="headerlink" title="数组的includes,indexOf,find,findIndex ,concat ,slice,splice"></a>数组的includes,indexOf,find,findIndex ,concat ,slice,splice</h4><h5 id="includes"><a href="#includes" class="headerlink" title="includes"></a>includes</h5><ul><li><code>includes()</code> 方法用来判断一个数组是否包含一个指定的值，根据情况，如果包含则返回 <code>true</code>，否则返回 <code>false</code>。</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> array1 = [<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>];</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(array1.<span class="title function_">includes</span>(<span class="number">2</span>));</span><br><span class="line"><span class="comment">// expected output: true</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> pets = [<span class="string">&#x27;cat&#x27;</span>, <span class="string">&#x27;dog&#x27;</span>, <span class="string">&#x27;bat&#x27;</span>];</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(pets.<span class="title function_">includes</span>(<span class="string">&#x27;cat&#x27;</span>));</span><br><span class="line"><span class="comment">// expected output: true</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(pets.<span class="title function_">includes</span>(<span class="string">&#x27;at&#x27;</span>));</span><br><span class="line"><span class="comment">// expected output: false</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h5 id="indexOf"><a href="#indexOf" class="headerlink" title="indexOf"></a>indexOf</h5><ul><li><code>indexOf()</code>方法返回在数组中可以找到一个给定元素的第一个索引，如果不存在，则返回-1。</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> beasts = [<span class="string">&#x27;ant&#x27;</span>, <span class="string">&#x27;bison&#x27;</span>, <span class="string">&#x27;camel&#x27;</span>, <span class="string">&#x27;duck&#x27;</span>, <span class="string">&#x27;bison&#x27;</span>];</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(beasts.<span class="title function_">indexOf</span>(<span class="string">&#x27;bison&#x27;</span>));</span><br><span class="line"><span class="comment">// expected output: 1</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// start from index 2</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(beasts.<span class="title function_">indexOf</span>(<span class="string">&#x27;bison&#x27;</span>, <span class="number">2</span>));</span><br><span class="line"><span class="comment">// expected output: 4</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(beasts.<span class="title function_">indexOf</span>(<span class="string">&#x27;giraffe&#x27;</span>));</span><br><span class="line"><span class="comment">// expected output: -1</span></span><br></pre></td></tr></table></figure><h5 id="find"><a href="#find" class="headerlink" title="find"></a>find</h5><ul><li>方法返回数组中满足提供的测试函数的第一个元素的值,<strong>找到后就会停止查找</strong>,否则返回 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/undefined"><code>undefined</code></a>。</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> array1 = [<span class="number">5</span>, <span class="number">12</span>, <span class="number">8</span>, <span class="number">130</span>, <span class="number">44</span>];</span><br><span class="line"><span class="comment">//统计次数</span></span><br><span class="line"><span class="keyword">let</span> index = <span class="number">0</span></span><br><span class="line"><span class="keyword">const</span> found = array1.<span class="title function_">find</span>(<span class="function"><span class="params">element</span> =&gt;</span> &#123;</span><br><span class="line">    index++;</span><br><span class="line">    <span class="keyword">return</span> element &gt; <span class="number">10</span></span><br><span class="line">&#125;);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;查找的次数&quot;</span>, index); <span class="comment">//输出 2</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;搜索结果&#x27;</span>, found); <span class="comment">//输出 12</span></span><br></pre></td></tr></table></figure><h5 id="findIndex"><a href="#findIndex" class="headerlink" title="findIndex"></a>findIndex</h5><ul><li><code>findIndex()</code>方法返回数组中满足提供的测试函数的第一个元素的<strong>索引</strong>,<strong>找到后就会停止查找</strong>,若没有找到对应元素则返回-1。</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> array1 = [<span class="number">5</span>, <span class="number">12</span>, <span class="number">8</span>, <span class="number">130</span>, <span class="number">44</span>];</span><br><span class="line"><span class="comment">//统计次数</span></span><br><span class="line"><span class="keyword">let</span> index = <span class="number">0</span></span><br><span class="line"><span class="keyword">const</span> found = array1.<span class="title function_">findIndex</span>(<span class="function"><span class="params">element</span> =&gt;</span> &#123;</span><br><span class="line">    index++;</span><br><span class="line">    <span class="keyword">return</span> element &gt; <span class="number">10</span></span><br><span class="line">&#125;);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;查找的次数&quot;</span>, index); <span class="comment">//输出 2</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;搜索结果&#x27;</span>, found); <span class="comment">//输出 1</span></span><br></pre></td></tr></table></figure><h5 id="concat"><a href="#concat" class="headerlink" title="concat"></a>concat</h5><ul><li><code>concat()</code> 方法用于合并两个或多个数组。此方法<strong>不会更改现有数组</strong>，而是返回一个新数组。</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> array1 = [<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>];</span><br><span class="line"><span class="keyword">const</span> array2 = [<span class="string">&#x27;d&#x27;</span>, <span class="string">&#x27;e&#x27;</span>, <span class="string">&#x27;f&#x27;</span>];</span><br><span class="line"><span class="keyword">const</span> array3 = array1.<span class="title function_">concat</span>(array2);</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(array3);</span><br><span class="line"><span class="comment">// expected output: Array [&quot;a&quot;, &quot;b&quot;, &quot;c&quot;, &quot;d&quot;, &quot;e&quot;, &quot;f&quot;]</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h5 id="slice"><a href="#slice" class="headerlink" title="slice"></a>slice</h5><ul><li><code>slice()</code> 方法返回一个新的数组对象，这一对象是一个由 <code>begin</code> 和 <code>end</code> 决定的原数组的<strong>浅拷贝</strong>（包括 <code>begin</code>，不包括<code>end</code>）相当于左闭右开。<strong>原始数组不会被改变</strong>。</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> animals = [<span class="string">&#x27;ant&#x27;</span>, <span class="string">&#x27;bison&#x27;</span>, <span class="string">&#x27;camel&#x27;</span>, <span class="string">&#x27;duck&#x27;</span>, <span class="string">&#x27;elephant&#x27;</span>];</span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(animals.<span class="title function_">slice</span>(<span class="number">1</span>,<span class="number">3</span>));</span><br><span class="line"><span class="comment">// expected output: Array [&#x27;bison&#x27;, &#x27;camel&#x27;]</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(animals.<span class="title function_">slice</span>(<span class="number">2</span>));</span><br><span class="line"><span class="comment">// expected output: Array [&quot;camel&quot;, &quot;duck&quot;, &quot;elephant&quot;]</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(animals.<span class="title function_">slice</span>(<span class="number">2</span>, <span class="number">4</span>));</span><br><span class="line"><span class="comment">// expected output: Array [&quot;camel&quot;, &quot;duck&quot;]</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(animals.<span class="title function_">slice</span>(<span class="number">1</span>, <span class="number">5</span>));</span><br><span class="line"><span class="comment">// expected output: Array [&quot;bison&quot;, &quot;camel&quot;, &quot;duck&quot;, &quot;elephant&quot;]</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(animals.<span class="title function_">slice</span>(-<span class="number">2</span>));</span><br><span class="line"><span class="comment">// expected output: Array [&quot;duck&quot;, &quot;elephant&quot;]</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(animals.<span class="title function_">slice</span>(<span class="number">2</span>, -<span class="number">1</span>));</span><br><span class="line"><span class="comment">// expected output: Array [&quot;camel&quot;, &quot;duck&quot;]</span></span><br><span class="line"></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(animals.<span class="title function_">slice</span>());</span><br><span class="line"><span class="comment">// expected output: Array [&quot;ant&quot;, &quot;bison&quot;, &quot;camel&quot;, &quot;duck&quot;, &quot;elephant&quot;]</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h5 id="splice"><a href="#splice" class="headerlink" title="splice"></a>splice</h5><ul><li><code>splice()</code> 方法通过删除或替换现有元素或者原地添加新的元素来修改数组，并以数组形式返回被修改的内容。<strong>此方法会改变原数组。</strong></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> months = [<span class="string">&#x27;Jan&#x27;</span>, <span class="string">&#x27;March&#x27;</span>, <span class="string">&#x27;April&#x27;</span>, <span class="string">&#x27;June&#x27;</span>];</span><br><span class="line">months.<span class="title function_">splice</span>(<span class="number">1</span>, <span class="number">0</span>, <span class="string">&#x27;Feb&#x27;</span>);</span><br><span class="line"><span class="comment">// inserts at index 1</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(months);</span><br><span class="line"><span class="comment">// expected output: Array [&quot;Jan&quot;, &quot;Feb&quot;, &quot;March&quot;, &quot;April&quot;, &quot;June&quot;]</span></span><br><span class="line"></span><br><span class="line">months.<span class="title function_">splice</span>(<span class="number">4</span>, <span class="number">1</span>, <span class="string">&#x27;May&#x27;</span>);</span><br><span class="line"><span class="comment">// replaces 1 element at index 4</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(months);</span><br><span class="line"><span class="comment">// expected output: Array [&quot;Jan&quot;, &quot;Feb&quot;, &quot;March&quot;, &quot;April&quot;, &quot;May&quot;]</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="calc计算高度时候的一个坑-因为符号问题"><a href="#calc计算高度时候的一个坑-因为符号问题" class="headerlink" title="calc计算高度时候的一个坑,因为符号问题"></a>calc计算高度时候的一个坑,因为符号问题</h4><ul><li><strong>错误的写法</strong>,运算符和操作数之间没有空格分开</li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.video-scroll</span>&#123;</span><br><span class="line">	<span class="attribute">height</span>:<span class="built_in">calc</span>(<span class="number">100vh</span>-<span class="number">83</span>rpx-<span class="number">60</span>rpx-<span class="number">15</span>rpx)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>正确的写法,运算符和操作数之间用空格分开</li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.video-scroll</span>&#123;</span><br><span class="line">	<span class="attribute">height</span>:<span class="built_in">calc</span>(<span class="number">100vh</span> - <span class="number">83</span>rpx - <span class="number">60</span>rpx - <span class="number">15</span>rpx)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="display-flex和float不能同时使用-因为display-flex开启后是内容撑开容器-float就无法浮动了-因为没有位置了"><a href="#display-flex和float不能同时使用-因为display-flex开启后是内容撑开容器-float就无法浮动了-因为没有位置了" class="headerlink" title="display:flex和float不能同时使用!!!因为display:flex开启后是内容撑开容器,float就无法浮动了,因为没有位置了"></a>display:flex和float不能同时使用!!!因为display:flex开启后是内容撑开容器,float就无法浮动了,因为没有位置了</h4><h4 id="开启定位后子元素相当于父元素水平垂直居中"><a href="#开启定位后子元素相当于父元素水平垂直居中" class="headerlink" title="开启定位后子元素相当于父元素水平垂直居中"></a>开启定位后子元素相当于父元素水平垂直居中</h4><ul><li>原理可以看看这<a href="https://www.dreamlove.top/8b5e5cf7.html">@文章</a></li><li>简单来说就是盒子计算的问题</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">&lt;!<span class="variable constant_">DOCTYPE</span> html&gt;</span><br><span class="line">&lt;html lang=&quot;en&quot;&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">    &lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">    &lt;meta http-equiv=&quot;X-UA-Compatible&quot; content=&quot;IE=edge&quot;&gt;</span><br><span class="line">    &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;</span><br><span class="line">    &lt;title&gt;Document&lt;/title&gt;</span><br><span class="line">    &lt;style&gt;</span><br><span class="line">        .father&#123;</span><br><span class="line">            width: 300px;</span><br><span class="line">            height: 300px;</span><br><span class="line">            background-color: red;</span><br><span class="line">            position: relative;</span><br><span class="line">        &#125;</span><br><span class="line">        .son&#123;</span><br><span class="line">            width: 100px;</span><br><span class="line">            height: 100px;</span><br><span class="line">            background-color: blue;</span><br><span class="line">            /* 水平垂直居中 */</span><br><span class="line">            position: absolute;</span><br><span class="line">            left: 0;</span><br><span class="line">            right: 0;</span><br><span class="line">            top: 0;</span><br><span class="line">            bottom: 0;</span><br><span class="line">            margin: auto;</span><br><span class="line">        &#125;</span><br><span class="line">    &lt;/style&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">    &lt;div class=&quot;father&quot;&gt;</span><br><span class="line">        &lt;div class=&quot;son&quot;&gt;</span><br><span class="line"></span><br><span class="line">        &lt;/div&gt;</span><br><span class="line">    &lt;/div&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202207141113891.png" alt="效果图"></p><h4 id="设置旋转的中心点"><a href="#设置旋转的中心点" class="headerlink" title="设置旋转的中心点"></a>设置旋转的中心点</h4><ul><li><p>参考的文章1 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/en-US/docs/Web/CSS/transform-origin">https://developer.mozilla.org/en-US/docs/Web/CSS/transform-origin</a></p></li><li><p>参考的文章2 <a target="_blank" rel="noopener" href="http://www.360doc.com/content/20/0710/23/25947829_923464975.shtml">http://www.360doc.com/content/20/0710/23/25947829_923464975.shtml</a></p></li><li><p>在没有设置旋转中心的时候,我们设置<code>transform:rotate(45deg);</code>都是围绕元素中点来旋转的,如下图</p></li></ul><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202207141055190.png"></p><ul><li><p>但是有时候我们需要设置旋转中心,就需要通过<code>transform-origin</code>来设置了</p><ul><li>比如transform-origin:50px 50px,意思就是将中心点移动到距离容器x轴<code>50px</code>的位置,y轴<code>50px</code>的位置</li></ul><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202207141058474.png"></p></li><li><p>也可以设置为右上角顶点 <code>transform-origin:0 0</code></p></li></ul><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202207141103961.png"></p><ul><li>旋转动画 <code>transform-origin:0 0</code>并设置<code>transform:rotate(45deg)</code>效果</li></ul><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202207141106327.gif"></p><h4 id="小程序生命周期的onLoad当中的参数options-用于路由传参"><a href="#小程序生命周期的onLoad当中的参数options-用于路由传参" class="headerlink" title="小程序生命周期的onLoad当中的参数options,用于路由传参"></a>小程序生命周期的onLoad当中的参数options,用于路由传参</h4><ul><li>原生小程序url有长度限制,如果传参内容过长会自动截取掉</li><li>options.id可以传入的id参数</li></ul><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202207120926235.png"></p><h4 id="在组件-wxss-中不应使用-ID-选择器、属性选择器和标签名选择器。"><a href="#在组件-wxss-中不应使用-ID-选择器、属性选择器和标签名选择器。" class="headerlink" title="在组件 wxss 中不应使用 ID 选择器、属性选择器和标签名选择器。"></a>在组件 wxss 中不应使用 ID 选择器、属性选择器和标签名选择器。</h4><p>如题~</p></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="https://www.dreamlove.top">梦洁</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a href="https://www.dreamlove.top/393ca5ba.html">https://www.dreamlove.top/393ca5ba.html</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://www.dreamlove.top" target="_blank">梦洁小站-属于你我的小天地</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/%E5%B0%8F%E7%A8%8B%E5%BA%8F/">小程序</a><a class="post-meta__tags" href="/tags/%E7%A7%BB%E5%8A%A8%E7%AB%AF/">移动端</a><a class="post-meta__tags" href="/tags/%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F/">微信小程序</a></div><div class="post_share"><div class="social-share" data-image="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202207141615249.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://lib.baomitu.com/butterfly-extsrc/1.1.3/sharejs/dist/css/share.min.css" media="print" onload='this.media="all"'><script src="https://lib.baomitu.com/butterfly-extsrc/1.1.3/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/54e18b38.html" title="网易严选,使用uni-app实现,包含后台数据文件"><img class="cover" src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202207200938664.jpg" onerror='onerror=null,src="/img/404.png"' alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">网易严选,使用uni-app实现,包含后台数据文件</div></div></a></div><div class="next-post pull-right"><a href="/3183a5d5.html" title="微信小程序项目之网易云音乐,云音乐"><img class="cover" src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202207141612584.jpg" onerror='onerror=null,src="/img/404.png"' alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">微信小程序项目之网易云音乐,云音乐</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="/fa4383.html" title="微信小程序模块化、组件传值、添加data,menthods类型等-持续更新"><img class="cover" src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202304091840130.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-02-06</div><div class="title">微信小程序模块化、组件传值、添加data,menthods类型等-持续更新</div></div></a></div><div><a href="/e39b897f.html" title="uni-app知识点和项目上遇到的问题和解决办法的记录"><img class="cover" src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202207221127744.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-07-22</div><div class="title">uni-app知识点和项目上遇到的问题和解决办法的记录</div></div></a></div><div><a href="/3183a5d5.html" title="微信小程序项目之网易云音乐,云音乐"><img class="cover" src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202207141612584.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-07-13</div><div class="title">微信小程序项目之网易云音乐,云音乐</div></div></a></div><div><a href="/54e18b38.html" title="网易严选,使用uni-app实现,包含后台数据文件"><img class="cover" src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202207200938664.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-07-18</div><div class="title">网易严选,使用uni-app实现,包含后台数据文件</div></div></a></div><div><a href="/92310ed8.html" title="微信小程序渐进式骨架屏的写法"><img class="cover" src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202304091725162.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-03-27</div><div class="title">微信小程序渐进式骨架屏的写法</div></div></a></div><div><a href="/3a777744.html" title="微信小程序抓包-夜神模拟器结合BurpSuite抓包(可用于现在最新版本微信)"><img class="cover" src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202406121024897.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-09-04</div><div class="title">微信小程序抓包-夜神模拟器结合BurpSuite抓包(可用于现在最新版本微信)</div></div></a></div></div></div><hr class="custom-hr"><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div></div><div class="comment-wrap"><div><div id="artalk-wrap"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="https://oss.ypggb.com/i/2025/07/01/pk26bw.png" onerror='this.onerror=null,this.src="/img/404.png"' alt="avatar"></div><div class="author-info__name">梦洁</div><div class="author-info__description">小小的字,有大大的梦想~分享我的前端学习过程,经历,错误,和一些其他折腾过程</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">182</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">101</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">73</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/superBiuBiuMan"><i class="fab fa-github"></i><span>关注下我(*￣▽￣*)</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="mailto:zmqdream@qq.com" target="_blank" title="Email"><i class="fas fa-envelope" style="color:#4a7dbe"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">不断更新中,有问题请留言回复(会通过邮箱提醒~)</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B0%8F%E7%A8%8B%E5%BA%8F%E9%A1%B9%E7%9B%AE%E6%83%B3%E4%B8%8B%E8%BD%BD%E9%A1%B9%E7%9B%AE%E7%9A%84%E5%8F%AF%E4%BB%A5%E4%B8%8B%E8%BD%BD%E7%9C%8B%E7%9C%8B"><span class="toc-number">1.</span> <span class="toc-text">小程序项目想下载项目的可以下载看看~</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BC%B9%E6%80%A7%E7%9B%92%E5%B8%83%E5%B1%80%E5%92%8C%E7%A7%BB%E5%8A%A8%E7%AB%AF%E9%80%82%E9%85%8D%E7%9A%84%E4%B8%80%E4%BA%9B%E7%9F%A5%E8%AF%86"><span class="toc-number">2.</span> <span class="toc-text">弹性盒布局和移动端适配的一些知识</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E7%9A%84%E9%80%82%E9%85%8D%E6%96%B9%E6%A1%88"><span class="toc-number">3.</span> <span class="toc-text">微信小程序的适配方案</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF%E5%93%8D%E5%BA%94%E5%BC%8F%E5%92%8C%E8%87%AA%E9%80%82%E5%BA%94"><span class="toc-number">4.</span> <span class="toc-text">什么是响应式和自适应</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%93%8D%E5%BA%94%E5%BC%8F"><span class="toc-number">4.1.</span> <span class="toc-text">响应式</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%87%AA%E9%80%82%E5%BA%94"><span class="toc-number">4.2.</span> <span class="toc-text">自适应</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B0%8F%E7%A8%8B%E5%BA%8F%E9%85%8D%E7%BD%AE"><span class="toc-number">5.</span> <span class="toc-text">小程序配置</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%A8%E5%B1%80%E9%85%8D%E7%BD%AE"><span class="toc-number">5.1.</span> <span class="toc-text">全局配置</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E9%A1%B5%E9%9D%A2%E9%85%8D%E7%BD%AE"><span class="toc-number">5.2.</span> <span class="toc-text">页面配置</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#sitemap"><span class="toc-number">5.3.</span> <span class="toc-text">sitemap</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B0%8F%E7%A8%8B%E5%BA%8F%E6%A1%86%E6%9E%B6%E6%8E%A5%E5%8F%A3"><span class="toc-number">6.</span> <span class="toc-text">小程序框架接口</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#App-js"><span class="toc-number">6.1.</span> <span class="toc-text">App.js</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#xxx-js-%E4%B8%8D%E5%90%8C%E9%A1%B5%E9%9D%A2%E4%B8%8D%E5%90%8C%E7%9A%84xxx-js"><span class="toc-number">6.2.</span> <span class="toc-text">xxx.js(不同页面不同的xxx.js)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#WXML%E8%AF%AD%E6%B3%95"><span class="toc-number">6.3.</span> <span class="toc-text">WXML语法</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E7%BB%91%E5%AE%9A"><span class="toc-number">6.3.1.</span> <span class="toc-text">数据绑定</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%88%97%E8%A1%A8%E6%B8%B2%E6%9F%93"><span class="toc-number">6.3.2.</span> <span class="toc-text">列表渲染</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%9D%A1%E4%BB%B6%E6%B8%B2%E6%9F%93"><span class="toc-number">6.3.3.</span> <span class="toc-text">条件渲染</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#WXS%E6%96%87%E4%BB%B6"><span class="toc-number">6.4.</span> <span class="toc-text">WXS文件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BA%8B%E4%BB%B6%E7%B3%BB%E7%BB%9F-%E4%BA%8B%E4%BB%B6"><span class="toc-number">6.5.</span> <span class="toc-text">事件系统&#x2F;事件</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%A0%87%E5%87%86%E4%BA%8B%E4%BB%B6%E6%B5%81"><span class="toc-number">6.5.1.</span> <span class="toc-text">标准事件流</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E9%9D%9E%E6%A0%87%E5%87%86%E4%BA%8B%E4%BB%B6%E6%B5%81"><span class="toc-number">6.5.2.</span> <span class="toc-text">非标准事件流</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BA%8B%E4%BB%B6%E6%A0%BC%E5%BC%8F%E5%8F%8A%E7%A4%BA%E4%BE%8B"><span class="toc-number">6.5.3.</span> <span class="toc-text">事件格式及示例</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E7%BB%91%E5%AE%9A-1"><span class="toc-number">7.</span> <span class="toc-text">数据绑定</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B0%8F%E7%A8%8B%E5%BA%8F%E8%8E%B7%E5%8F%96-%E6%9F%A5%E8%AF%A2-%E5%85%83%E7%B4%A0-%E7%BB%84%E4%BB%B6%E7%9A%84%E4%BF%A1%E6%81%AF"><span class="toc-number">8.</span> <span class="toc-text">小程序获取,查询,元素&#x2F;组件的信息</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#vue%E5%92%8C%E5%B0%8F%E7%A8%8B%E5%BA%8F%E9%83%BD%E6%98%AF%E5%8D%95%E5%90%91%E6%95%B0%E6%8D%AE%E6%B5%81"><span class="toc-number">9.</span> <span class="toc-text">vue和小程序都是单向数据流</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%80%E4%B9%88%E6%98%AF%E5%8D%95%E5%90%91%E6%95%B0%E6%8D%AE%E6%B5%81"><span class="toc-number">9.1.</span> <span class="toc-text">什么是单向数据流</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#vue"><span class="toc-number">9.2.</span> <span class="toc-text">vue</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B0%8F%E7%A8%8B%E5%BA%8F"><span class="toc-number">9.3.</span> <span class="toc-text">小程序</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#App-json%E5%BD%93%E4%B8%AD%E9%85%8D%E7%BD%AE%E8%B7%AF%E7%94%B1-%E8%B7%AF%E7%94%B1%E8%B7%B3%E8%BD%AC%E5%8F%8A%E9%9C%80%E8%A6%81%E6%B3%A8%E6%84%8F%E7%9A%84%E7%82%B9"><span class="toc-number">10.</span> <span class="toc-text">App.json当中配置路由,路由跳转及需要注意的点</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%B3%A8%E6%84%8F%E7%82%B9"><span class="toc-number">10.1.</span> <span class="toc-text">注意点</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B0%8F%E7%A8%8B%E5%BA%8F%E4%BD%BF%E7%94%A8%E5%88%86%E5%8C%85"><span class="toc-number">11.</span> <span class="toc-text">小程序使用分包</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E5%B8%B8%E8%A7%84%E5%88%86%E5%8C%85%E7%9A%84%E5%85%B7%E4%BD%93%E6%AD%A5%E9%AA%A4%E5%92%8C%E7%A4%BA%E4%BE%8B"><span class="toc-number">11.1.</span> <span class="toc-text">使用常规分包的具体步骤和示例</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1-%E4%B8%BA%E5%88%86%E5%8C%85%E5%BB%BA%E7%AB%8B%E6%96%87%E4%BB%B6%E5%A4%B9"><span class="toc-number">11.1.1.</span> <span class="toc-text">(1).为分包建立文件夹</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-%E5%B0%86%E9%99%A4%E4%BA%86%E5%90%AF%E5%8A%A8%E9%A1%B5-tabBar-%E7%9A%84%E9%A1%B5%E9%9D%A2%E6%96%87%E4%BB%B6%E5%A4%B9%E6%94%BE%E7%BD%AE%E5%9C%A8%E5%88%9A%E5%88%9A%E5%88%9B%E5%BB%BA%E7%9A%84%E6%96%87%E4%BB%B6%E5%A4%B9%E5%BD%93%E4%B8%AD"><span class="toc-number">11.1.2.</span> <span class="toc-text">(2).将除了启动页(tabBar)的页面文件夹放置在刚刚创建的文件夹当中</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3-app-json%E9%85%8D%E7%BD%AE%E9%A1%B9%E4%BF%AE%E6%94%B9"><span class="toc-number">11.1.3.</span> <span class="toc-text">(3).app.json配置项修改</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#4-%E6%9B%B4%E6%94%B9%E8%B7%B3%E8%BD%AC%E8%B7%AF%E5%BE%84"><span class="toc-number">11.1.4.</span> <span class="toc-text">(4).更改跳转路径</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#5-%E7%9B%AE%E5%BD%95%E7%BB%93%E6%9E%84"><span class="toc-number">11.1.5.</span> <span class="toc-text">(5).目录结构</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%86%E5%8C%85%E9%A2%84%E4%B8%8B%E8%BD%BD"><span class="toc-number">11.2.</span> <span class="toc-text">分包预下载</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F"><span class="toc-number">12.</span> <span class="toc-text">微信小程序生命周期</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B0%8F%E7%A8%8B%E5%BA%8F%E4%BD%BF%E7%94%A8npm%E5%8C%85%E6%AD%A5%E9%AA%A4"><span class="toc-number">13.</span> <span class="toc-text">小程序使用npm包步骤</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E5%88%9D%E5%A7%8B%E5%8C%96"><span class="toc-number">13.1.</span> <span class="toc-text">(1).初始化</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E5%8B%BE%E9%80%89%E4%BD%BF%E7%94%A8npm-%E6%9C%89%E7%9A%84%E9%A1%B9%E7%9B%AE%E9%9C%80%E8%A6%81%E5%8B%BE%E9%80%89-%E7%8E%B0%E5%9C%A8%E6%B2%A1%E6%9C%89%E8%BF%99%E4%B8%AA%E9%80%89%E9%A1%B9%E4%BA%86"><span class="toc-number">13.2.</span> <span class="toc-text">(2).勾选使用npm(有的项目需要勾选,现在没有这个选项了)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-%E4%B8%8B%E8%BD%BD%E9%9C%80%E8%A6%81%E7%9A%84%E5%8C%85"><span class="toc-number">13.3.</span> <span class="toc-text">(3).下载需要的包</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-%E5%BC%95%E5%85%A5%E5%8C%85"><span class="toc-number">13.4.</span> <span class="toc-text">(4).引入包</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5-%E5%BC%95%E5%85%A5%E5%8C%85%E5%90%8E%E6%9E%84%E5%BB%BAnpm"><span class="toc-number">13.5.</span> <span class="toc-text">(5).引入包后构建npm</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B0%8F%E7%A8%8B%E5%BA%8F%E7%9A%84ajax%E8%AF%B7%E6%B1%82%E5%8F%91%E9%80%81%E5%92%8C%E4%BA%8C%E6%AC%A1%E5%B0%81%E8%A3%85"><span class="toc-number">14.</span> <span class="toc-text">小程序的ajax请求发送和二次封装</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#ajax%E8%AF%B7%E6%B1%82%E5%8F%91%E9%80%81"><span class="toc-number">14.1.</span> <span class="toc-text">ajax请求发送</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BA%8C%E6%AC%A1%E5%B0%81%E8%A3%85"><span class="toc-number">14.2.</span> <span class="toc-text">二次封装</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B0%8F%E7%A8%8B%E5%BA%8F%E4%BD%BF%E7%94%A8%E8%87%AA%E5%AE%9A%E4%B9%89%E7%BB%84%E4%BB%B6"><span class="toc-number">15.</span> <span class="toc-text">小程序使用自定义组件</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E5%BB%BA%E7%AB%8B%E6%96%87%E4%BB%B6%E5%A4%B9"><span class="toc-number">15.1.</span> <span class="toc-text">(1)建立文件夹</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E5%8F%B3%E9%94%AE%E6%96%B0%E5%BB%BAComponent"><span class="toc-number">15.2.</span> <span class="toc-text">(2)右键新建Component</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#3-%E6%9E%84%E5%BB%BANavHeader%E7%9A%84%E7%BB%93%E6%9E%84"><span class="toc-number">15.3.</span> <span class="toc-text">(3)构建NavHeader的结构</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#4-%E5%85%B6%E4%BB%96%E7%BB%84%E4%BB%B6%E6%B3%A8%E5%86%8C%E4%BD%BF%E7%94%A8%E8%87%AA%E5%AE%9A%E4%B9%89%E7%BB%84%E4%BB%B6"><span class="toc-number">15.4.</span> <span class="toc-text">(4)其他组件注册使用自定义组件</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#5%E4%BD%BF%E7%94%A8%E5%B9%B6%E4%BC%A0%E5%80%BC"><span class="toc-number">15.5.</span> <span class="toc-text">(5使用并传值</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#tabBar%E5%BA%95%E9%83%A8%E5%AF%BC%E8%88%AA%E7%9A%84%E5%AE%9E%E7%8E%B0"><span class="toc-number">16.</span> <span class="toc-text">tabBar底部导航的实现</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#js%E6%96%87%E4%BB%B6%E4%BD%BF%E7%94%A8this-data-xxx%E5%92%8Cthis-xxx%E5%92%8Cthis-setData%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-number">17.</span> <span class="toc-text">js文件使用this.data.xxx和this.xxx和this.setData的区别</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#this-data-xxx"><span class="toc-number">17.1.</span> <span class="toc-text">this.data.xxx</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#this-xxx"><span class="toc-number">17.2.</span> <span class="toc-text">this.xxx</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#this-setData"><span class="toc-number">17.3.</span> <span class="toc-text">this.setData</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%83%E7%B4%A0%E5%BD%93%E4%B8%ADid%E5%92%8Cdata-xxx%E5%9C%A8%E8%BE%A8%E5%88%AB%E6%95%B0%E6%8D%AE%E7%9A%84%E4%BD%BF%E7%94%A8"><span class="toc-number">18.</span> <span class="toc-text">元素当中id和data-xxx在辨别数据的使用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%96%87%E6%9C%AC%E8%B6%85%E5%87%BA%E6%98%BE%E7%A4%BA%E7%9C%81%E7%95%A5%E5%8F%B7%E6%88%96%E6%96%87%E6%9C%AC%E8%B6%85%E5%87%BA%E4%B8%A4%E8%A1%8C%E5%90%8E%E6%98%BE%E7%A4%BA%E7%9C%81%E7%95%A5%E5%8F%B7"><span class="toc-number">19.</span> <span class="toc-text">文本超出显示省略号或文本超出两行后显示省略号</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%87%E6%9C%AC%E8%B6%85%E5%87%BA%E6%98%BE%E7%A4%BA%E7%9C%81%E7%95%A5%E5%8F%B7"><span class="toc-number">19.1.</span> <span class="toc-text">文本超出显示省略号</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%87%E6%9C%AC%E8%B6%85%E5%87%BA%E4%B8%A4%E8%A1%8C%E5%90%8E%E6%98%BE%E7%A4%BA%E7%9C%81%E7%95%A5%E5%8F%B7"><span class="toc-number">19.2.</span> <span class="toc-text">文本超出两行后显示省略号</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B0%8F%E7%A8%8B%E5%BA%8F%E7%9A%84%E8%BD%BB%E6%8F%90%E7%A4%BA-Toast"><span class="toc-number">20.</span> <span class="toc-text">小程序的轻提示(Toast)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%BD%93%E4%B8%AD%E8%A7%86%E9%A2%91%E7%9A%84%E6%93%8D%E4%BD%9C"><span class="toc-number">21.</span> <span class="toc-text">小程序当中视频的操作</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#0-wxml%E5%9F%BA%E6%9C%AC%E7%BB%93%E6%9E%84"><span class="toc-number">21.1.</span> <span class="toc-text">(0)wxml基本结构</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E5%88%9B%E5%BB%BA%E8%A7%86%E9%A2%91%E4%B8%8A%E4%B8%8B%E6%96%87%E5%AF%B9%E8%B1%A1"><span class="toc-number">21.2.</span> <span class="toc-text">(1)创建视频上下文对象</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E6%8E%A7%E5%88%B6%E8%A7%86%E9%A2%91%E7%9A%84%E6%92%AD%E6%94%BE-%E6%9A%82%E5%81%9C-%E8%B7%B3%E8%BD%AC"><span class="toc-number">21.3.</span> <span class="toc-text">(2)控制视频的播放&#x2F;暂停&#x2F;跳转</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%A1%A5%E5%85%85-%E7%94%B1%E4%BA%8E%E5%BE%AE%E4%BF%A1%E9%97%AE%E9%A2%98-%E8%A7%86%E9%A2%91%E6%92%AD%E6%94%BE%E4%B8%8B%E4%B8%80%E4%B8%AA%E7%9A%84%E6%97%B6%E5%80%99%E4%B8%8D%E4%BC%9A%E8%87%AA%E5%8A%A8%E6%9A%82%E5%81%9C%E4%B8%8A%E4%B8%80%E4%B8%AA%E8%A7%86%E9%A2%91-%E6%89%80%E4%BB%A5%E8%BF%99%E9%87%8C%E9%9C%80%E8%A6%81%E4%BD%BF%E7%94%A8%E8%A7%86%E9%A2%91%E4%B8%8A%E4%B8%8B%E6%96%87%E8%BF%9B%E8%A1%8C%E5%A4%84%E7%90%86"><span class="toc-number">21.4.</span> <span class="toc-text">补充:由于微信问题,视频播放下一个的时候不会自动暂停上一个视频,所以这里需要使用视频上下文进行处理</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B0%8F%E7%A8%8B%E5%BA%8F%E7%9A%84video%E7%BB%84%E4%BB%B6%E8%AE%BE%E7%BD%AE%E4%B8%BA100-%E5%87%BA%E7%8E%B0%E9%BB%91%E8%89%B2%E8%BE%B9%E6%A1%86"><span class="toc-number">22.</span> <span class="toc-text">小程序的video组件设置为100%出现黑色边框</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#scroll-view%E6%BB%9A%E5%8A%A8%E5%88%B0%E6%8C%87%E5%AE%9A%E4%BD%8D%E7%BD%AE%E5%B9%B6%E4%B8%94%E6%9C%89%E8%BF%87%E6%B8%A1%E6%95%88%E6%9E%9C"><span class="toc-number">23.</span> <span class="toc-text">scroll-view滚动到指定位置并且有过渡效果</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%88%E6%9E%9C"><span class="toc-number">23.1.</span> <span class="toc-text">效果</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BB%A3%E7%A0%81%E5%AE%9E%E7%8E%B0"><span class="toc-number">23.2.</span> <span class="toc-text">代码实现</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%94%A8%E6%88%B7%E8%BD%AC%E5%8F%91%E5%88%86%E4%BA%AB%E5%92%8C%E8%87%AA%E5%AE%9A%E4%B9%89%E8%BD%AC%E5%8F%91%E5%88%86%E4%BA%AB%E5%86%85%E5%AE%B9"><span class="toc-number">24.</span> <span class="toc-text">用户转发分享和自定义转发分享内容</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#button%E5%AE%9E%E7%8E%B0"><span class="toc-number">24.1.</span> <span class="toc-text">button实现</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E8%83%8C%E6%99%AF%E9%9F%B3%E9%A2%91%E7%9A%84%E6%92%AD%E6%94%BE"><span class="toc-number">25.</span> <span class="toc-text">微信小程序背景音频的播放</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#1-%E8%8E%B7%E5%8F%96%E5%85%A8%E5%B1%80%E5%94%AF%E4%B8%80%E7%9A%84%E8%83%8C%E6%99%AF%E9%9F%B3%E9%A2%91%E7%AE%A1%E7%90%86%E5%AF%B9%E8%B1%A1-%E8%BF%94%E5%9B%9EBackgroundAudioManager-%E5%AE%9E%E4%BE%8B"><span class="toc-number">25.1.</span> <span class="toc-text">(1)获取全局唯一的背景音频管理对象,返回BackgroundAudioManager 实例</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#2-%E6%93%8D%E4%BD%9CBackgroundAudioManager-%E5%AE%9E%E4%BE%8B"><span class="toc-number">25.2.</span> <span class="toc-text">(2)操作BackgroundAudioManager 实例</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E7%9A%84%E6%8E%88%E6%9D%83%E7%99%BB%E5%BD%95%E5%92%8C%E8%8E%B7%E5%8F%96openid"><span class="toc-number">26.</span> <span class="toc-text">微信小程序的授权登录和获取openid</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#wx-getUserProfile-2022-%E5%B9%B4-10-%E6%9C%88-25-%E6%97%A5-24-%E6%97%B6%E5%90%8E-%E4%BC%9A%E5%A4%B1%E6%95%88"><span class="toc-number">26.1.</span> <span class="toc-text">wx.getUserProfile( 2022 年 10 月 25 日 24 时后 会失效)</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1-button%E6%8C%89%E9%92%AE%E7%BB%91%E5%AE%9A%E5%9B%9E%E8%B0%83"><span class="toc-number">26.1.1.</span> <span class="toc-text">(1).button按钮绑定回调</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-%E8%87%AA%E5%AE%9A%E4%B9%89%E4%B8%80%E4%B8%AA%E5%87%BD%E6%95%B0-%E8%BF%99%E9%87%8C%E5%8F%96%E5%90%8D-handleUserInfo-%E5%B9%B6%E4%B8%94%E6%B7%BB%E5%8A%A0wx-getUserProfile%E6%96%B9%E6%B3%95-%E9%9C%80%E8%A6%81%E6%B3%A8%E6%84%8F%E7%9A%84%E6%98%AF-%E4%BA%8B%E4%BB%B6%E5%90%8D%E9%83%BD%E6%98%AF%E5%B0%8F%E5%86%99"><span class="toc-number">26.1.2.</span> <span class="toc-text">(2).自定义一个函数,这里取名 handleUserInfo 并且添加wx.getUserProfile方法 需要注意的是,事件名都是小写</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3-%E5%A4%84%E7%90%86%E6%8E%88%E6%9D%83%E7%BB%93%E6%9E%9C"><span class="toc-number">26.1.3.</span> <span class="toc-text">(3).处理授权结果</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%8E%B7%E5%8F%96openid"><span class="toc-number">26.2.</span> <span class="toc-text">获取openid</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#1-wx-login%E8%8E%B7%E5%8F%96%E7%99%BB%E5%BD%95%E5%87%AD%E8%AF%81"><span class="toc-number">26.2.1.</span> <span class="toc-text">(1).wx.login获取登录凭证</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#2-%E6%9C%89%E4%BA%86%E7%99%BB%E5%BD%95%E5%87%AD%E8%AF%81-%E5%86%8D%E9%80%9A%E8%BF%87auth-code2Session%E8%8E%B7%E5%8F%96openid"><span class="toc-number">26.2.2.</span> <span class="toc-text">(2).有了登录凭证,再通过auth.code2Session获取openid</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#3-%E5%A4%84%E7%90%86%E7%BB%93%E6%9E%9C"><span class="toc-number">26.2.3.</span> <span class="toc-text">(3).处理结果</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B0%8F%E7%A8%8B%E5%BA%8F%E6%9B%B4%E6%96%B0%E6%95%B0%E6%8D%AE%E7%8A%B6%E6%80%81%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-number">27.</span> <span class="toc-text">小程序更新数据状态的区别</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B0%8F%E7%A8%8B%E5%BA%8F%E7%9A%84%E6%95%B0%E6%8D%AE%E5%AD%98%E5%82%A8"><span class="toc-number">28.</span> <span class="toc-text">小程序的数据存储</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#wx-setStorageSync-%E5%AD%98%E6%95%B0%E6%8D%AE"><span class="toc-number">28.1.</span> <span class="toc-text">wx.setStorageSync(存数据)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#wx-getStorageSync-%E5%8F%96%E6%95%B0%E6%8D%AE"><span class="toc-number">28.2.</span> <span class="toc-text">wx.getStorageSync(取数据)</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%B0%8F%E7%A8%8B%E5%BA%8Fscroll-view%E7%9A%84%E4%B8%8B%E6%8B%89%E5%88%B7%E6%96%B0"><span class="toc-number">29.</span> <span class="toc-text">小程序scroll-view的下拉刷新</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%A4%BA%E4%BE%8B"><span class="toc-number">29.1.</span> <span class="toc-text">示例</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%B8%BA%E4%BB%80%E4%B9%88%E5%B0%8F%E7%A8%8B%E5%BA%8F%E6%B2%A1%E6%9C%89%E5%BC%95%E5%85%A5css%E6%A0%B7%E5%BC%8F%E9%83%BD%E4%BC%9A%E7%94%9F%E6%95%88"><span class="toc-number">30.</span> <span class="toc-text">为什么小程序没有引入css样式都会生效?</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#import-%E5%92%8Cimport-%E5%BC%95%E5%85%A5css%E5%8C%BA%E5%88%AB%E5%92%8C%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%BC%95%E5%85%A5css"><span class="toc-number">31.</span> <span class="toc-text">@import 和import 引入css区别和小程序引入css?</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#import%E7%9A%84%E7%94%A8%E6%B3%95"><span class="toc-number">31.1.</span> <span class="toc-text">@import的用法</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#import%E5%8C%BA%E5%88%AB"><span class="toc-number">31.2.</span> <span class="toc-text">@import区别</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%BC%95%E5%85%A5css"><span class="toc-number">31.3.</span> <span class="toc-text">小程序引入css</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%BE%AE%E4%BF%A1%E5%B0%8F%E7%A8%8B%E5%BA%8F%E5%8A%A8%E6%80%81%E7%B1%BB-class"><span class="toc-number">32.</span> <span class="toc-text">微信小程序动态类(class)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E4%BA%8B%E4%BB%B6%E5%A7%94%E6%89%98%EF%BC%8Cchildren%E5%B1%82%E5%AD%98%E5%9C%A8%E5%B5%8C%E5%A5%97%E6%97%B6%E6%97%A0%E6%B3%95%E8%8E%B7%E5%8F%96%E6%A0%87%E8%AF%86%E7%AC%A6id%EF%BC%8C%E9%9D%9E%E5%B5%8C%E5%A5%97%E6%97%B6%E5%8F%AF%E4%BB%A5%E5%A6%82%E6%9C%9F%E8%8E%B7%E5%8F%96-%E5%B5%8C%E5%A5%97%E8%8E%B7%E5%8F%96%E4%B8%8D%E5%88%B0%E6%A0%87%E8%AF%86%E7%AC%A6id%E7%9A%84%E8%A7%A3%E5%86%B3%E5%8A%9E%E6%B3%95"><span class="toc-number">33.</span> <span class="toc-text">使用事件委托，children层存在嵌套时无法获取标识符id，非嵌套时可以如期获取,嵌套获取不到标识符id的解决办法</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A7%94%E6%B4%BE%E5%AD%90%E5%85%83%E7%B4%A0%E5%B1%82%E5%AD%98%E5%9C%A8%E5%B5%8C%E5%A5%97%E8%8E%B7%E5%8F%96%E4%B8%8D%E5%88%B0%E6%A0%87%E8%AF%86%E7%AC%A6id%E7%9A%84%E6%83%85%E5%86%B5%E7%9A%84%E6%BC%94%E7%A4%BA"><span class="toc-number">33.1.</span> <span class="toc-text">委派子元素层存在嵌套获取不到标识符id的情况的演示</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A7%94%E6%B4%BE%E5%AD%90%E5%85%83%E7%B4%A0%E5%B1%82%E5%AD%98%E5%9C%A8%E5%B5%8C%E5%A5%97%E8%8E%B7%E5%8F%96id%E7%9A%84%E5%8A%9E%E6%B3%95-%E9%80%9A%E8%BF%87mark%E5%B1%9E%E6%80%A7"><span class="toc-number">33.2.</span> <span class="toc-text">委派子元素层存在嵌套获取id的办法-通过mark属性</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%B6%E4%BB%96%E7%9F%A5%E8%AF%86%E7%82%B9"><span class="toc-number">34.</span> <span class="toc-text">其他知识点</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#js%E6%93%8D%E4%BD%9C%E7%9A%84%E9%94%AE%E5%80%BC%E4%B8%BA%E5%8F%98%E9%87%8F%E7%9A%84%E6%97%B6%E5%80%99-%E9%9C%80%E8%A6%81%E4%BD%BF%E7%94%A8%E4%B8%AD%E6%8B%AC%E5%8F%B7"><span class="toc-number">34.1.</span> <span class="toc-text">js操作的键值为变量的时候,需要使用中括号</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%88%A4%E6%96%AD%E7%B1%BB%E5%9E%8B%E7%9A%84%E6%97%B6%E5%80%99-%E8%80%81%E5%B8%88%E8%AF%B4%E6%9C%80%E5%A5%BD%E6%98%AF%E5%85%A8%E7%AD%89%E6%9D%A5%E5%88%A4%E6%96%AD"><span class="toc-number">34.2.</span> <span class="toc-text">判断类型的时候,老师说最好是全等来判断</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BD%8D%E7%A7%BB%E8%BF%90%E7%AE%97%E7%AC%A6%E8%BD%AC%E5%8C%96%E4%B8%BA%E6%95%B0%E5%AD%97"><span class="toc-number">34.3.</span> <span class="toc-text">位移运算符转化为数字</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#object%E7%9A%84toString%E5%92%8CArray%E7%9A%84toString%E5%92%8C%E5%85%B6%E4%BB%96%E7%9A%84toString"><span class="toc-number">34.4.</span> <span class="toc-text">object的toString和Array的toString和其他的toString</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#object%E7%9A%84toSting-%E7%BB%8F%E5%B8%B8%E7%94%A8%E6%9D%A5%E5%88%A4%E6%96%AD%E6%95%B0%E6%8D%AE%E7%B1%BB%E5%9E%8B"><span class="toc-number">34.4.1.</span> <span class="toc-text">object的toSting(经常用来判断数据类型)</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#array%E5%BD%93%E4%B8%AD%E7%9A%84toString"><span class="toc-number">34.4.2.</span> <span class="toc-text">array当中的toString</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%87%BD%E6%95%B0%E7%9A%84toString"><span class="toc-number">34.4.3.</span> <span class="toc-text">函数的toString</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Date%E7%9A%84toString"><span class="toc-number">34.4.4.</span> <span class="toc-text">Date的toString</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%AD%A3%E5%88%99%E7%9A%84toString"><span class="toc-number">34.4.5.</span> <span class="toc-text">正则的toString</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F%E4%B9%8B%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F-%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F%E7%AE%80%E8%AF%B4"><span class="toc-number">34.5.</span> <span class="toc-text">设计模式之单例模式,工厂模式简说</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%8D%95%E4%BE%8B%E6%A8%A1%E5%BC%8F"><span class="toc-number">34.5.1.</span> <span class="toc-text">单例模式</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%B7%A5%E5%8E%82%E6%A8%A1%E5%BC%8F"><span class="toc-number">34.5.2.</span> <span class="toc-text">工厂模式</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A6%82%E6%9E%9C%E9%81%8D%E5%8E%86%E7%9A%84%E6%98%AF%E6%95%B0%E7%BB%84%E9%87%8C%E9%9D%A2%E7%9A%84%E5%AF%B9%E8%B1%A1-%E9%82%A3%E4%B9%88%E4%BF%AE%E6%94%B9%E9%81%8D%E5%8E%86%E6%97%B6%E5%80%99%E7%9A%84%E9%81%8D%E5%8E%86%E9%A1%B9-%E4%BC%9A%E5%BD%B1%E5%93%8D%E5%8E%9F%E6%95%B0%E7%BB%84"><span class="toc-number">34.6.</span> <span class="toc-text">如果遍历的是数组里面的对象,那么修改遍历时候的遍历项,会影响原数组</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E7%BB%84%E7%9A%84includes-indexOf-find-findIndex-concat-slice-splice"><span class="toc-number">34.7.</span> <span class="toc-text">数组的includes,indexOf,find,findIndex ,concat ,slice,splice</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#includes"><span class="toc-number">34.7.1.</span> <span class="toc-text">includes</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#indexOf"><span class="toc-number">34.7.2.</span> <span class="toc-text">indexOf</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#find"><span class="toc-number">34.7.3.</span> <span class="toc-text">find</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#findIndex"><span class="toc-number">34.7.4.</span> <span class="toc-text">findIndex</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#concat"><span class="toc-number">34.7.5.</span> <span class="toc-text">concat</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#slice"><span class="toc-number">34.7.6.</span> <span class="toc-text">slice</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#splice"><span class="toc-number">34.7.7.</span> <span class="toc-text">splice</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#calc%E8%AE%A1%E7%AE%97%E9%AB%98%E5%BA%A6%E6%97%B6%E5%80%99%E7%9A%84%E4%B8%80%E4%B8%AA%E5%9D%91-%E5%9B%A0%E4%B8%BA%E7%AC%A6%E5%8F%B7%E9%97%AE%E9%A2%98"><span class="toc-number">34.8.</span> <span class="toc-text">calc计算高度时候的一个坑,因为符号问题</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#display-flex%E5%92%8Cfloat%E4%B8%8D%E8%83%BD%E5%90%8C%E6%97%B6%E4%BD%BF%E7%94%A8-%E5%9B%A0%E4%B8%BAdisplay-flex%E5%BC%80%E5%90%AF%E5%90%8E%E6%98%AF%E5%86%85%E5%AE%B9%E6%92%91%E5%BC%80%E5%AE%B9%E5%99%A8-float%E5%B0%B1%E6%97%A0%E6%B3%95%E6%B5%AE%E5%8A%A8%E4%BA%86-%E5%9B%A0%E4%B8%BA%E6%B2%A1%E6%9C%89%E4%BD%8D%E7%BD%AE%E4%BA%86"><span class="toc-number">34.9.</span> <span class="toc-text">display:flex和float不能同时使用!!!因为display:flex开启后是内容撑开容器,float就无法浮动了,因为没有位置了</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%BC%80%E5%90%AF%E5%AE%9A%E4%BD%8D%E5%90%8E%E5%AD%90%E5%85%83%E7%B4%A0%E7%9B%B8%E5%BD%93%E4%BA%8E%E7%88%B6%E5%85%83%E7%B4%A0%E6%B0%B4%E5%B9%B3%E5%9E%82%E7%9B%B4%E5%B1%85%E4%B8%AD"><span class="toc-number">34.10.</span> <span class="toc-text">开启定位后子元素相当于父元素水平垂直居中</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%AE%BE%E7%BD%AE%E6%97%8B%E8%BD%AC%E7%9A%84%E4%B8%AD%E5%BF%83%E7%82%B9"><span class="toc-number">34.11.</span> <span class="toc-text">设置旋转的中心点</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%B0%8F%E7%A8%8B%E5%BA%8F%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E7%9A%84onLoad%E5%BD%93%E4%B8%AD%E7%9A%84%E5%8F%82%E6%95%B0options-%E7%94%A8%E4%BA%8E%E8%B7%AF%E7%94%B1%E4%BC%A0%E5%8F%82"><span class="toc-number">34.12.</span> <span class="toc-text">小程序生命周期的onLoad当中的参数options,用于路由传参</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9C%A8%E7%BB%84%E4%BB%B6-wxss-%E4%B8%AD%E4%B8%8D%E5%BA%94%E4%BD%BF%E7%94%A8-ID-%E9%80%89%E6%8B%A9%E5%99%A8%E3%80%81%E5%B1%9E%E6%80%A7%E9%80%89%E6%8B%A9%E5%99%A8%E5%92%8C%E6%A0%87%E7%AD%BE%E5%90%8D%E9%80%89%E6%8B%A9%E5%99%A8%E3%80%82"><span class="toc-number">34.13.</span> <span class="toc-text">在组件 wxss 中不应使用 ID 选择器、属性选择器和标签名选择器。</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/31d04109.html" title="java枚举和mybaits-plus结合实现映射输出和存储">java枚举和mybaits-plus结合实现映射输出和存储</a><time datetime="2025-05-26T20:23:14.000Z" title="发表于 2025-05-26 20:23:14">2025-05-26</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/dc4ed705.html" title="qq农场,牧场解包查看导出swf文件内容图片"><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202503251433885.png" onerror='this.onerror=null,this.src="/img/404.png"' alt="qq农场,牧场解包查看导出swf文件内容图片"></a><div class="content"><a class="title" href="/dc4ed705.html" title="qq农场,牧场解包查看导出swf文件内容图片">qq农场,牧场解包查看导出swf文件内容图片</a><time datetime="2025-03-25T14:28:01.000Z" title="发表于 2025-03-25 14:28:01">2025-03-25</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/ed2e6c27.html" title="移动云盘加密分析-以链接有消息检查为例子"><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202503251433302.png" onerror='this.onerror=null,this.src="/img/404.png"' alt="移动云盘加密分析-以链接有消息检查为例子"></a><div class="content"><a class="title" href="/ed2e6c27.html" title="移动云盘加密分析-以链接有消息检查为例子">移动云盘加密分析-以链接有消息检查为例子</a><time datetime="2025-03-22T12:24:10.000Z" title="发表于 2025-03-22 12:24:10">2025-03-22</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/3cde95bc.html" title="mstsc使用proxifier走clash代理降低延迟"><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202503030912164.png" onerror='this.onerror=null,this.src="/img/404.png"' alt="mstsc使用proxifier走clash代理降低延迟"></a><div class="content"><a class="title" href="/3cde95bc.html" title="mstsc使用proxifier走clash代理降低延迟">mstsc使用proxifier走clash代理降低延迟</a><time datetime="2025-03-03T09:11:01.000Z" title="发表于 2025-03-03 09:11:01">2025-03-03</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/d6a2907d.html" title="适配FASTGPT基础AI模板-适合对付领导突发AI-奇想而生的模板"><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202502201550402.png" onerror='this.onerror=null,this.src="/img/404.png"' alt="适配FASTGPT基础AI模板-适合对付领导突发AI-奇想而生的模板"></a><div class="content"><a class="title" href="/d6a2907d.html" title="适配FASTGPT基础AI模板-适合对付领导突发AI-奇想而生的模板">适配FASTGPT基础AI模板-适合对付领导突发AI-奇想而生的模板</a><time datetime="2025-02-20T15:45:25.000Z" title="发表于 2025-02-20 15:45:25">2025-02-20</time></div></div></div></div></div></div></main><footer id="footer" style="background-image:url(https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202207141615249.jpg)"><div id="footer-wrap"><div class="copyright">&copy;2021 - 2025 By 梦洁</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js?v=4.13.0"></script><script src="/js/main.js?v=4.13.0"></script><script src="https://lib.baomitu.com/fancyapps-ui/5.0.33/fancybox/fancybox.umd.min.js"></script><div class="js-pjax"><script>(()=>{let t=null;const e=()=>{if(t=Artalk.init(Object.assign({el:"#artalk-wrap",server:"https://artalk.dreamlove.top",site:"梦洁小站",pageKey:location.pathname,darkMode:"dark"===document.documentElement.getAttribute("data-theme")},null)),"null"===GLOBAL_CONFIG.lightbox)return;t.on("list-loaded",()=>{t.ctx.get("list").getCommentNodes().forEach(t=>{const e=t.getRender().$content;btf.loadLightbox(e.querySelectorAll("img:not([atk-emoticon])"))})});btf.addGlobalFn("pjax",()=>{t.destroy()},"destroyArtalk")},a=async()=>{"object"==typeof Artalk||(await getCSS("https://lib.baomitu.com/artalk/2.8.2/Artalk.min.css"),await getScript("https://lib.baomitu.com/artalk/2.8.2/Artalk.min.js")),e()};btf.addGlobalFn("themeChange",e=>{const a=document.getElementById("artalk-wrap");if(!a||!a.children.length)return;const l="dark"===e;t.setDarkMode(l)},"artalk"),a()})()</script></div><script id="canvas_nest" defer color="0,0,255" opacity="0.7" zindex="-1" count="99" mobile="false" src="https://lib.baomitu.com/butterfly-extsrc/1.1.3/canvas-nest.min.js"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="algolia-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="search-wrap"><div id="algolia-search-input"></div><hr><div id="algolia-search-results"><div id="algolia-hits"></div><div id="algolia-pagination"></div><div id="algolia-info"><div class="algolia-stats"></div><div class="algolia-poweredBy"></div></div></div></div></div><div id="search-mask"></div><script src="https://lib.baomitu.com/algoliasearch/4.22.1/algoliasearch-lite.umd.min.js"></script><script src="https://lib.baomitu.com/instantsearch.js/4.65.0/instantsearch.production.min.js"></script><script src="/js/search/algolia.js?v=4.13.0"></script></div></div></body></html>