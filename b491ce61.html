<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover"><title>穿越火线怀旧服预约网页vue3版本 | 梦洁小站-属于你我的小天地</title><meta name="author" content="梦洁"><meta name="copyright" content="梦洁"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="源码下载地址:https:&#x2F;&#x2F;github.com&#x2F;superBiuBiuMan&#x2F;crossfire-old-vue3 图片版权来自穿越火线,项目仅供参考学习!!!  效果 源码下载地址:https:&#x2F;&#x2F;github.com&#x2F;superBiuBiuMan&#x2F;crossfire-old-vue3 预览地址: https:&#x2F;&#x2F;crossfire.123916.xyz&#x2F; 官网效果: https:&#x2F;&#x2F;ww"><meta property="og:type" content="article"><meta property="og:title" content="穿越火线怀旧服预约网页vue3版本"><meta property="og:url" content="https://www.dreamlove.top/b491ce61.html"><meta property="og:site_name" content="梦洁小站-属于你我的小天地"><meta property="og:description" content="源码下载地址:https:&#x2F;&#x2F;github.com&#x2F;superBiuBiuMan&#x2F;crossfire-old-vue3 图片版权来自穿越火线,项目仅供参考学习!!!  效果 源码下载地址:https:&#x2F;&#x2F;github.com&#x2F;superBiuBiuMan&#x2F;crossfire-old-vue3 预览地址: https:&#x2F;&#x2F;crossfire.123916.xyz&#x2F; 官网效果: https:&#x2F;&#x2F;ww"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202501131843929.png"><meta property="article:published_time" content="2025-01-13T18:26:12.000Z"><meta property="article:modified_time" content="2025-01-13T18:26:12.000Z"><meta property="article:author" content="梦洁"><meta property="article:tag" content="vue"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202501131843929.png"><link rel="shortcut icon" href="https://oss.ypggb.com/i/2025/07/01/pk26bw.png"><link rel="canonical" href="https://www.dreamlove.top/b491ce61.html"><link rel="preconnect" href="https://lib.baomitu.com"><link rel="preconnect" href="//busuanzi.ibruce.info"><link rel="stylesheet" href="/css/index.css?v=4.13.0"><link rel="stylesheet" href="https://lib.baomitu.com/font-awesome/6.5.1/css/all.min.css"><link rel="stylesheet" href="https://lib.baomitu.com/fancyapps-ui/5.0.33/fancybox/fancybox.min.css" media="print" onload='this.media="all"'><script>const GLOBAL_CONFIG={root:"/",algolia:{appId:"G7A2D1SYPY",apiKey:"49056313a9be02852c7dbedfcb772831",indexName:"blog",hits:{per_page:20},languages:{input_placeholder:"搜索文章",hits_empty:"找不到您查询的内容：${query}",hits_stats:"找到 ${hits} 条结果，用时 ${time} 毫秒"}},localSearch:void 0,translate:void 0,noticeOutdate:void 0,highlight:{plugin:"highlight.js",highlightCopy:!0,highlightLang:!0,highlightHeightLimit:!1},copy:{success:"复制成功",error:"复制错误",noSupport:"浏览器不支持"},relativeDate:{homepage:!1,post:!1},runtime:"天",dateSuffix:{just:"刚刚",min:"分钟前",hour:"小时前",day:"天前",month:"个月前"},copyright:void 0,lightbox:"fancybox",Snackbar:void 0,infinitegrid:{js:"https://lib.baomitu.com/egjs-infinitegrid/4.11.1/infinitegrid.min.js",buttonText:"加载更多"},isPhotoFigcaption:!1,islazyload:!1,isAnchor:!1,percent:{toc:!0,rightside:!1},autoDarkmode:!1}</script><script id="config-diff">var GLOBAL_CONFIG_SITE={title:"穿越火线怀旧服预约网页vue3版本",isPost:!0,isHome:!1,isHighlightShrink:!1,isToc:!0,postUpdate:"2025-01-13 18:26:12"}</script><script>(e=>{e.saveToLocal={set:(e,t,o)=>{if(0===o)return;const a={value:t,expiry:Date.now()+864e5*o};localStorage.setItem(e,JSON.stringify(a))},get:e=>{const t=localStorage.getItem(e);if(!t)return;const o=JSON.parse(t);if(!(Date.now()>o.expiry))return o.value;localStorage.removeItem(e)}},e.getScript=(e,t={})=>new Promise((o,a)=>{const n=document.createElement("script");n.src=e,n.async=!0,n.onerror=a,n.onload=n.onreadystatechange=function(){const e=this.readyState;e&&"loaded"!==e&&"complete"!==e||(n.onload=n.onreadystatechange=null,o())},Object.keys(t).forEach(e=>{n.setAttribute(e,t[e])}),document.head.appendChild(n)}),e.getCSS=(e,t=!1)=>new Promise((o,a)=>{const n=document.createElement("link");n.rel="stylesheet",n.href=e,t&&(n.id=t),n.onerror=a,n.onload=n.onreadystatechange=function(){const e=this.readyState;e&&"loaded"!==e&&"complete"!==e||(n.onload=n.onreadystatechange=null,o())},document.head.appendChild(n)}),e.activateDarkMode=()=>{document.documentElement.setAttribute("data-theme","dark"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","#0d0d0d")},e.activateLightMode=()=>{document.documentElement.setAttribute("data-theme","light"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","#ffffff")};const t=saveToLocal.get("theme");"dark"===t?activateDarkMode():"light"===t&&activateLightMode();const o=saveToLocal.get("aside-status");void 0!==o&&("hide"===o?document.documentElement.classList.add("hide-aside"):document.documentElement.classList.remove("hide-aside"));/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)&&document.documentElement.classList.add("apple")})(window)</script><meta name="generator" content="Hexo 7.1.1"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://oss.ypggb.com/i/2025/07/01/pk26bw.png" onerror='onerror=null,src="/img/404.png"' alt="avatar"></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">182</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">101</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">73</div></a></div><hr class="custom-hr"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友情和链接</span></a></div><div class="menus_item"><a class="site-page" href="/navigation/"><i class="fa-fw fas fa-link"></i><span> 链接导航</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 私有化导航</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" target="_blank" rel="noopener" href="https://mark.123916.xyz/"><i class="fa-fw fas fa-database"></i><span> 导航</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="https://cloud.reassurehome.com/"><i class="fa-fw fas fa-hippo"></i><span> Alist(私有)</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 工具</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" target="_blank" rel="noopener" href="https://short.123916.xyz/027a2"><i class="fa-fw fas fa-paperclip"></i><span> clash免费订阅地址</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="https://short.123916.xyz/admin/"><i class="fa-fw fas fa-paperclip"></i><span> 短链接生成</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 好玩的</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" target="_blank" rel="noopener" href="https://make.girls.moe/#/"><i class="fa-fw fas fa-database"></i><span> 动漫头像制作</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="http://dfqshy.ysepan.com/"><i class="fa-fw fas fa-database"></i><span> FC游戏大全网盘</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="https://www.yikm.net/"><i class="fa-fw fas fa-database"></i><span> 小霸王</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="https://www.return8090.com/"><i class="fa-fw fas fa-database"></i><span> 小霸王(广告多)</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="http://farm.dreamlove.top"><i class="fa-fw fas fa-database"></i><span> QQ农场经典版</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="https://codepip.com/"><i class="fa-fw fas fa-database"></i><span> CssGame</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="https://photo.123916.xyz/"><i class="fa-fw fas fa-database"></i><span> 有趣的照片</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 其他</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></li><li><a class="site-page child" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="https://buy.dreamlove.top/"><i class="fa-fw fas fa-heart"></i><span> 购物</span></a></li></ul></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image:url(https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202501131843929.png)"><nav id="nav"><span id="blog-info"><a href="/" title="梦洁小站-属于你我的小天地"><span class="site-name">梦洁小站-属于你我的小天地</span></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友情和链接</span></a></div><div class="menus_item"><a class="site-page" href="/navigation/"><i class="fa-fw fas fa-link"></i><span> 链接导航</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 私有化导航</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" target="_blank" rel="noopener" href="https://mark.123916.xyz/"><i class="fa-fw fas fa-database"></i><span> 导航</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="https://cloud.reassurehome.com/"><i class="fa-fw fas fa-hippo"></i><span> Alist(私有)</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 工具</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" target="_blank" rel="noopener" href="https://short.123916.xyz/027a2"><i class="fa-fw fas fa-paperclip"></i><span> clash免费订阅地址</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="https://short.123916.xyz/admin/"><i class="fa-fw fas fa-paperclip"></i><span> 短链接生成</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 好玩的</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" target="_blank" rel="noopener" href="https://make.girls.moe/#/"><i class="fa-fw fas fa-database"></i><span> 动漫头像制作</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="http://dfqshy.ysepan.com/"><i class="fa-fw fas fa-database"></i><span> FC游戏大全网盘</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="https://www.yikm.net/"><i class="fa-fw fas fa-database"></i><span> 小霸王</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="https://www.return8090.com/"><i class="fa-fw fas fa-database"></i><span> 小霸王(广告多)</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="http://farm.dreamlove.top"><i class="fa-fw fas fa-database"></i><span> QQ农场经典版</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="https://codepip.com/"><i class="fa-fw fas fa-database"></i><span> CssGame</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="https://photo.123916.xyz/"><i class="fa-fw fas fa-database"></i><span> 有趣的照片</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 其他</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></li><li><a class="site-page child" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="https://buy.dreamlove.top/"><i class="fa-fw fas fa-heart"></i><span> 购物</span></a></li></ul></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">穿越火线怀旧服预约网页vue3版本</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2025-01-13T18:26:12.000Z" title="发表于 2025-01-13 18:26:12">2025-01-13</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2025-01-13T18:26:12.000Z" title="更新于 2025-01-13 18:26:12">2025-01-13</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/vue/">vue</a><i class="fas fa-angle-right post-meta-separator"></i><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/vue/%E7%A9%BF%E8%B6%8A%E7%81%AB%E7%BA%BF/">穿越火线</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">12.6k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>68分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" data-flag-title="穿越火线怀旧服预约网页vue3版本"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><ul><li><strong>源码下载地址:</strong><a target="_blank" rel="noopener" href="https://github.com/superBiuBiuMan/crossfire-old-vue3">https://github.com/superBiuBiuMan/crossfire-old-vue3</a></li><li><strong>图片版权来自穿越火线,项目仅供参考学习!!!</strong></li></ul><h1 id="效果"><a href="#效果" class="headerlink" title="效果"></a>效果</h1><ul><li><strong>源码下载地址:</strong><a target="_blank" rel="noopener" href="https://github.com/superBiuBiuMan/crossfire-old-vue3">https://github.com/superBiuBiuMan/crossfire-old-vue3</a></li><li><strong>预览地址:</strong> <a target="_blank" rel="noopener" href="https://crossfire.123916.xyz/">https://crossfire.123916.xyz/</a></li><li><strong>官网效果:</strong> <a target="_blank" rel="noopener" href="https://www.cfhuodong.com/2025-1-https://cf.qq.com/cp/a20241227reserve/index.html">https://www.cfhuodong.com/2025-1-https://cf.qq.com/cp/a20241227reserve/index.html</a></li></ul><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202501131824506.png"></p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202501131824507.png"></p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202501131824508.png"></p><ul><li>移动端有的问题,哈哈,不调整了</li></ul><h1 id="用到的库"><a href="#用到的库" class="headerlink" title="用到的库"></a>用到的库</h1><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202501131824509.png"></p><h2 id="重要的库"><a href="#重要的库" class="headerlink" title="重要的库"></a>重要的库</h2><table><thead><tr><th>名称</th><th>描述</th><th>链接</th></tr></thead><tbody><tr><td>JQuery</td><td>不用说了</td><td></td></tr><tr><td>mmd.videoPlayer.min.js</td><td><font style="color:#333">milo 旗下的-是适用于移动端H5的轻量视频播放组件</font></td><td><a target="_blank" rel="noopener" href="https://tgideas.qq.com/doc/frontend/component/m/mmd.html">https://tgideas.qq.com/doc/frontend/component/m/mmd.html</a></td></tr><tr><td>milo.js</td><td><font style="color:#333">milo 是一款前端JS库，包含了双端登录、弹出层、TAB切换等常用组件</font></td><td><a target="_blank" rel="noopener" href="https://tgideas.qq.com/doc/frontend/component/common/milo.html">https://tgideas.qq.com/doc/frontend/component/common/milo.html</a></td></tr><tr><td>milo.gbk.min.js</td><td><font style="color:#333">同上</font></td><td></td></tr><tr><td>swiper-3.4.2.min.js</td><td><font style="color:#333">轮播图</font></td><td></td></tr><tr><td>preloadjs.min.js</td><td>createj旗下的内容</td><td><a target="_blank" rel="noopener" href="https://createjs.com/">https://createjs.com/</a></td></tr><tr><td>Howler.js</td><td>适合现代网络的音频库。</td><td><a target="_blank" rel="noopener" href="https://howlerjs.com/">https://howlerjs.com/</a></td></tr></tbody></table><h2 id="不重要的库"><a href="#不重要的库" class="headerlink" title="不重要的库"></a>不重要的库</h2><table><thead><tr><th>名称</th><th>描述</th><th>链接</th></tr></thead><tbody><tr><td>sequence.js</td><td><font style="color:#333">他们自己写的js库(当前二级目录有具体代码)</font></td><td></td></tr><tr><td>loadImgList.js</td><td><font style="color:#333">代码图片素材的js代码</font></td><td></td></tr><tr><td>index.js</td><td>预约主逻辑</td><td></td></tr><tr><td>apptLogic.js</td><td><font style="color:#333">预约逻辑</font></td><td></td></tr><tr><td>yuyue.js</td><td><font style="color:#333">预约逻辑</font></td><td></td></tr><tr><td>html2canvas.js</td><td><font style="color:#333">转图片</font></td><td></td></tr><tr><td>record.js</td><td><font style="color:#333">预约话术逻辑</font></td><td></td></tr><tr><td>atReport.js</td><td><font style="color:#333">上报的,腾讯内部用的应该是</font></td><td></td></tr></tbody></table><h1 id="穿越火线说明"><a href="#穿越火线说明" class="headerlink" title="穿越火线说明"></a>穿越火线说明</h1><ul><li>素材图片一张的大小为82宽度,这里有8个格子,所以最小的宽度是82*8 &#x3D; 656px,实际情况可以大一些,</li></ul><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202501131824510.png"></p><ul><li>当然，这个还是要手动去调整，最好打开控制台，使用小键盘调整</li></ul><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202501131824511.png"></p><h1 id="音乐播放器"><a href="#音乐播放器" class="headerlink" title="音乐播放器"></a>音乐播放器</h1><ul><li>顺带一体,他们开发人员将play和pause搞错了好像</li></ul><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202501131824512.png"></p><h2 id="进度条关键代码"><a href="#进度条关键代码" class="headerlink" title="进度条关键代码"></a>进度条关键代码</h2><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202501131824513.png"></p><h2 id="设置进度条控制块的样式"><a href="#设置进度条控制块的样式" class="headerlink" title="设置进度条控制块的样式"></a>设置进度条控制块的样式</h2><ul><li>关键属性是<code>**-webkit-slider-thumb**</code>**,**然后我们拿到了素材图片,设置下就好了,下面是源代码,当然,你也可以将图片下载到本地,</li><li>注意,设置滑块需要先消除<font style="color:#1b1b1b">基于操作系统主题的原生外观,否者你设置了thumb也不会生效</font><ul><li><a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/CSS/appearance">appearance说明: https://developer.mozilla.org/zh-CN/docs/Web/CSS/appearance</a></li></ul></li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">.<span class="property">input</span>-range &#123;</span><br><span class="line">        <span class="attr">appearance</span>: none;</span><br><span class="line">        <span class="attr">background</span>: none;</span><br><span class="line">        <span class="attr">border</span>: none;</span><br><span class="line">        <span class="attr">outline</span>: none;</span><br><span class="line">&#125;</span><br><span class="line">.<span class="property">input</span>-<span class="attr">range</span>::-webkit-slider-thumb &#123;</span><br><span class="line">    <span class="attr">width</span>: 44px;</span><br><span class="line">    <span class="attr">height</span>: 22px;</span><br><span class="line">    background-<span class="attr">image</span>: <span class="title function_">url</span>(<span class="comment">//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/music/btn/process-btn.png?=t1735836008125);</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>更多的内容可以看这里<ul><li><a target="_blank" rel="noopener" href="https://juejin.cn/post/7074774487815684110">https://juejin.cn/post/7074774487815684110</a></li></ul></li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">::-webkit-slider-container &#123;</span><br><span class="line">  <span class="comment">/*可以修改容器的若干样式*/</span></span><br><span class="line">&#125;</span><br><span class="line">::-webkit-slider-runnable-track &#123;</span><br><span class="line">  <span class="comment">/*可以修改轨道的若干样式*/</span></span><br><span class="line">&#125;</span><br><span class="line">::-webkit-slider-thumb &#123;</span><br><span class="line">  <span class="comment">/*可以修改滑块的若干样式*/</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="音符律动-音波音浪-效果怎么做"><a href="#音符律动-音波音浪-效果怎么做" class="headerlink" title="音符律动(音波音浪)效果怎么做"></a>音符律动(音波音浪)效果怎么做</h2><ul><li>可以看到,当播放的时候律动效果展示,暂停后再继续播放会以之前的位置开始跳跃展示,并且波动效果不和音调有关系,也就是一个写死的动画</li></ul><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202501131824514.gif"></p><ul><li>翻看下代码</li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"></span><br><span class="line">function initVisualizer() &#123;</span><br><span class="line">    const visualizer = document<span class="selector-class">.getElementById</span>(&quot;visualizer&quot;);</span><br><span class="line">    const barWidth = <span class="number">2</span>; // <span class="attribute">Width</span> of each bar</span><br><span class="line">    const barGap = <span class="number">3</span>; // <span class="attribute">Gap</span> between bars</span><br><span class="line">    const containerWidth = visualizer<span class="selector-class">.clientWidth</span>;</span><br><span class="line">    const barCount = Math<span class="selector-class">.floor</span>(containerWidth / (barWidth + barGap)); // Calculate number of bars</span><br><span class="line"></span><br><span class="line">    visualizer<span class="selector-class">.innerHTML</span> = &quot;&quot;; // <span class="attribute">Clear</span> existing bars</span><br><span class="line"></span><br><span class="line">    for (let <span class="selector-tag">i</span> = <span class="number">0</span>; <span class="selector-tag">i</span> &lt; barCount; <span class="selector-tag">i</span>++) &#123;</span><br><span class="line">        const bar = document<span class="selector-class">.createElement</span>(&quot;<span class="selector-tag">div</span>&quot;);</span><br><span class="line">        bar<span class="selector-class">.className</span> = &quot;bar&quot;;</span><br><span class="line"></span><br><span class="line">        const isDown = Math<span class="selector-class">.random</span>() &lt; <span class="number">0.5</span>; // Randomly determine <span class="attribute">animation</span> <span class="attribute">direction</span></span><br><span class="line"></span><br><span class="line">        // Set random initial <span class="attribute">height</span> between <span class="number">15%</span> and <span class="number">50%</span></span><br><span class="line">        const minHeight = <span class="number">15</span> + Math<span class="selector-class">.random</span>() * <span class="number">35</span>;</span><br><span class="line">        const maxHeight = minHeight + <span class="number">30</span> + Math<span class="selector-class">.random</span>() * <span class="number">20</span>;</span><br><span class="line"></span><br><span class="line">        bar<span class="selector-class">.style</span><span class="selector-class">.setProperty</span>(</span><br><span class="line">            &quot;<span class="attr">--min-height</span>&quot;,</span><br><span class="line">            `$&#123;isDown ? minHeight : maxHeight&#125;%`</span><br><span class="line">        );</span><br><span class="line">        bar<span class="selector-class">.style</span><span class="selector-class">.setProperty</span>(</span><br><span class="line">            &quot;<span class="attr">--max-height</span>&quot;,</span><br><span class="line">            `$&#123;isDown ? maxHeight : minHeight&#125;%`</span><br><span class="line">        );</span><br><span class="line">        bar<span class="selector-class">.style</span><span class="selector-class">.animationDuration</span> = `$&#123;<span class="number">0.8</span> + Math<span class="selector-class">.random</span>() * <span class="number">0.6</span>&#125;s`;</span><br><span class="line">        // bar<span class="selector-class">.style</span><span class="selector-class">.marginRight</span> = `$&#123;barGap&#125;px`;</span><br><span class="line"></span><br><span class="line">        visualizer<span class="selector-class">.appendChild</span>(bar);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>仿照着着写一下,基础逻辑就是为每一个竖条设置独一无二的最小高度,最大高度,和动画持续时间</li><li>index.vue</li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  &lt;<span class="selector-tag">div</span> class=&quot;wave&quot; ref=&quot;waveRef&quot; :class=<span class="string">&quot;&#123; running: isRunning &#125;&quot;</span>&gt;</span><br><span class="line">    &lt;div</span><br><span class="line">      class=<span class="string">&quot;wave-bar&quot;</span></span><br><span class="line">      v-for=<span class="string">&quot;(_, index) in divCount&quot;</span></span><br><span class="line">      :key=<span class="string">&quot;index&quot;</span></span><br><span class="line">      :style=<span class="string">&quot;divs[index]&quot;</span></span><br><span class="line">    &gt;&lt;/div&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line">&lt;script setup lang=<span class="string">&quot;ts&quot;</span>&gt;</span><br><span class="line">import &#123; ref, computed, onMounted, nextTick &#125; <span class="selector-tag">from</span> &quot;vue&quot;;</span><br><span class="line">const isRunning = ref(false); //是否播放动画效果</span><br><span class="line">// 添加一个ref来存储wave容器的宽度</span><br><span class="line">const waveRef = ref&lt;HTMLElement | null&gt;(null);</span><br><span class="line">const divCount = ref(<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">const divs = computed(() =&gt; &#123;</span><br><span class="line">  return Array<span class="selector-class">.from</span>(&#123; length: divCount.value &#125;, (_, index) =&gt; &#123;</span><br><span class="line">    //随机生成minHeight和maxHeight和持续时间</span><br><span class="line">    //同时也随机minHeight和maxHeight谁更大,</span><br><span class="line">    // const minHeight = <span class="number">15</span> + Math<span class="selector-class">.random</span>() * <span class="number">35</span>;</span><br><span class="line">    const minHeight = <span class="number">15</span> + Math<span class="selector-class">.random</span>() * <span class="number">16</span>; //调整下,不然会超出高度了</span><br><span class="line">    const maxHeight = minHeight + <span class="number">30</span> + Math<span class="selector-class">.random</span>() * <span class="number">20</span>;</span><br><span class="line">    const duration = <span class="number">1</span> + Math<span class="selector-class">.random</span>() * <span class="number">0.6</span>;</span><br><span class="line">    const isDown = Math<span class="selector-class">.random</span>() &lt; <span class="number">0.5</span>; // Randomly determine <span class="attribute">animation</span> <span class="attribute">direction</span>(随机方向)</span><br><span class="line"></span><br><span class="line">    return &#123;</span><br><span class="line">      //设置成css变量,后续可以根据优先级被读取到</span><br><span class="line">      &quot;<span class="attr">--min-height</span>&quot;: `$&#123;isDown ? minHeight : maxHeight&#125;px`,</span><br><span class="line">      &quot;<span class="attr">--max-height</span>&quot;: `$&#123;isDown ? maxHeight : minHeight&#125;px`,</span><br><span class="line">      &quot;<span class="attribute">animation-duration</span>&quot;: `$&#123;duration&#125;s`,</span><br><span class="line">    &#125;;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;);</span><br><span class="line">onMounted(() =&gt; &#123;</span><br><span class="line">  nextTick(() =&gt; &#123;</span><br><span class="line">    // 获取容器元素</span><br><span class="line">    const container = waveRef<span class="selector-class">.value</span>;</span><br><span class="line"></span><br><span class="line">    if (container) &#123;</span><br><span class="line">      // 获取容器宽度</span><br><span class="line">      //clientWidth 返回元素的宽度（包括元素宽度、内边距，不包括边框和外边距）</span><br><span class="line">      //offsetWidth 返回元素的宽度（包括元素宽度、内边距和边框，不包括外边距）</span><br><span class="line">      const containerWidth = container<span class="selector-class">.clientWidth</span>;</span><br><span class="line">      const barWidth = <span class="number">2</span>; // 波浪线的宽度,和css保持一致</span><br><span class="line">      const barGap = <span class="number">2</span>; // <span class="attribute">Gap</span> between bars</span><br><span class="line">      // 计算可以容纳的波浪条数量</span><br><span class="line">      divCount<span class="selector-class">.value</span> = Math<span class="selector-class">.floor</span>(containerWidth / (barWidth + barGap));</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;);</span><br><span class="line">defineExpose(&#123;</span><br><span class="line">  start: () =&gt; &#123;</span><br><span class="line">    isRunning<span class="selector-class">.value</span> = true;</span><br><span class="line">  &#125;,</span><br><span class="line">  stop: () =&gt; &#123;</span><br><span class="line">    isRunning<span class="selector-class">.value</span> = false;</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;);</span><br><span class="line">&lt;/script&gt;</span><br><span class="line">&lt;style&gt;</span><br><span class="line"><span class="keyword">@keyframes</span> volume &#123;</span><br><span class="line">  <span class="number">0%</span> &#123;</span><br><span class="line">    <span class="attribute">height</span>: <span class="built_in">var</span>(--min-height);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="number">100%</span> &#123;</span><br><span class="line">    <span class="attribute">height</span>: <span class="built_in">var</span>(--max-height);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line">&lt;style scoped lang=&quot;scss&quot;&gt;</span><br><span class="line"><span class="selector-class">.wave</span> &#123;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">box-sizing</span>: border-box;</span><br><span class="line">  <span class="attribute">padding</span>: <span class="number">0</span> <span class="number">20px</span>;</span><br><span class="line">  <span class="attribute">display</span>: flex;</span><br><span class="line">  <span class="attribute">align-items</span>: flex-end;</span><br><span class="line">  <span class="attribute">justify-content</span>: center;</span><br><span class="line">  <span class="attribute">gap</span>: <span class="number">2px</span>; // 添加波浪条之间的间距</span><br><span class="line">  &amp;<span class="selector-class">.running</span> &amp;-bar &#123;</span><br><span class="line">    <span class="attribute">animation-play-state</span>: running;</span><br><span class="line">  &#125;</span><br><span class="line">  &amp;-bar &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">2px</span>;</span><br><span class="line">    //读取顺序   行内样式 -&gt; 外部样式表 -&gt; style标签 -&gt; 默认值</span><br><span class="line">    <span class="attribute">height</span>: <span class="built_in">var</span>(--min-height);</span><br><span class="line">    <span class="attribute">background-color</span>: <span class="number">#5c6589</span>;</span><br><span class="line">    //alternate 往返效果</span><br><span class="line">    <span class="attribute">animation</span>: volume <span class="number">1s</span> ease-in-out infinite alternate;</span><br><span class="line">    <span class="attribute">animation-play-state</span>: paused;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">&lt;/style&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li>效果</li></ul><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202501131824515.png"></p><h2 id="css变量读取的顺序-先从行内样式读取"><a href="#css变量读取的顺序-先从行内样式读取" class="headerlink" title="css变量读取的顺序?先从行内样式读取?"></a>css变量读取的顺序?先从行内样式读取?</h2><p>在 CSS 中，CSS 变量（即自定义属性）是按照特定的优先级顺序被解析的，优先级的顺序如下：</p><ol><li><strong>行内样式</strong>：行内样式的优先级最高，浏览器会优先读取和应用内联样式中的 CSS 变量。如果你在 HTML 元素的 <code>style</code> 属性中定义了 CSS 变量，这些变量会优先于其他来源的定义。</li><li><strong>外部样式表</strong>：如果没有在行内样式中定义，浏览器会查看外部或嵌入式的样式表（包括 <code>@import</code> 导入的样式表）中的 CSS 变量定义。</li><li><code>**&lt;style&gt;**</code>** 标签**：内嵌样式（通过 <code>&lt;style&gt;</code> 标签定义的 CSS）会被应用，并且在应用过程中会考虑其优先级。</li><li><strong>默认值</strong>：如果在某些地方没有定义 CSS 变量，那么它们可能会使用默认值，或者在 <code>@keyframes</code> 等规则中，使用无效的值会导致样式不生效。</li></ol><p>在你的示例中，<code>@keyframes</code> 规则中的 <code>var(--min-height)</code> 和 <code>var(--max-height)</code> 会按照以下顺序解析：</p><h3 id="解析顺序："><a href="#解析顺序：" class="headerlink" title="解析顺序："></a>解析顺序：</h3><ul><li>首先，它会尝试从 <strong>行内样式</strong> 中读取 <code>--min-height</code> 和 <code>--max-height</code>（如果定义了的话）。</li><li>如果在行内样式中找不到，它会去查看 <strong>外部或内嵌样式表</strong> 中是否定义了这些 CSS 变量。</li><li>如果样式表中也没有定义这些变量，<code>@keyframes</code> 动画规则会使用默认值（即 <code>var(--min-height)</code> 和 <code>var(--max-height)</code> 会被视为无效变量，导致动画效果不生效）。</li></ul><h3 id="示例代码："><a href="#示例代码：" class="headerlink" title="示例代码："></a>示例代码：</h3><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&quot;--min-height: 100px; --max-height: 200px;&quot;</span>&gt;</span></span><br><span class="line">  <span class="comment">&lt;!-- 内容 --&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css"><span class="keyword">@keyframes</span> volume &#123;</span></span><br><span class="line"><span class="language-css">    <span class="number">0%</span> &#123;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">height</span>: <span class="built_in">var</span>(--min-height);</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css">    <span class="number">100%</span> &#123;</span></span><br><span class="line"><span class="language-css">        <span class="attribute">height</span>: <span class="built_in">var</span>(--max-height);</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css">&#125;</span></span><br><span class="line"><span class="language-css"></span></span><br><span class="line"><span class="language-css"><span class="selector-class">.animated-div</span> &#123;</span></span><br><span class="line"><span class="language-css">  <span class="attribute">width</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css">  <span class="attribute">background-color</span>: lightblue;</span></span><br><span class="line"><span class="language-css">  <span class="attribute">margin</span>: <span class="number">10px</span>;</span></span><br><span class="line"><span class="language-css">  <span class="attribute">animation</span>: volume <span class="number">2s</span> ease-in-out forwards;</span></span><br><span class="line"><span class="language-css">&#125;</span></span><br><span class="line"><span class="language-css"></span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="关键点："><a href="#关键点：" class="headerlink" title="关键点："></a>关键点：</h3><ul><li>在上面的代码中，<code>&lt;div&gt;</code> 元素的 <code>style</code> 属性定义了 <code>--min-height</code> 和 <code>--max-height</code>，这些变量会被 <code>@keyframes</code> 中的 <code>height</code> 动画读取到。</li><li>如果没有在 <code>div</code> 中定义这些 CSS 变量，那么动画会因找不到这些变量而无法正常工作。</li></ul><h3 id="总结："><a href="#总结：" class="headerlink" title="总结："></a>总结：</h3><ul><li><strong>优先级</strong>：行内样式 &gt; 外部样式表和 <code>&lt;style&gt;</code> 标签 &gt; 默认值。</li><li><code>**@keyframes**</code> 会在动画的运行时计算变量的值，因此必须确保相关的 CSS 变量在动画运行之前已经定义和赋值，否则动画将无法生效。</li></ul><h1 id="图片列表"><a href="#图片列表" class="headerlink" title="图片列表"></a>图片列表</h1><ul><li>关键是Swiper的实例如何获取<ul><li>可以参考文档<a target="_blank" rel="noopener" href="https://swiperjs.com/vue#swiper-events">https://swiperjs.com/vue#swiper-events</a></li><li>安装</li></ul></li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yarn add swiper</span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">&lt;swiper @swiper=<span class="string">&quot;onSwiper&quot;</span>&gt;&lt;/swiper&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 获取实例</span></span><br><span class="line"><span class="keyword">import</span> type &#123; <span class="title class_">Swiper</span> <span class="keyword">as</span> <span class="title class_">SwiperType</span> &#125; <span class="keyword">from</span> <span class="string">&quot;swiper&quot;</span>;</span><br><span class="line"><span class="keyword">const</span> swiperInstance = ref&lt;<span class="title class_">SwiperType</span>&gt;();</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">handleSwiper</span> = (<span class="params">type: <span class="string">&quot;prev&quot;</span> | <span class="string">&quot;next&quot;</span></span>) =&gt; &#123;</span><br><span class="line">  <span class="keyword">if</span> (!swiperInstance.<span class="property">value</span>) <span class="keyword">return</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (type === <span class="string">&quot;prev&quot;</span>) &#123;</span><br><span class="line">    <span class="comment">//上一张</span></span><br><span class="line">    swiperInstance.<span class="property">value</span>.<span class="title function_">slidePrev</span>();</span><br><span class="line">  &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="comment">//下一张</span></span><br><span class="line">    swiperInstance.<span class="property">value</span>.<span class="title function_">slideNext</span>();</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h1 id="怎么解决缩放的问题"><a href="#怎么解决缩放的问题" class="headerlink" title="怎么解决缩放的问题,"></a>怎么解决缩放的问题,</h1><ul><li>官网的效果ctrl加滚轮是无法缩放的,并且中间的形状一直保持在中间</li><li>我们找下,发现在div#app下面有一个属性,会随着页面变化而变化<ul><li><code>transform:translate3d(0%, 0%, 1px) scale(0.8, 0.8)</code></li><li><code>transform-origin:center center;</code></li></ul></li></ul><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202501131824516.png"></p><ul><li>发现是下面这一段代码变更调整的,JQuery版本的</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">coverBoxToViewport</span>(<span class="params">boxSelector</span>) &#123;</span><br><span class="line">        <span class="keyword">const</span> box = $(boxSelector);</span><br><span class="line">        <span class="keyword">if</span> (box.<span class="property">length</span> === <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">error</span>(<span class="string">&quot;Box not found with the given selector.&quot;</span>);</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 设计稿的宽高比</span></span><br><span class="line">        <span class="keyword">const</span> designWidth = <span class="number">1920</span>;</span><br><span class="line">        <span class="keyword">const</span> designHeight = <span class="number">1080</span>;</span><br><span class="line">        <span class="keyword">const</span> designAspectRatio = designWidth / designHeight;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">function</span> <span class="title function_">resizeBox</span>(<span class="params"></span>) &#123;</span><br><span class="line">            <span class="comment">// 获取视窗的宽高</span></span><br><span class="line">            <span class="keyword">const</span> ww = $(<span class="variable language_">window</span>).<span class="title function_">width</span>();</span><br><span class="line">            <span class="keyword">const</span> hh = $(<span class="variable language_">window</span>).<span class="title function_">height</span>();</span><br><span class="line"></span><br><span class="line">            <span class="comment">// 视窗宽高比</span></span><br><span class="line">            <span class="keyword">const</span> viewportAspectRatio = ww / hh;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">let</span> scaleX, scaleY;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (viewportAspectRatio &gt; designAspectRatio) &#123;</span><br><span class="line">                <span class="comment">// 视窗更宽，以视窗宽度为基准</span></span><br><span class="line">                scaleX = ww / designWidth;</span><br><span class="line">                scaleY = scaleX; <span class="comment">// 保持比例</span></span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="comment">// 视窗更高，以视窗高度为基准</span></span><br><span class="line">                scaleY = hh / designHeight;</span><br><span class="line">                scaleX = scaleY; <span class="comment">// 保持比例</span></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="comment">// 设置transform以缩放盒子</span></span><br><span class="line">            box.<span class="title function_">css</span>(&#123;</span><br><span class="line">                <span class="attr">transform</span>: <span class="title function_">translate3d</span>(<span class="number">0</span>%, <span class="number">0</span>%, 1px) <span class="title function_">scale</span>($&#123;scaleX&#125;, $&#123;scaleY&#125;),</span><br><span class="line">                <span class="attr">transformOrigin</span>: <span class="string">&quot;center&quot;</span>,</span><br><span class="line">            &#125;);</span><br><span class="line"></span><br><span class="line">            <span class="comment">// 设置 overflow: hidden 来隐藏超出的部分，避免滚动条</span></span><br><span class="line">            $(<span class="string">&quot;html, body&quot;</span>).<span class="title function_">css</span>(&#123;</span><br><span class="line">                <span class="attr">overflow</span>: <span class="string">&quot;hidden&quot;</span>,</span><br><span class="line">                <span class="attr">margin</span>: <span class="string">&quot;0&quot;</span>,</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 初始化和监听窗口大小变化</span></span><br><span class="line">        <span class="title function_">resizeBox</span>();</span><br><span class="line">        $(<span class="variable language_">window</span>).<span class="title function_">on</span>(<span class="string">&quot;resize&quot;</span>, resizeBox);</span><br><span class="line">    &#125; </span><br></pre></td></tr></table></figure><ul><li>纯js版本</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">coverBoxToViewport</span>(<span class="params">boxSelector</span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> box = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(boxSelector);</span><br><span class="line">    <span class="keyword">if</span> (!box) &#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">error</span>(<span class="string">&quot;Box not found with the given selector.&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 设计稿的宽高比</span></span><br><span class="line">    <span class="keyword">const</span> designWidth = <span class="number">1920</span>;</span><br><span class="line">    <span class="keyword">const</span> designHeight = <span class="number">1080</span>;</span><br><span class="line">    <span class="keyword">const</span> designAspectRatio = designWidth / designHeight;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">resizeBox</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="comment">// 获取视窗的宽高</span></span><br><span class="line">        <span class="keyword">const</span> ww = <span class="variable language_">window</span>.<span class="property">innerWidth</span>;</span><br><span class="line">        <span class="keyword">const</span> hh = <span class="variable language_">window</span>.<span class="property">innerHeight</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 视窗宽高比</span></span><br><span class="line">        <span class="keyword">const</span> viewportAspectRatio = ww / hh;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">let</span> scaleX, scaleY;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (viewportAspectRatio &gt; designAspectRatio) &#123;</span><br><span class="line">            <span class="comment">// 视窗更宽，以视窗宽度为基准</span></span><br><span class="line">            scaleX = ww / designWidth;</span><br><span class="line">            scaleY = scaleX; <span class="comment">// 保持比例</span></span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">// 视窗更高，以视窗高度为基准</span></span><br><span class="line">            scaleY = hh / designHeight;</span><br><span class="line">            scaleX = scaleY; <span class="comment">// 保持比例</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 设置 transform 以缩放盒子</span></span><br><span class="line">        box.<span class="property">style</span>.<span class="property">transform</span> = <span class="string">`translate3d(0%, 0%, 1px) scale(<span class="subst">$&#123;scaleX&#125;</span>, <span class="subst">$&#123;scaleY&#125;</span>)`</span>;</span><br><span class="line">        box.<span class="property">style</span>.<span class="property">transformOrigin</span> = <span class="string">&quot;center&quot;</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 设置 overflow: hidden 来隐藏超出的部分，避免滚动条</span></span><br><span class="line">        <span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="property">style</span>.<span class="property">overflow</span> = <span class="string">&quot;hidden&quot;</span>;</span><br><span class="line">        <span class="variable language_">document</span>.<span class="property">documentElement</span>.<span class="property">style</span>.<span class="property">margin</span> = <span class="string">&quot;0&quot;</span>;</span><br><span class="line">        <span class="variable language_">document</span>.<span class="property">body</span>.<span class="property">style</span>.<span class="property">overflow</span> = <span class="string">&quot;hidden&quot;</span>;</span><br><span class="line">        <span class="variable language_">document</span>.<span class="property">body</span>.<span class="property">style</span>.<span class="property">margin</span> = <span class="string">&quot;0&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 初始化和监听窗口大小变化</span></span><br><span class="line">    <span class="title function_">resizeBox</span>();</span><br><span class="line">    <span class="variable language_">window</span>.<span class="title function_">addEventListener</span>(<span class="string">&quot;resize&quot;</span>, resizeBox);</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li>这样子就会影响之前设置的<code>.desktop-main</code>的定位了,所以我们调整下,设置和官网的一样</li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.desktop-main</span>&#123;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">90px</span>;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">390px</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">1112px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">808px</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li>再设置为他们设计稿的尺寸,人家注释就说明了嘛,设计稿尺寸是1920 * 1080,</li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">html</span>,</span><br><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">overflow</span>: hidden;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#000</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 确保应用在任何屏幕尺寸下都保持1920x1080的显示比例 */</span></span><br><span class="line"><span class="comment">/* 始终保持应用在视窗中居中显示 */</span></span><br><span class="line"><span class="comment">/* 适合全屏展示的应用，如游戏界面或展示页面 */</span></span><br><span class="line"><span class="selector-id">#app</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">1920px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">1080px</span>;</span><br><span class="line">  <span class="attribute">margin</span>: -<span class="number">540px</span> <span class="number">0</span> <span class="number">0</span> -<span class="number">960px</span>;</span><br><span class="line">  <span class="attribute">will-change</span>: transform;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"># 为什么这么设置请看下方</span><br><span class="line"></span><br><span class="line"><span class="number">1</span># <span class="selector-tag">html</span>和<span class="selector-tag">body</span>的样式：</span><br><span class="line"><span class="attribute">width</span>: <span class="number">100%</span> 和 height: <span class="number">100%</span>：确保页面占满整个视窗</span><br><span class="line">overflow: hidden：隐藏超出视窗范围的内容，防止出现滚动条</span><br><span class="line">background: <span class="number">#000</span>：设置背景色为黑色</span><br><span class="line"><span class="number">2</span>#  app容器的样式：</span><br><span class="line">position: absolute 和 top: <span class="number">50%</span>, left: <span class="number">50%</span>：将应用容器定位在页面的正中心</span><br><span class="line">width: <span class="number">1920px</span> 和 height: <span class="number">1080px</span>：设置固定的宽高（<span class="number">1920</span>x1080分辨率）</span><br><span class="line">margin: -<span class="number">540px</span> <span class="number">0</span> <span class="number">0</span> -<span class="number">960px</span>：通过负边距进行居中偏移调整</span><br><span class="line">-<span class="number">540px</span> 是高度的一半（<span class="number">1080</span>/<span class="number">2</span>）</span><br><span class="line">-<span class="number">960px</span> 是宽度的一半（<span class="number">1920</span>/<span class="number">2</span>）</span><br><span class="line">will-change: transform：提示浏览器该元素可能会有变换，优化渲染性能</span><br></pre></td></tr></table></figure><ul><li>我们使用scss就用scss</li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-tag">html</span>,</span><br><span class="line"><span class="selector-tag">body</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">overflow</span>: hidden;</span><br><span class="line">  <span class="attribute">background</span>: <span class="number">#000</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">/* 确保应用在任何屏幕尺寸下都保持1920x1080的显示比例 */</span></span><br><span class="line"><span class="comment">/* 始终保持应用在视窗中居中显示 */</span></span><br><span class="line"><span class="comment">/* 适合全屏展示的应用，如游戏界面或展示页面 */</span></span><br><span class="line">$design-<span class="attribute">width</span>: <span class="number">1920px</span>;</span><br><span class="line">$design-<span class="attribute">height</span>: <span class="number">1080px</span>;</span><br><span class="line"></span><br><span class="line"><span class="selector-id">#app</span> &#123;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">top</span>: <span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">50%</span>;</span><br><span class="line">  <span class="attribute">width</span>: $design-width;</span><br><span class="line">  <span class="attribute">height</span>: $design-height;</span><br><span class="line">  <span class="attribute">margin</span>: <span class="built_in">calc</span>(#&#123;$design-<span class="attribute">height</span>&#125; / -<span class="number">2</span>) <span class="number">0</span> <span class="number">0</span> calc(#&#123;$design-<span class="attribute">width</span>&#125; / -<span class="number">2</span>);</span><br><span class="line">  <span class="attribute">will-change</span>: transform;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li>我们试试看效果,可以看到</li></ul><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202501131824517.gif"></p><h1 id="添加了遮罩背景-无法点击图标了"><a href="#添加了遮罩背景-无法点击图标了" class="headerlink" title="添加了遮罩背景,无法点击图标了"></a>添加了遮罩背景,无法点击图标了</h1><ul><li>添加下<code>pointer-events:none</code>即可</li></ul><h1 id="无法自动播放音频"><a href="#无法自动播放音频" class="headerlink" title="无法自动播放音频"></a>无法自动播放音频</h1><ul><li>调用play方法出现控制台错误<ul><li>Uncaught (in promise) NotAllowedError: play() failed because the user didn’t interact with the document first. <a target="_blank" rel="noopener" href="https://goo.gl/xX8pDD">https://goo.gl/xX8pDD</a></li></ul></li><li>解决<ul><li>添加mute属性即可,就是让他静音,示例如下</li></ul></li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;<span class="selector-tag">video</span></span><br><span class="line">  ref=&quot;enterVideoRef&quot;</span><br><span class="line">  class=&quot;enter_video&quot;</span><br><span class="line">  :controls=<span class="string">&quot;false&quot;</span></span><br><span class="line">  muted</span><br><span class="line">  src=<span class="string">&quot;@/assets/video/enter.mp4&quot;</span></span><br><span class="line">  @canplay=<span class="string">&quot;handleVideoCanPlay&quot;</span></span><br><span class="line">&gt;&lt;/video&gt;</span><br></pre></td></tr></table></figure><h1 id="他们的代码内容"><a href="#他们的代码内容" class="headerlink" title="他们的代码内容"></a>他们的代码内容</h1><h2 id="sequence-js"><a href="#sequence-js" class="headerlink" title="sequence.js"></a>sequence.js</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">window</span>.<span class="property">requestAnimFrame</span> = (<span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="variable language_">window</span>.<span class="property">requestAnimationFrame</span> ||</span><br><span class="line">    <span class="variable language_">window</span>.<span class="property">webkitRequestAnimationFrame</span> ||</span><br><span class="line">    <span class="variable language_">window</span>.<span class="property">mozRequestAnimationFrame</span> ||</span><br><span class="line">    <span class="keyword">function</span>(<span class="params">callback</span>) &#123;</span><br><span class="line">      <span class="variable language_">window</span>.<span class="built_in">setTimeout</span>(callback, <span class="number">1000</span> / <span class="number">60</span>);</span><br><span class="line">    &#125;;</span><br><span class="line">&#125;)();</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">sequence</span>(<span class="params">opt</span>) &#123;</span><br><span class="line">  <span class="keyword">var</span> drawWrap = <span class="variable language_">document</span>.<span class="title function_">querySelector</span>(opt.<span class="property">el</span>);</span><br><span class="line">  <span class="keyword">var</span> useMode = <span class="number">2</span>;</span><br><span class="line">  <span class="keyword">var</span> ctx = <span class="literal">null</span>;</span><br><span class="line">  <span class="keyword">var</span> imgsdom = <span class="literal">null</span>;</span><br><span class="line">  <span class="keyword">var</span> list = opt.<span class="property">list</span>;</span><br><span class="line">  <span class="keyword">var</span> count = list.<span class="property">length</span>; <span class="comment">// 修正为总长度</span></span><br><span class="line">  <span class="keyword">var</span> loadNumber = <span class="number">0</span>;</span><br><span class="line">  <span class="keyword">var</span> sprite = &#123;&#125;;</span><br><span class="line">  <span class="keyword">var</span> frameNumber = -<span class="number">1</span>;</span><br><span class="line">  <span class="keyword">var</span> lastUpdate = +<span class="keyword">new</span> <span class="title class_">Date</span>();</span><br><span class="line">  <span class="keyword">var</span> fps = opt.<span class="property">fps</span> || <span class="number">30</span>;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">if</span> (useMode === <span class="number">1</span>) &#123;</span><br><span class="line">    ctx = drawWrap.<span class="title function_">getContext</span>(<span class="string">&#x27;2d&#x27;</span>);</span><br><span class="line">    drawWrap.<span class="property">width</span> = opt.<span class="property">width</span>;</span><br><span class="line">    drawWrap.<span class="property">height</span> = opt.<span class="property">height</span>;</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">var</span> i = <span class="number">0</span>; i &lt; list.<span class="property">length</span>; i++) &#123;</span><br><span class="line">    <span class="keyword">var</span> img = <span class="keyword">new</span> <span class="title class_">Image</span>();</span><br><span class="line">    img.<span class="property">src</span> = list[i];</span><br><span class="line">    img.<span class="property">crossOrigin</span> = <span class="string">&quot;Anonymous&quot;</span>;</span><br><span class="line">    (<span class="keyword">function</span>(<span class="params">index</span>) &#123;</span><br><span class="line">      drawWrap.<span class="title function_">appendChild</span>(img);</span><br><span class="line">      img.<span class="property">style</span>.<span class="property">display</span> = <span class="string">&#x27;none&#x27;</span>;</span><br><span class="line">      img.<span class="property">onload</span> = <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        sprite[index] = <span class="variable language_">this</span>;</span><br><span class="line">        loadNumber = index;</span><br><span class="line">        <span class="keyword">if</span> (<span class="keyword">typeof</span> opt.<span class="property">progress</span> === <span class="string">&#x27;function&#x27;</span>) &#123;</span><br><span class="line">          opt.<span class="title function_">progress</span>(loadNumber / (count - <span class="number">1</span>)); <span class="comment">// 更新进度</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (loadNumber === count - <span class="number">1</span>) &#123;</span><br><span class="line">          imgsdom = <span class="variable language_">document</span>.<span class="title function_">querySelectorAll</span>(opt.<span class="property">el</span> + <span class="string">&#x27; img&#x27;</span>);</span><br><span class="line">          <span class="title function_">drawImg</span>();</span><br><span class="line">          <span class="keyword">if</span> (<span class="keyword">typeof</span> opt.<span class="property">complete</span> === <span class="string">&#x27;function&#x27;</span>) &#123;</span><br><span class="line">            opt.<span class="title function_">complete</span>();</span><br><span class="line">          &#125;</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;;</span><br><span class="line">    &#125;)(i);</span><br><span class="line">  &#125;</span><br><span class="line"></span><br><span class="line">  <span class="keyword">function</span> <span class="title function_">drawImg</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> newUpdate = +<span class="keyword">new</span> <span class="title class_">Date</span>();</span><br><span class="line">    <span class="keyword">if</span> (newUpdate - lastUpdate &gt; <span class="number">1000</span> / fps) &#123;</span><br><span class="line">      <span class="comment">// 更新帧号</span></span><br><span class="line">      frameNumber++;</span><br><span class="line">      <span class="keyword">if</span> (frameNumber &gt;= count) &#123;</span><br><span class="line">        <span class="keyword">if</span> (opt.<span class="property">loop</span>) &#123;</span><br><span class="line">          <span class="comment">// 循环播放，重置到第一帧</span></span><br><span class="line">          frameNumber = <span class="number">0</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">          <span class="comment">// 播放结束，隐藏最后一帧，触发结束回调</span></span><br><span class="line">          imgsdom[frameNumber - <span class="number">1</span>].<span class="property">style</span>.<span class="property">display</span> = <span class="string">&#x27;none&#x27;</span>;</span><br><span class="line">          <span class="keyword">if</span> (<span class="keyword">typeof</span> opt.<span class="property">playEnd</span> === <span class="string">&#x27;function&#x27;</span>) &#123;</span><br><span class="line">            opt.<span class="title function_">playEnd</span>();</span><br><span class="line">          &#125;</span><br><span class="line">          <span class="keyword">return</span>; <span class="comment">// 停止动画</span></span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      <span class="keyword">if</span> (useMode === <span class="number">2</span>) &#123;</span><br><span class="line">        <span class="comment">// 显示当前帧，隐藏上一帧</span></span><br><span class="line">        <span class="keyword">if</span> (frameNumber &gt; <span class="number">0</span>) &#123;</span><br><span class="line">          imgsdom[frameNumber - <span class="number">1</span>].<span class="property">style</span>.<span class="property">display</span> = <span class="string">&#x27;none&#x27;</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">          <span class="comment">// 如果是循环的第一帧，将最后一帧隐藏</span></span><br><span class="line">          imgsdom[count - <span class="number">1</span>].<span class="property">style</span>.<span class="property">display</span> = <span class="string">&#x27;none&#x27;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        imgsdom[frameNumber].<span class="property">style</span>.<span class="property">display</span> = <span class="string">&#x27;block&#x27;</span>;</span><br><span class="line">      &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="comment">// Canvas 绘制模式</span></span><br><span class="line">        ctx.<span class="title function_">clearRect</span>(<span class="number">0</span>, <span class="number">0</span>, drawWrap.<span class="property">width</span>, drawWrap.<span class="property">height</span>);</span><br><span class="line">        ctx.<span class="title function_">drawImage</span>(sprite[frameNumber], <span class="number">0</span>, <span class="number">0</span>, drawWrap.<span class="property">width</span>, drawWrap.<span class="property">height</span>);</span><br><span class="line">      &#125;</span><br><span class="line"></span><br><span class="line">      lastUpdate = newUpdate;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="title function_">requestAnimFrame</span>(drawImg);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="loadImgList-js"><a href="#loadImgList-js" class="headerlink" title="loadImgList.js"></a>loadImgList.js</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">window</span>.<span class="property">loadImgList</span> = [</span><br><span class="line">  <span class="string">&#x27;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/add-btn.png?=t1735835345270&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/close-btn.png?=t1735835345270&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/copy-btn.png?=t1735835345270&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/destory/appoint-count-bg.png?=t1735835345270&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/destory/destory-bg.png?=t1735835345270&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/destory/fault/1.png?=t1735835345270&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/destory/fault/2.png?=t1735835345270&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/destory/fault/3.png?=t1735835345270&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/destory/fault/4.png?=t1735835345270&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/destory/fault/5.png?=t1735835345270&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/destory/float-window.png?=t1735835345270&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/destory/inner-shadowing.png?=t1735835345270&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/destory/light.png?=t1735835345270&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/destory/main-bar.png?=t1735835345270&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/destory/mask.png?=t1735835345270&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/destory/network-icon.png?=t1735835345270&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/destory/notice-bar.png?=t1735835345270&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/destory/qq-icon.png?=t1735835345270&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/destory/shortcut/cf-h.png?=t1735835345270&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/destory/shortcut/cf.png?=t1735835345270&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/destory/shortcut/img-h.png?=t1735835345270&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/destory/shortcut/img.png?=t1735835345270&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/destory/shortcut/music-h.png?=t1735835345270&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/destory/shortcut/music.png?=t1735835345270&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/destory/shortcut/video-h.png?=t1735835345270&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/destory/shortcut/video.png?=t1735835345270&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/destory/source-icon.png?=t1735835345270&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/destory/temp.jpg?=t1735835345270&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/destory/window.png?=t1735835345270&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/hjLogin/close-btn.png?=t1735835345270&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/hjLogin/hj-login-bg.png?=t1735835345270&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/hjLogin/hj-subscribe-btn-h.png?=t1735835345270&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/hjLogin/hj-subscribe-btn.png?=t1735835345270&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/hjSubscribe/hj-bg.png?=t1735835345270&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/hjSubscribe/input-box1.png?=t1735835345270&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/hjSubscribe/input-box2.png?=t1735835345270&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/hjSubscribe/jddp-name.png?=t1735835345270&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/hjSubscribe/mc-tips.png?=t1735835345270&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/hjSubscribe/rewards-table.png?=t1735835345270&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/hjSubscribe/submit-btn.png?=t1735835345270&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/image/control-bg.png?=t1735835345270&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/image/list/1.jpg?=t1735835345270&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/image/list/10.jpg?=t1735835345270&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/image/list/11.jpg?=t1735835345270&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/image/list/12.jpg?=t1735835345270&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/image/list/13.jpg?=t1735835345270&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/image/list/14.jpg?=t1735835345270&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/image/list/15.jpg?=t1735835345270&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/image/list/16.jpg?=t1735835345270&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/image/list/17.jpg?=t1735835345270&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/image/list/18.jpg?=t1735835345270&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/image/list/19.jpg?=t1735835345270&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/image/list/2.jpg?=t1735835345270&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/image/list/20.jpg?=t1735835345270&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/image/list/21.jpg?=t1735835345270&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/image/list/22.jpg?=t1735835345270&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/image/list/23.jpg?=t1735835345270&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/image/list/24.jpg?=t1735835345270&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/image/list/25.jpg?=t1735835345270&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/image/list/26.jpg?=t1735835345270&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/image/list/27.jpg?=t1735835345270&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/image/list/3.jpg?=t1735835345270&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/image/list/4.jpg?=t1735835345270&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/image/list/5.jpg?=t1735835345270&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/image/list/6.jpg?=t1735835345270&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/image/list/7.jpg?=t1735835345270&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/image/list/8.jpg?=t1735835345270&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/image/list/9.jpg?=t1735835345270&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/image/next-h.png?=t1735835345270&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/image/next.png?=t1735835345270&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/image/prev-h.png?=t1735835345270&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/image/prev.png?=t1735835345270&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/image/wrapper-bg.png?=t1735835345270&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/invite-bg.png?=t1735835345270&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/line.png?=t1735835345270&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/loading.png?=t1735835345270&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/login-popup.png?=t1735835345270&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/login-title.png?=t1735835345270&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/music/btn/close-h.png?=t1735835345270&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/music/btn/close.png?=t1735835345270&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/music/btn/control-bg1.png?=t1735835345270&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/music/btn/control-bg2.png?=t1735835345270&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/music/btn/divider.png?=t1735835345270&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/music/btn/file.png?=t1735835345270&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/music/btn/list.png?=t1735835345270&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/music/btn/next-h.png?=t1735835345270&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/music/btn/next.png?=t1735835345270&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/music/btn/pause-h.png?=t1735835345270&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/music/btn/pause.png?=t1735835345270&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/music/btn/playing-h.png?=t1735835345270&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/music/btn/playing.png?=t1735835345270&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/music/btn/prev-h.png?=t1735835345270&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/music/btn/prev.png?=t1735835345270&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/music/btn/process-btn.png?=t1735835345270&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/music/btn/scroll-btn.png?=t1735835345270&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/music/btn/scroll-down.png?=t1735835345270&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/music/btn/scroll-up.png?=t1735835345270&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/music/btn/source-mute-h.png?=t1735835345270&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/music/btn/source-mute.png?=t1735835345270&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/music/btn/source-open-h.png?=t1735835345270&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/music/btn/source-open.png?=t1735835345270&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/music/btn/stop-h.png?=t1735835345270&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/music/btn/stop.png?=t1735835345270&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/music/btn/unknown.png?=t1735835345270&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/music/btn/volume.png?=t1735835345270&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/music/btn/volumn-btn.png?=t1735835345270&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/music/list-bg.png?=t1735835345270&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/music/list-item-hover.png?=t1735835345270&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/music/process-bg-h.png?=t1735835345270&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/music/process-bg.png?=t1735835345270&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/music/status-bg.png?=t1735835345270&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/music/volumn-bg.png?=t1735835345270&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/qq-icon-h.png?=t1735835345270&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/qq-icon.png?=t1735835345270&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/role.jpg?=t1735835345270&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/start.png?=t1735835345270&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/video/adorn1.png?=t1735835345270&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/video/adorn2.png?=t1735835345270&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/video/bar-next-btn.png?=t1735835345270&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/video/bar-prev-btn.png?=t1735835345270&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/video/close-btn.png?=t1735835345270&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/video/icon-bg1.png?=t1735835345270&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/video/icon-bg2.png?=t1735835345270&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/video/icon-bg3-h.png?=t1735835345270&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/video/icon-bg3.png?=t1735835345270&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/video/line.png?=t1735835345270&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/video/list-h.png?=t1735835345270&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/video/logo.png?=t1735835345270&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/video/mute-play-btn.png?=t1735835345270&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/video/mute-stop-btn.png?=t1735835345270&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/video/next-btn.png?=t1735835345270&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/video/pause-btn.png?=t1735835345270&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/video/play-btn.png?=t1735835345270&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/video/prev-btn.png?=t1735835345270&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/video/progress-handle.png?=t1735835345270&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/video/sjx1.png?=t1735835345270&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/video/sjx2.png?=t1735835345270&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/video/stop-btn.png?=t1735835345270&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/video/video-bg.png?=t1735835345270&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/video/video-img.jpg?=t1735835345270&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/video/volume-handle.png?=t1735835345270&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/video/volume-slider.png?=t1735835345270&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/wechat-icon-h.png?=t1735835345270&#x27;</span>,</span><br><span class="line">  <span class="string">&#x27;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/wechat-icon.png?=t1735835345270&#x27;</span></span><br><span class="line">];</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="variable language_">window</span>.<span class="property">faultImgList</span> = [</span><br><span class="line">  <span class="string">&quot;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/destory/fault/1.png?=t1735835345270&quot;</span>,</span><br><span class="line">  <span class="string">&quot;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/destory/fault/2.png?=t1735835345270&quot;</span>,</span><br><span class="line">  <span class="string">&quot;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/destory/fault/3.png?=t1735835345270&quot;</span>,</span><br><span class="line">  <span class="string">&quot;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/destory/fault/4.png?=t1735835345270&quot;</span>,</span><br><span class="line">]</span><br><span class="line"></span><br><span class="line"><span class="variable language_">window</span>.<span class="property">imageViewList</span> = [</span><br><span class="line">  <span class="string">&quot;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/image/list/1.jpg?=t1735835345270&quot;</span>,</span><br><span class="line">  <span class="string">&quot;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/image/list/2.jpg?=t1735835345270&quot;</span>,</span><br><span class="line">  <span class="string">&quot;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/image/list/3.jpg?=t1735835345270&quot;</span>,</span><br><span class="line">  <span class="string">&quot;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/image/list/4.jpg?=t1735835345270&quot;</span>,</span><br><span class="line">  <span class="string">&quot;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/image/list/5.jpg?=t1735835345270&quot;</span>,</span><br><span class="line">  <span class="string">&quot;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/image/list/6.jpg?=t1735835345270&quot;</span>,</span><br><span class="line">  <span class="string">&quot;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/image/list/7.jpg?=t1735835345270&quot;</span>,</span><br><span class="line">  <span class="string">&quot;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/image/list/8.jpg?=t1735835345270&quot;</span>,</span><br><span class="line">  <span class="string">&quot;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/image/list/9.jpg?=t1735835345270&quot;</span>,</span><br><span class="line">  <span class="string">&quot;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/image/list/10.jpg?=t1735835345270&quot;</span>,</span><br><span class="line">  <span class="string">&quot;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/image/list/11.jpg?=t1735835345270&quot;</span>,</span><br><span class="line">  <span class="string">&quot;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/image/list/12.jpg?=t1735835345270&quot;</span>,</span><br><span class="line">  <span class="string">&quot;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/image/list/13.jpg?=t1735835345270&quot;</span>,</span><br><span class="line">  <span class="string">&quot;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/image/list/14.jpg?=t1735835345270&quot;</span>,</span><br><span class="line">  <span class="string">&quot;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/image/list/15.jpg?=t1735835345270&quot;</span>,</span><br><span class="line">  <span class="string">&quot;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/image/list/16.jpg?=t1735835345270&quot;</span>,</span><br><span class="line">  <span class="string">&quot;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/image/list/17.jpg?=t1735835345270&quot;</span>,</span><br><span class="line">  <span class="string">&quot;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/image/list/18.jpg?=t1735835345270&quot;</span>,</span><br><span class="line">  <span class="string">&quot;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/image/list/19.jpg?=t1735835345270&quot;</span>,</span><br><span class="line">  <span class="string">&quot;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/image/list/20.jpg?=t1735835345270&quot;</span>,</span><br><span class="line">  <span class="string">&quot;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/image/list/21.jpg?=t1735835345270&quot;</span>,</span><br><span class="line">  <span class="string">&quot;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/image/list/22.jpg?=t1735835345270&quot;</span>,</span><br><span class="line">  <span class="string">&quot;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/image/list/23.jpg?=t1735835345270&quot;</span>,</span><br><span class="line">  <span class="string">&quot;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/image/list/24.jpg?=t1735835345270&quot;</span>,</span><br><span class="line">  <span class="string">&quot;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/image/list/25.jpg?=t1735835345270&quot;</span>,</span><br><span class="line">  <span class="string">&quot;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/image/list/26.jpg?=t1735835345270&quot;</span>,</span><br><span class="line">  <span class="string">&quot;//game.gtimg.cn/images/cf/cp/a20241227reserve/pc/image/list/27.jpg?=t1735835345270&quot;</span>,</span><br><span class="line">]</span><br></pre></td></tr></table></figure><h2 id="index-js"><a href="#index-js" class="headerlink" title="index.js"></a>index.js</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br><span class="line">370</span><br><span class="line">371</span><br><span class="line">372</span><br><span class="line">373</span><br><span class="line">374</span><br><span class="line">375</span><br><span class="line">376</span><br><span class="line">377</span><br><span class="line">378</span><br><span class="line">379</span><br><span class="line">380</span><br><span class="line">381</span><br><span class="line">382</span><br><span class="line">383</span><br><span class="line">384</span><br><span class="line">385</span><br><span class="line">386</span><br><span class="line">387</span><br><span class="line">388</span><br><span class="line">389</span><br><span class="line">390</span><br><span class="line">391</span><br><span class="line">392</span><br><span class="line">393</span><br><span class="line">394</span><br><span class="line">395</span><br><span class="line">396</span><br><span class="line">397</span><br><span class="line">398</span><br><span class="line">399</span><br><span class="line">400</span><br><span class="line">401</span><br><span class="line">402</span><br><span class="line">403</span><br><span class="line">404</span><br><span class="line">405</span><br><span class="line">406</span><br><span class="line">407</span><br><span class="line">408</span><br><span class="line">409</span><br><span class="line">410</span><br><span class="line">411</span><br><span class="line">412</span><br><span class="line">413</span><br><span class="line">414</span><br><span class="line">415</span><br><span class="line">416</span><br><span class="line">417</span><br><span class="line">418</span><br><span class="line">419</span><br><span class="line">420</span><br><span class="line">421</span><br><span class="line">422</span><br><span class="line">423</span><br><span class="line">424</span><br><span class="line">425</span><br><span class="line">426</span><br><span class="line">427</span><br><span class="line">428</span><br><span class="line">429</span><br><span class="line">430</span><br><span class="line">431</span><br><span class="line">432</span><br><span class="line">433</span><br><span class="line">434</span><br><span class="line">435</span><br><span class="line">436</span><br><span class="line">437</span><br><span class="line">438</span><br><span class="line">439</span><br><span class="line">440</span><br><span class="line">441</span><br><span class="line">442</span><br><span class="line">443</span><br><span class="line">444</span><br><span class="line">445</span><br><span class="line">446</span><br><span class="line">447</span><br><span class="line">448</span><br><span class="line">449</span><br><span class="line">450</span><br><span class="line">451</span><br><span class="line">452</span><br><span class="line">453</span><br><span class="line">454</span><br><span class="line">455</span><br><span class="line">456</span><br><span class="line">457</span><br><span class="line">458</span><br><span class="line">459</span><br><span class="line">460</span><br><span class="line">461</span><br><span class="line">462</span><br><span class="line">463</span><br><span class="line">464</span><br><span class="line">465</span><br><span class="line">466</span><br><span class="line">467</span><br><span class="line">468</span><br><span class="line">469</span><br><span class="line">470</span><br><span class="line">471</span><br><span class="line">472</span><br><span class="line">473</span><br><span class="line">474</span><br><span class="line">475</span><br><span class="line">476</span><br><span class="line">477</span><br><span class="line">478</span><br><span class="line">479</span><br><span class="line">480</span><br><span class="line">481</span><br><span class="line">482</span><br><span class="line">483</span><br><span class="line">484</span><br><span class="line">485</span><br><span class="line">486</span><br><span class="line">487</span><br><span class="line">488</span><br><span class="line">489</span><br><span class="line">490</span><br><span class="line">491</span><br><span class="line">492</span><br><span class="line">493</span><br><span class="line">494</span><br><span class="line">495</span><br><span class="line">496</span><br><span class="line">497</span><br><span class="line">498</span><br><span class="line">499</span><br><span class="line">500</span><br><span class="line">501</span><br><span class="line">502</span><br><span class="line">503</span><br><span class="line">504</span><br><span class="line">505</span><br><span class="line">506</span><br><span class="line">507</span><br><span class="line">508</span><br><span class="line">509</span><br><span class="line">510</span><br><span class="line">511</span><br><span class="line">512</span><br><span class="line">513</span><br><span class="line">514</span><br><span class="line">515</span><br><span class="line">516</span><br><span class="line">517</span><br><span class="line">518</span><br><span class="line">519</span><br><span class="line">520</span><br><span class="line">521</span><br><span class="line">522</span><br><span class="line">523</span><br><span class="line">524</span><br><span class="line">525</span><br><span class="line">526</span><br><span class="line">527</span><br><span class="line">528</span><br><span class="line">529</span><br><span class="line">530</span><br><span class="line">531</span><br><span class="line">532</span><br><span class="line">533</span><br><span class="line">534</span><br><span class="line">535</span><br><span class="line">536</span><br><span class="line">537</span><br><span class="line">538</span><br><span class="line">539</span><br><span class="line">540</span><br><span class="line">541</span><br><span class="line">542</span><br><span class="line">543</span><br><span class="line">544</span><br><span class="line">545</span><br><span class="line">546</span><br><span class="line">547</span><br><span class="line">548</span><br><span class="line">549</span><br><span class="line">550</span><br><span class="line">551</span><br><span class="line">552</span><br><span class="line">553</span><br><span class="line">554</span><br><span class="line">555</span><br><span class="line">556</span><br><span class="line">557</span><br><span class="line">558</span><br><span class="line">559</span><br><span class="line">560</span><br><span class="line">561</span><br><span class="line">562</span><br><span class="line">563</span><br><span class="line">564</span><br><span class="line">565</span><br><span class="line">566</span><br><span class="line">567</span><br><span class="line">568</span><br><span class="line">569</span><br><span class="line">570</span><br><span class="line">571</span><br><span class="line">572</span><br><span class="line">573</span><br><span class="line">574</span><br><span class="line">575</span><br><span class="line">576</span><br><span class="line">577</span><br><span class="line">578</span><br><span class="line">579</span><br><span class="line">580</span><br><span class="line">581</span><br><span class="line">582</span><br><span class="line">583</span><br><span class="line">584</span><br><span class="line">585</span><br><span class="line">586</span><br><span class="line">587</span><br><span class="line">588</span><br><span class="line">589</span><br><span class="line">590</span><br><span class="line">591</span><br><span class="line">592</span><br><span class="line">593</span><br><span class="line">594</span><br><span class="line">595</span><br><span class="line">596</span><br><span class="line">597</span><br><span class="line">598</span><br><span class="line">599</span><br><span class="line">600</span><br><span class="line">601</span><br><span class="line">602</span><br><span class="line">603</span><br><span class="line">604</span><br><span class="line">605</span><br><span class="line">606</span><br><span class="line">607</span><br><span class="line">608</span><br><span class="line">609</span><br><span class="line">610</span><br><span class="line">611</span><br><span class="line">612</span><br><span class="line">613</span><br><span class="line">614</span><br><span class="line">615</span><br><span class="line">616</span><br><span class="line">617</span><br><span class="line">618</span><br><span class="line">619</span><br><span class="line">620</span><br><span class="line">621</span><br><span class="line">622</span><br><span class="line">623</span><br><span class="line">624</span><br><span class="line">625</span><br><span class="line">626</span><br><span class="line">627</span><br><span class="line">628</span><br><span class="line">629</span><br><span class="line">630</span><br><span class="line">631</span><br><span class="line">632</span><br><span class="line">633</span><br><span class="line">634</span><br><span class="line">635</span><br><span class="line">636</span><br><span class="line">637</span><br><span class="line">638</span><br><span class="line">639</span><br><span class="line">640</span><br><span class="line">641</span><br><span class="line">642</span><br><span class="line">643</span><br><span class="line">644</span><br><span class="line">645</span><br><span class="line">646</span><br><span class="line">647</span><br><span class="line">648</span><br><span class="line">649</span><br><span class="line">650</span><br><span class="line">651</span><br><span class="line">652</span><br><span class="line">653</span><br><span class="line">654</span><br><span class="line">655</span><br><span class="line">656</span><br><span class="line">657</span><br><span class="line">658</span><br><span class="line">659</span><br><span class="line">660</span><br><span class="line">661</span><br><span class="line">662</span><br><span class="line">663</span><br><span class="line">664</span><br><span class="line">665</span><br><span class="line">666</span><br><span class="line">667</span><br><span class="line">668</span><br><span class="line">669</span><br><span class="line">670</span><br><span class="line">671</span><br><span class="line">672</span><br><span class="line">673</span><br><span class="line">674</span><br><span class="line">675</span><br><span class="line">676</span><br><span class="line">677</span><br><span class="line">678</span><br><span class="line">679</span><br><span class="line">680</span><br><span class="line">681</span><br><span class="line">682</span><br><span class="line">683</span><br><span class="line">684</span><br><span class="line">685</span><br><span class="line">686</span><br><span class="line">687</span><br><span class="line">688</span><br><span class="line">689</span><br><span class="line">690</span><br><span class="line">691</span><br><span class="line">692</span><br><span class="line">693</span><br><span class="line">694</span><br><span class="line">695</span><br><span class="line">696</span><br><span class="line">697</span><br><span class="line">698</span><br><span class="line">699</span><br><span class="line">700</span><br><span class="line">701</span><br><span class="line">702</span><br><span class="line">703</span><br><span class="line">704</span><br><span class="line">705</span><br><span class="line">706</span><br><span class="line">707</span><br><span class="line">708</span><br><span class="line">709</span><br><span class="line">710</span><br><span class="line">711</span><br><span class="line">712</span><br><span class="line">713</span><br><span class="line">714</span><br><span class="line">715</span><br><span class="line">716</span><br><span class="line">717</span><br><span class="line">718</span><br><span class="line">719</span><br><span class="line">720</span><br><span class="line">721</span><br><span class="line">722</span><br><span class="line">723</span><br><span class="line">724</span><br><span class="line">725</span><br><span class="line">726</span><br><span class="line">727</span><br><span class="line">728</span><br><span class="line">729</span><br><span class="line">730</span><br><span class="line">731</span><br><span class="line">732</span><br><span class="line">733</span><br><span class="line">734</span><br><span class="line">735</span><br><span class="line">736</span><br><span class="line">737</span><br><span class="line">738</span><br><span class="line">739</span><br><span class="line">740</span><br><span class="line">741</span><br><span class="line">742</span><br><span class="line">743</span><br><span class="line">744</span><br><span class="line">745</span><br><span class="line">746</span><br><span class="line">747</span><br><span class="line">748</span><br><span class="line">749</span><br><span class="line">750</span><br><span class="line">751</span><br><span class="line">752</span><br><span class="line">753</span><br><span class="line">754</span><br><span class="line">755</span><br><span class="line">756</span><br><span class="line">757</span><br><span class="line">758</span><br><span class="line">759</span><br><span class="line">760</span><br><span class="line">761</span><br><span class="line">762</span><br><span class="line">763</span><br><span class="line">764</span><br><span class="line">765</span><br><span class="line">766</span><br><span class="line">767</span><br><span class="line">768</span><br><span class="line">769</span><br><span class="line">770</span><br><span class="line">771</span><br><span class="line">772</span><br><span class="line">773</span><br><span class="line">774</span><br><span class="line">775</span><br><span class="line">776</span><br><span class="line">777</span><br><span class="line">778</span><br><span class="line">779</span><br><span class="line">780</span><br><span class="line">781</span><br><span class="line">782</span><br><span class="line">783</span><br><span class="line">784</span><br><span class="line">785</span><br><span class="line">786</span><br><span class="line">787</span><br><span class="line">788</span><br><span class="line">789</span><br><span class="line">790</span><br><span class="line">791</span><br><span class="line">792</span><br><span class="line">793</span><br><span class="line">794</span><br><span class="line">795</span><br><span class="line">796</span><br><span class="line">797</span><br><span class="line">798</span><br><span class="line">799</span><br><span class="line">800</span><br><span class="line">801</span><br><span class="line">802</span><br><span class="line">803</span><br><span class="line">804</span><br><span class="line">805</span><br><span class="line">806</span><br><span class="line">807</span><br><span class="line">808</span><br><span class="line">809</span><br><span class="line">810</span><br><span class="line">811</span><br><span class="line">812</span><br><span class="line">813</span><br><span class="line">814</span><br><span class="line">815</span><br><span class="line">816</span><br><span class="line">817</span><br><span class="line">818</span><br><span class="line">819</span><br><span class="line">820</span><br><span class="line">821</span><br><span class="line">822</span><br><span class="line">823</span><br><span class="line">824</span><br><span class="line">825</span><br><span class="line">826</span><br><span class="line">827</span><br><span class="line">828</span><br><span class="line">829</span><br><span class="line">830</span><br><span class="line">831</span><br><span class="line">832</span><br><span class="line">833</span><br><span class="line">834</span><br><span class="line">835</span><br><span class="line">836</span><br><span class="line">837</span><br><span class="line">838</span><br><span class="line">839</span><br><span class="line">840</span><br><span class="line">841</span><br><span class="line">842</span><br><span class="line">843</span><br><span class="line">844</span><br><span class="line">845</span><br><span class="line">846</span><br><span class="line">847</span><br><span class="line">848</span><br><span class="line">849</span><br><span class="line">850</span><br><span class="line">851</span><br><span class="line">852</span><br><span class="line">853</span><br><span class="line">854</span><br><span class="line">855</span><br><span class="line">856</span><br><span class="line">857</span><br><span class="line">858</span><br><span class="line">859</span><br><span class="line">860</span><br><span class="line">861</span><br><span class="line">862</span><br><span class="line">863</span><br><span class="line">864</span><br><span class="line">865</span><br><span class="line">866</span><br><span class="line">867</span><br><span class="line">868</span><br><span class="line">869</span><br><span class="line">870</span><br><span class="line">871</span><br><span class="line">872</span><br><span class="line">873</span><br><span class="line">874</span><br><span class="line">875</span><br><span class="line">876</span><br><span class="line">877</span><br><span class="line">878</span><br><span class="line">879</span><br><span class="line">880</span><br><span class="line">881</span><br><span class="line">882</span><br><span class="line">883</span><br><span class="line">884</span><br><span class="line">885</span><br><span class="line">886</span><br><span class="line">887</span><br><span class="line">888</span><br><span class="line">889</span><br><span class="line">890</span><br><span class="line">891</span><br><span class="line">892</span><br><span class="line">893</span><br><span class="line">894</span><br><span class="line">895</span><br><span class="line">896</span><br><span class="line">897</span><br><span class="line">898</span><br><span class="line">899</span><br><span class="line">900</span><br><span class="line">901</span><br><span class="line">902</span><br><span class="line">903</span><br><span class="line">904</span><br><span class="line">905</span><br><span class="line">906</span><br><span class="line">907</span><br><span class="line">908</span><br><span class="line">909</span><br><span class="line">910</span><br><span class="line">911</span><br><span class="line">912</span><br><span class="line">913</span><br><span class="line">914</span><br><span class="line">915</span><br><span class="line">916</span><br><span class="line">917</span><br><span class="line">918</span><br><span class="line">919</span><br><span class="line">920</span><br><span class="line">921</span><br><span class="line">922</span><br><span class="line">923</span><br><span class="line">924</span><br><span class="line">925</span><br><span class="line">926</span><br><span class="line">927</span><br><span class="line">928</span><br><span class="line">929</span><br><span class="line">930</span><br><span class="line">931</span><br><span class="line">932</span><br><span class="line">933</span><br><span class="line">934</span><br><span class="line">935</span><br><span class="line">936</span><br><span class="line">937</span><br><span class="line">938</span><br><span class="line">939</span><br><span class="line">940</span><br><span class="line">941</span><br><span class="line">942</span><br><span class="line">943</span><br><span class="line">944</span><br><span class="line">945</span><br><span class="line">946</span><br><span class="line">947</span><br><span class="line">948</span><br><span class="line">949</span><br><span class="line">950</span><br><span class="line">951</span><br><span class="line">952</span><br><span class="line">953</span><br><span class="line">954</span><br><span class="line">955</span><br><span class="line">956</span><br><span class="line">957</span><br><span class="line">958</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">openPop</span>(<span class="params">className</span>) &#123;</span><br><span class="line">  <span class="keyword">if</span> (!className) <span class="keyword">return</span>;</span><br><span class="line">  $(<span class="string">&quot;.application&quot;</span>).<span class="title function_">show</span>();</span><br><span class="line">  $(<span class="string">&quot;.application &gt; .pop.&quot;</span> + className).<span class="title function_">show</span>();</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// openPop(&#x27;share-popup&#x27;)</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 打开公用弹窗</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">commonPop</span>(<span class="params">text</span>) &#123;</span><br><span class="line">  $(<span class="string">&quot;.common-popup .alter-text p&quot;</span>).<span class="title function_">text</span>(text);</span><br><span class="line">  <span class="title function_">openPop</span>(<span class="string">&quot;common-popup&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> processWidths = isMobile ? [<span class="number">30</span>, <span class="number">40</span>] : [<span class="number">22</span>, <span class="number">44</span>];</span><br><span class="line"><span class="keyword">const</span> videoWidths = isMobile ? [<span class="number">41</span>, <span class="number">44</span>] : [<span class="number">41</span>, <span class="number">44</span>];</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">changeProgress</span>(<span class="params">$progressPlayed, percent, padding, thumbWidth, $input</span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> totalWidth = <span class="built_in">parseInt</span>(</span><br><span class="line">    ($input || $progressPlayed.<span class="title function_">parent</span>().<span class="title function_">children</span>(<span class="string">&quot;#music-progress&quot;</span>)).<span class="title function_">css</span>(</span><br><span class="line">      <span class="string">&quot;width&quot;</span></span><br><span class="line">    )</span><br><span class="line">  );</span><br><span class="line">  $progressPlayed.<span class="title function_">css</span>(</span><br><span class="line">    <span class="string">&quot;width&quot;</span>,</span><br><span class="line">    <span class="string">`<span class="subst">$&#123;<span class="built_in">Math</span>.floor(percent * (totalWidth - thumbWidth)) +</span></span></span><br><span class="line"><span class="subst"><span class="string">       padding +</span></span></span><br><span class="line"><span class="subst"><span class="string">       thumbWidth / <span class="number">2</span></span></span></span><br><span class="line"><span class="subst"><span class="string">     &#125;</span>px`</span></span><br><span class="line">  );</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">closePop</span>(<span class="params"></span>) &#123;</span><br><span class="line">  $(<span class="string">&quot;.application&quot;</span>).<span class="title function_">hide</span>();</span><br><span class="line">  $(<span class="string">&quot;.application &gt; .pop&quot;</span>).<span class="title function_">hide</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">initVisualizer</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> visualizer = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;visualizer&quot;</span>);</span><br><span class="line">  <span class="keyword">const</span> barWidth = <span class="number">2</span>; <span class="comment">// Width of each bar</span></span><br><span class="line">  <span class="keyword">const</span> barGap = <span class="number">3</span>; <span class="comment">// Gap between bars</span></span><br><span class="line">  <span class="keyword">const</span> containerWidth = visualizer.<span class="property">clientWidth</span>;</span><br><span class="line">  <span class="keyword">const</span> barCount = <span class="title class_">Math</span>.<span class="title function_">floor</span>(containerWidth / (barWidth + barGap)); <span class="comment">// Calculate number of bars</span></span><br><span class="line"></span><br><span class="line">  visualizer.<span class="property">innerHTML</span> = <span class="string">&quot;&quot;</span>; <span class="comment">// Clear existing bars</span></span><br><span class="line"></span><br><span class="line">  <span class="keyword">for</span> (<span class="keyword">let</span> i = <span class="number">0</span>; i &lt; barCount; i++) &#123;</span><br><span class="line">    <span class="keyword">const</span> bar = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&quot;div&quot;</span>);</span><br><span class="line">    bar.<span class="property">className</span> = <span class="string">&quot;bar&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">const</span> isDown = <span class="title class_">Math</span>.<span class="title function_">random</span>() &lt; <span class="number">0.5</span>; <span class="comment">// Randomly determine animation direction</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// Set random initial height between 15% and 50%</span></span><br><span class="line">    <span class="keyword">const</span> minHeight = <span class="number">15</span> + <span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">35</span>;</span><br><span class="line">    <span class="keyword">const</span> maxHeight = minHeight + <span class="number">30</span> + <span class="title class_">Math</span>.<span class="title function_">random</span>() * <span class="number">20</span>;</span><br><span class="line"></span><br><span class="line">    bar.<span class="property">style</span>.<span class="title function_">setProperty</span>(</span><br><span class="line">      <span class="string">&quot;--min-height&quot;</span>,</span><br><span class="line">      <span class="string">`<span class="subst">$&#123;isDown ? minHeight : maxHeight&#125;</span>%`</span></span><br><span class="line">    );</span><br><span class="line">    bar.<span class="property">style</span>.<span class="title function_">setProperty</span>(</span><br><span class="line">      <span class="string">&quot;--max-height&quot;</span>,</span><br><span class="line">      <span class="string">`<span class="subst">$&#123;isDown ? maxHeight : minHeight&#125;</span>%`</span></span><br><span class="line">    );</span><br><span class="line">    bar.<span class="property">style</span>.<span class="property">animationDuration</span> = <span class="string">`<span class="subst">$&#123;<span class="number">0.8</span> + <span class="built_in">Math</span>.random() * <span class="number">0.6</span>&#125;</span>s`</span>;</span><br><span class="line">    <span class="comment">// bar.style.marginRight = `$&#123;barGap&#125;px`;</span></span><br><span class="line"></span><br><span class="line">    visualizer.<span class="title function_">appendChild</span>(bar);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">initMusicPlayer</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">const</span> playlist = [</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">name</span>: <span class="string">&quot;Metrohead&quot;</span>,</span><br><span class="line">      <span class="attr">url</span>: <span class="string">&quot;https://cf.lv.game.qq.com/dis_kt_b280c0dca695b9f721e7768bab9b2f42_1735811699/0b53zeaccaaatuaehilwbrt6psodeheqaiia.f0.mp3&quot;</span>,</span><br><span class="line">      <span class="attr">time</span>: <span class="string">&quot;02:58&quot;</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">name</span>: <span class="string">&quot;Cyber Thug&quot;</span>,</span><br><span class="line">      <span class="attr">url</span>: <span class="string">&quot;https://cf.lv.game.qq.com/dis_kt_ec180a5af07c28f418f6d898dbafb2bb_1735811692/0b53b4aciaaaliaemrlwyft6od6deqhqajaa.f0.mp3&quot;</span>,</span><br><span class="line">      <span class="attr">time</span>: <span class="string">&quot;02:51&quot;</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">name</span>: <span class="string">&quot;Unbound&quot;</span>,</span><br><span class="line">      <span class="attr">url</span>: <span class="string">&quot;https://cf.lv.game.qq.com/dis_kt_567b23889847372baf4fb478aa60e27d_1735811685/0b53faaceaaapuaeb3lwbrt6okgdeiuaaiqa.f0.mp3&quot;</span>,</span><br><span class="line">      <span class="attr">time</span>: <span class="string">&quot;02:01&quot;</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">name</span>: <span class="string">&quot;strategy now&quot;</span>,</span><br><span class="line">      <span class="attr">url</span>: <span class="string">&quot;https://cf.lv.game.qq.com/dis_kt_0e4a42d1944de32220cf46cd899994c9_1735811678/0b53mmaceaaag4aebn3wdnt6oy6dejrqaiqa.f0.mp3&quot;</span>,</span><br><span class="line">      <span class="attr">time</span>: <span class="string">&quot;01:50&quot;</span>,</span><br><span class="line">    &#125;,</span><br><span class="line">    &#123;</span><br><span class="line">      <span class="attr">name</span>: <span class="string">&quot;《穿越火线》游戏主题曲&quot;</span>,</span><br><span class="line">            <span class="attr">url</span>: <span class="string">&quot;https://cf.lv.game.qq.com/dis_kt_1587e1a11e613382719dfea73b2d0595_1735888214/0b535macsaaau4akiwtx4zt6p26dfhvqakia.f0.mp3&quot;</span>,</span><br><span class="line">            <span class="attr">time</span>: <span class="string">&quot;03:27&quot;</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">    ];</span><br><span class="line"></span><br><span class="line">    <span class="keyword">let</span> currentIndex = <span class="number">0</span>; <span class="comment">// Current track index</span></span><br><span class="line">    <span class="keyword">let</span> sound; <span class="comment">// Howler.js sound instance</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">loadTrack</span>(<span class="params">index</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (sound) &#123;</span><br><span class="line">            sound.<span class="title function_">unload</span>(); <span class="comment">// Unload the current audio</span></span><br><span class="line">        &#125;</span><br><span class="line">        sound = <span class="keyword">new</span> <span class="title class_">Howl</span>(&#123;</span><br><span class="line">            <span class="attr">src</span>: [playlist[index].<span class="property">url</span>],</span><br><span class="line">            <span class="attr">html5</span>: !isMobile,</span><br><span class="line">            <span class="attr">onplay</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">                playPauseButton.<span class="title function_">addClass</span>(<span class="string">&quot;playing&quot;</span>);</span><br><span class="line">                $(<span class="string">&quot;#visualizer&quot;</span>).<span class="title function_">addClass</span>(<span class="string">&quot;running&quot;</span>);</span><br><span class="line">                <span class="title function_">requestAnimationFrame</span>(updateProgress);</span><br><span class="line">            &#125;,</span><br><span class="line">            <span class="attr">onend</span>: nextTrack,</span><br><span class="line">            <span class="attr">onstop</span>: <span class="function">() =&gt;</span> &#123;</span><br><span class="line">                playPauseButton.<span class="title function_">removeClass</span>(<span class="string">&quot;playing&quot;</span>);</span><br><span class="line">                $(<span class="string">&quot;#visualizer&quot;</span>).<span class="title function_">removeClass</span>(<span class="string">&quot;running&quot;</span>);</span><br><span class="line">                <span class="title function_">requestAnimationFrame</span>(updateProgress);</span><br><span class="line">            &#125;,</span><br><span class="line">            <span class="attr">onpause</span>: <span class="function">() =&gt;</span> &#123;</span><br><span class="line">                playPauseButton.<span class="title function_">removeClass</span>(<span class="string">&quot;playing&quot;</span>);</span><br><span class="line">                $(<span class="string">&quot;#visualizer&quot;</span>).<span class="title function_">removeClass</span>(<span class="string">&quot;running&quot;</span>);</span><br><span class="line">                <span class="title function_">requestAnimationFrame</span>(updateProgress);</span><br><span class="line">            &#125;,</span><br><span class="line">        &#125;);</span><br><span class="line">        <span class="title function_">updateNowPlaying</span>(index);</span><br><span class="line">        <span class="title function_">requestAnimationFrame</span>(updateProgress);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Update the currently playing track</span></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">updateNowPlaying</span>(<span class="params">index</span>) &#123;</span><br><span class="line">        $(<span class="string">&quot;.now-playing&quot;</span>).<span class="title function_">text</span>(<span class="string">`正在播放 - <span class="subst">$&#123;playlist[index].name&#125;</span>`</span>);</span><br><span class="line">        $(<span class="string">&quot;.playlist-item&quot;</span>).<span class="title function_">removeClass</span>(<span class="string">&quot;active&quot;</span>);</span><br><span class="line">        $(<span class="string">&quot;.playlist-item&quot;</span>).<span class="title function_">eq</span>(index).<span class="title function_">addClass</span>(<span class="string">&quot;active&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Render the playlist</span></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">renderPlaylist</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">const</span> playlistContainer = $(<span class="string">&quot;.playlist&quot;</span>);</span><br><span class="line">        playlistContainer.<span class="title function_">empty</span>(); <span class="comment">// Clear the existing playlist</span></span><br><span class="line"></span><br><span class="line">        playlist.<span class="title function_">forEach</span>(<span class="function">(<span class="params">track, index</span>) =&gt;</span> &#123;</span><br><span class="line">            <span class="keyword">const</span> item = $(<span class="string">`&lt;div class=&quot;playlist-item&quot; title=&quot;<span class="subst">$&#123;track.name</span></span></span><br><span class="line"><span class="subst"><span class="string">                &#125;</span>&quot; data-index=&quot;<span class="subst">$&#123;index&#125;</span>&quot;&gt;</span></span><br><span class="line"><span class="string">          &lt;span&gt;<span class="subst">$&#123;index + <span class="number">1</span>&#125;</span>. <span class="subst">$&#123;track.name&#125;</span>&lt;/span&gt;</span></span><br><span class="line"><span class="string">          &lt;span&gt;<span class="subst">$&#123;track.time&#125;</span>&lt;/span&gt;</span></span><br><span class="line"><span class="string">      &lt;/div&gt;`</span>);</span><br><span class="line"></span><br><span class="line">            item.<span class="title function_">on</span>(<span class="string">&quot;click&quot;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">                <span class="keyword">const</span> musicName = $(<span class="variable language_">this</span>).<span class="title function_">attr</span>(<span class="string">&quot;title&quot;</span>);</span><br><span class="line">                pttClick.<span class="title function_">send</span>(</span><br><span class="line">                    <span class="string">&quot;btn&quot;</span>,</span><br><span class="line">                    <span class="string">&quot;clickPlayListItem&quot;</span>,</span><br><span class="line">                    <span class="string">&quot;点击播放列表-&quot;</span> + musicName</span><br><span class="line">                );</span><br><span class="line">                currentIndex = $(<span class="variable language_">this</span>).<span class="title function_">data</span>(<span class="string">&quot;index&quot;</span>);</span><br><span class="line">                <span class="title function_">loadTrack</span>(currentIndex);</span><br><span class="line">                sound.<span class="title function_">play</span>();</span><br><span class="line">                playPauseButton.<span class="title function_">addClass</span>(<span class="string">&quot;playing&quot;</span>);</span><br><span class="line">            &#125;);</span><br><span class="line"></span><br><span class="line">            playlistContainer.<span class="title function_">append</span>(item);</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">        <span class="title function_">updateNowPlaying</span>(currentIndex);</span><br><span class="line">        <span class="title function_">requestAnimationFrame</span>(updateProgress);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Initialize controls</span></span><br><span class="line">    <span class="keyword">const</span> playPauseButton = $(<span class="string">&quot;#playPause&quot;</span>);</span><br><span class="line">    <span class="keyword">const</span> progress = $(<span class="string">&quot;#music-progress&quot;</span>);</span><br><span class="line">    <span class="keyword">const</span> volume = $(<span class="string">&quot;#music-volume&quot;</span>);</span><br><span class="line">    <span class="keyword">const</span> timeDisplay = $(<span class="string">&quot;#music-time-display&quot;</span>);</span><br><span class="line">    <span class="keyword">const</span> muteButton = $(<span class="string">&quot;#mute&quot;</span>);</span><br><span class="line">    <span class="keyword">const</span> prevButton = $(<span class="string">&quot;#prev&quot;</span>);</span><br><span class="line">    <span class="keyword">const</span> nextButton = $(<span class="string">&quot;#next&quot;</span>);</span><br><span class="line">    <span class="keyword">let</span> previousVolume = <span class="number">1</span>; <span class="comment">// Store previous volume level for mute toggle</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// Play/pause button event</span></span><br><span class="line">    playPauseButton.<span class="title function_">on</span>(<span class="string">&quot;click&quot;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (sound.<span class="title function_">playing</span>()) &#123;</span><br><span class="line">            sound.<span class="title function_">pause</span>();</span><br><span class="line">            pttClick.<span class="title function_">send</span>(<span class="string">&quot;btn&quot;</span>, <span class="string">&quot;musicPlayerCtrl&quot;</span>, <span class="string">&quot;音乐暂停&quot;</span>);</span><br><span class="line">            <span class="comment">// playPauseButton.removeClass(&#x27;playing&#x27;);</span></span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            sound.<span class="title function_">play</span>();</span><br><span class="line">            <span class="comment">// playPauseButton.addClass(&#x27;playing&#x27;);</span></span><br><span class="line">            pttClick.<span class="title function_">send</span>(<span class="string">&quot;btn&quot;</span>, <span class="string">&quot;musicPlayerCtrl&quot;</span>, <span class="string">&quot;音乐开始/继续播放&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Stop button event</span></span><br><span class="line">    $(<span class="string">&quot;.music-player #stop&quot;</span>).<span class="title function_">on</span>(<span class="string">&quot;click&quot;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        sound.<span class="title function_">stop</span>();</span><br><span class="line">        pttClick.<span class="title function_">send</span>(<span class="string">&quot;btn&quot;</span>, <span class="string">&quot;musicPlayerStop&quot;</span>, <span class="string">&quot;音乐停止&quot;</span>);</span><br><span class="line">        <span class="comment">// playPauseButton.removeClass(&#x27;playing&#x27;);</span></span><br><span class="line">        <span class="comment">// requestAnimationFrame(updateProgress);</span></span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    $(<span class="string">&quot;.music-player .close&quot;</span>).<span class="title function_">on</span>(<span class="string">&quot;click&quot;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        sound.<span class="title function_">stop</span>();</span><br><span class="line">        $(<span class="string">&quot;.playlist-container&quot;</span>).<span class="title function_">show</span>();</span><br><span class="line">        <span class="comment">// playPauseButton.removeClass(&#x27;playing&#x27;);</span></span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    $(<span class="string">&quot;.music-player .window-button&quot;</span>).<span class="title function_">on</span>(<span class="string">&quot;click&quot;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        pttClick.<span class="title function_">send</span>(<span class="string">&quot;btn&quot;</span>, <span class="string">&quot;musicPlayerCloseList&quot;</span>, <span class="string">&quot;关闭播放列表&quot;</span>);</span><br><span class="line">        $(<span class="string">&quot;.playlist-container&quot;</span>).<span class="title function_">hide</span>();</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    $(<span class="string">&quot;.music-player .btn.list&quot;</span>).<span class="title function_">on</span>(<span class="string">&quot;click&quot;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">const</span> display = $(<span class="string">&quot;.playlist-container&quot;</span>).<span class="title function_">css</span>(<span class="string">&quot;display&quot;</span>);</span><br><span class="line">        $(<span class="string">&quot;.playlist-container&quot;</span>).<span class="title function_">css</span>(</span><br><span class="line">            <span class="string">&quot;display&quot;</span>,</span><br><span class="line">            display === <span class="string">&quot;none&quot;</span> ? <span class="string">&quot;block&quot;</span> : <span class="string">&quot;none&quot;</span></span><br><span class="line">        );</span><br><span class="line">        pttClick.<span class="title function_">send</span>(<span class="string">&quot;btn&quot;</span>, <span class="string">&quot;musicPlayerToggleList&quot;</span>, <span class="string">&quot;切换播放列表状态&quot;</span>);</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Progress bar events</span></span><br><span class="line">    progress.<span class="title function_">on</span>(<span class="string">&quot;input&quot;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (sound.<span class="title function_">playing</span>()) &#123;</span><br><span class="line">            sound.<span class="title function_">pause</span>();</span><br><span class="line">            <span class="comment">// playPauseButton.removeClass(&#x27;playing&#x27;);</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">const</span> seekTime = sound.<span class="title function_">duration</span>() * (progress.<span class="title function_">val</span>() / <span class="number">100</span>);</span><br><span class="line">        sound.<span class="title function_">seek</span>(seekTime);</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    progress.<span class="title function_">on</span>(<span class="string">&quot;change&quot;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (!sound.<span class="title function_">playing</span>()) &#123;</span><br><span class="line">            sound.<span class="title function_">play</span>();</span><br><span class="line">            pttClick.<span class="title function_">send</span>(<span class="string">&quot;btn&quot;</span>, <span class="string">&quot;dragMusicProgress&quot;</span>, <span class="string">&quot;拖动音乐进度条&quot;</span>);</span><br><span class="line">            <span class="comment">// playPauseButton.addClass(&#x27;playing&#x27;);</span></span><br><span class="line">            <span class="title function_">requestAnimationFrame</span>(updateProgress);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Volume slider event</span></span><br><span class="line">    volume.<span class="title function_">on</span>(<span class="string">&quot;input&quot;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        sound.<span class="title function_">volume</span>(volume.<span class="title function_">val</span>());</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Mute button event</span></span><br><span class="line">    muteButton.<span class="title function_">on</span>(<span class="string">&quot;click&quot;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (!sound.<span class="title function_">mute</span>()) &#123;</span><br><span class="line">            previousVolume = sound.<span class="title function_">volume</span>();</span><br><span class="line">            sound.<span class="title function_">mute</span>(<span class="literal">true</span>);</span><br><span class="line">            pttClick.<span class="title function_">send</span>(<span class="string">&quot;btn&quot;</span>, <span class="string">&quot;musicPlayerMute&quot;</span>, <span class="string">&quot;音乐静音&quot;</span>);</span><br><span class="line">            muteButton.<span class="title function_">addClass</span>(<span class="string">&quot;muted&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            sound.<span class="title function_">mute</span>(<span class="literal">false</span>);</span><br><span class="line">            pttClick.<span class="title function_">send</span>(<span class="string">&quot;btn&quot;</span>, <span class="string">&quot;musicPlayerUnmute&quot;</span>, <span class="string">&quot;音乐取消静音&quot;</span>);</span><br><span class="line">            muteButton.<span class="title function_">removeClass</span>(<span class="string">&quot;muted&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Previous track button</span></span><br><span class="line">    prevButton.<span class="title function_">on</span>(<span class="string">&quot;click&quot;</span>, previousTrack);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Next track button</span></span><br><span class="line">    nextButton.<span class="title function_">on</span>(<span class="string">&quot;click&quot;</span>, nextTrack);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Update progress bar and time display</span></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">updateProgress</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">const</span> seek = sound.<span class="title function_">seek</span>() || <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">const</span> percent = seek / sound.<span class="title function_">duration</span>() || <span class="number">0</span>;</span><br><span class="line">        progress.<span class="title function_">val</span>(percent * <span class="number">100</span> || <span class="number">0</span>);</span><br><span class="line">        <span class="title function_">changeProgress</span>(</span><br><span class="line">            $(<span class="string">&quot;.progress-container .progress-played&quot;</span>),</span><br><span class="line">            percent,</span><br><span class="line">            ...processWidths</span><br><span class="line">        );</span><br><span class="line">        timeDisplay.<span class="title function_">text</span>(<span class="title function_">formatTime</span>(seek));</span><br><span class="line">        <span class="keyword">if</span> (sound.<span class="title function_">playing</span>()) &#123;</span><br><span class="line">            <span class="title function_">requestAnimationFrame</span>(updateProgress);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Format time in mm:ss</span></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">formatTime</span>(<span class="params">seconds</span>) &#123;</span><br><span class="line">        <span class="keyword">const</span> minutes = <span class="title class_">Math</span>.<span class="title function_">floor</span>(seconds / <span class="number">60</span>);</span><br><span class="line">        <span class="keyword">const</span> secs = <span class="title class_">Math</span>.<span class="title function_">floor</span>(seconds % <span class="number">60</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="string">`<span class="subst">$&#123;minutes&#125;</span>:<span class="subst">$&#123;secs.toString().padStart(<span class="number">2</span>, <span class="string">&quot;0&quot;</span>)&#125;</span>`</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Play the next track</span></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">nextTrack</span>(<span class="params"></span>) &#123;</span><br><span class="line">        currentIndex = (currentIndex + <span class="number">1</span>) % playlist.<span class="property">length</span>;</span><br><span class="line">        <span class="title function_">loadTrack</span>(currentIndex);</span><br><span class="line">        sound.<span class="title function_">play</span>();</span><br><span class="line">        <span class="comment">// playPauseButton.addClass(&#x27;playing&#x27;);</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Play the previous track</span></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">previousTrack</span>(<span class="params"></span>) &#123;</span><br><span class="line">        currentIndex = (currentIndex - <span class="number">1</span> + playlist.<span class="property">length</span>) % playlist.<span class="property">length</span>;</span><br><span class="line">        <span class="title function_">loadTrack</span>(currentIndex);</span><br><span class="line">        sound.<span class="title function_">play</span>();</span><br><span class="line">        <span class="comment">// playPauseButton.addClass(&#x27;playing&#x27;);</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Initialize the playlist and load the first track</span></span><br><span class="line">    <span class="title function_">renderPlaylist</span>();</span><br><span class="line">    <span class="title function_">loadTrack</span>(currentIndex);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">initVideoPlayer</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">class</span> <span class="title class_">VideoPlayer</span> &#123;</span><br><span class="line">        <span class="title function_">constructor</span>(<span class="params"></span>) &#123;</span><br><span class="line">            <span class="comment">// jQuery选择器</span></span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">$videoPlayer</span> = $(<span class="string">&quot;#videoPlayer&quot;</span>);</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">$playPauseBtn</span> = $(<span class="string">&quot;#playPauseBtn&quot;</span>);</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">$stopBtn</span> = $(<span class="string">&quot;#stopBtn&quot;</span>);</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">$prevBtn</span> = $(<span class="string">&quot;#prevBtn&quot;</span>);</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">$nextBtn</span> = $(<span class="string">&quot;#nextBtn&quot;</span>);</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">$progressInput</span> = $(<span class="string">&quot;#progressInput&quot;</span>);</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">$muteBtn</span> = $(<span class="string">&quot;#muteBtn&quot;</span>);</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">$volumeInput</span> = $(<span class="string">&quot;#volumeInput&quot;</span>);</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">$videoList</span> = $(<span class="string">&quot;#videoList&quot;</span>);</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">$rewindBtn</span> = $(<span class="string">&quot;#rewindBtn&quot;</span>);</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">$forwardBtn</span> = $(<span class="string">&quot;#forwardBtn&quot;</span>);</span><br><span class="line"></span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">currentVideoIndex</span> = <span class="number">0</span>;</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">videos</span> = [</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="attr">title</span>: <span class="string">&quot;正式官宣！全新FPS网游 《穿越火线》 即将上线&quot;</span>,</span><br><span class="line">                    <span class="attr">src</span>: <span class="string">&quot;https://cf.lv.game.qq.com/dis_kt_7dec27524b5d90a851e81c6298c73909_1735979808/0b53tqacwaaasmanqkdydft6phgdfooaakya.f0.mp4&quot;</span>,</span><br><span class="line">                &#125;,</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="attr">title</span>: <span class="string">&quot;震撼来袭！《穿越火线》全新CG首发&quot;</span>,</span><br><span class="line">                    <span class="attr">src</span>: <span class="string">&quot;https://cf.lv.game.qq.com/dis_kt_3b1c33135e38522db3e393d96780c407_1735485126/0b53vaabaaaab4ahm73rfft6pkgdccuaaeaa.f0.mp4&quot;</span>,</span><br><span class="line">                &#125;,</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="attr">title</span>: <span class="string">&quot;轻松一刻！《穿越火线》搞笑CG&quot;</span>,</span><br><span class="line">                    <span class="attr">src</span>: <span class="string">&quot;https://cf.lv.game.qq.com/dis_kt_161176d63e6b91fefdbf38b327192208_1735485116/0b53veabaaaaaeahm7trfft6pkodccuqaeaa.f0.mp4&quot;</span>,</span><br><span class="line">                &#125;,</span><br><span class="line">            ];</span><br><span class="line"></span><br><span class="line">            <span class="variable language_">this</span>.<span class="title function_">initializePlayer</span>();</span><br><span class="line">            <span class="variable language_">this</span>.<span class="title function_">setupEventListeners</span>();</span><br><span class="line">            <span class="comment">// 初始化音量控制</span></span><br><span class="line">            <span class="variable language_">this</span>.<span class="title function_">initializeVolume</span>();</span><br><span class="line">            <span class="variable language_">this</span>.<span class="title function_">setupPlayerControls</span>();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="title function_">initializePlayer</span>(<span class="params"></span>) &#123;</span><br><span class="line">            <span class="variable language_">this</span>.<span class="title function_">createPlaylist</span>();</span><br><span class="line">            <span class="variable language_">this</span>.<span class="title function_">loadVideo</span>(<span class="number">0</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="title function_">createPlaylist</span>(<span class="params"></span>) &#123;</span><br><span class="line">            <span class="keyword">const</span> self = <span class="variable language_">this</span>;</span><br><span class="line">            $.<span class="title function_">each</span>(<span class="variable language_">this</span>.<span class="property">videos</span>, <span class="keyword">function</span> (<span class="params">index, video</span>) &#123;</span><br><span class="line">                <span class="keyword">const</span> $li = $(<span class="string">&quot;&lt;li&gt;&quot;</span>).<span class="title function_">on</span>(<span class="string">&quot;click&quot;</span>, <span class="function">() =&gt;</span></span><br><span class="line">                    self.<span class="title function_">loadVideo</span>(index, <span class="literal">true</span>)</span><br><span class="line">                );</span><br><span class="line"></span><br><span class="line">                <span class="comment">// 创建标题和时间的容器</span></span><br><span class="line">                <span class="keyword">const</span> $titleSpan = $(<span class="string">&#x27;&lt;span class=&quot;video-title&quot;&gt;&#x27;</span>).<span class="title function_">text</span>(</span><br><span class="line">                    video.<span class="property">title</span></span><br><span class="line">                );</span><br><span class="line">                <span class="keyword">const</span> $durationSpan = $(<span class="string">&#x27;&lt;span class=&quot;video-duration&quot;&gt;&#x27;</span>).<span class="title function_">text</span>(</span><br><span class="line">                    <span class="string">&quot;--:--&quot;</span></span><br><span class="line">                );</span><br><span class="line"></span><br><span class="line">                <span class="comment">// 将标题和时间添加到列表项</span></span><br><span class="line">                $li.<span class="title function_">append</span>($titleSpan)</span><br><span class="line">                    .<span class="title function_">append</span>($durationSpan)</span><br><span class="line">                    .<span class="title function_">appendTo</span>(self.<span class="property">$videoList</span>);</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="title function_">updateDuration</span>(<span class="params">index, duration</span>) &#123;</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">$videoList</span></span><br><span class="line">                .<span class="title function_">find</span>(<span class="string">&quot;li&quot;</span>)</span><br><span class="line">                .<span class="title function_">eq</span>(index)</span><br><span class="line">                .<span class="title function_">find</span>(<span class="string">&quot;.video-duration&quot;</span>)</span><br><span class="line">                .<span class="title function_">text</span>(duration);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="title function_">loadVideo</span>(<span class="params">index</span>) &#123;</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">currentVideoIndex</span> = index;</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">$videoPlayer</span>.<span class="title function_">attr</span>(<span class="string">&quot;src&quot;</span>, <span class="variable language_">this</span>.<span class="property">videos</span>[index].<span class="property">src</span>);</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">$videoPlayer</span>[<span class="number">0</span>].<span class="title function_">load</span>();</span><br><span class="line">            <span class="variable language_">this</span>.<span class="title function_">updatePlaylistUI</span>();</span><br><span class="line"></span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">$progressInput</span>.<span class="title function_">val</span>(<span class="number">0</span>);</span><br><span class="line">            <span class="title function_">changeProgress</span>(</span><br><span class="line">                $(<span class="string">&quot;.video-player .progress-played&quot;</span>),</span><br><span class="line">                <span class="number">0</span>,</span><br><span class="line">                ...videoWidths,</span><br><span class="line">                $(<span class="string">&quot;#progressInput&quot;</span>)</span><br><span class="line">            );</span><br><span class="line">            $(<span class="string">&#x27;.video-player .title&#x27;</span>).<span class="title function_">text</span>(<span class="variable language_">this</span>.<span class="property">videos</span>[index].<span class="property">title</span>);</span><br><span class="line">            <span class="comment">// this.$progressInput[0].style.setProperty(&#x27;--progress&#x27;, &#x27;0%&#x27;);</span></span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">$playPauseBtn</span></span><br><span class="line">                .<span class="title function_">find</span>(<span class="string">&quot;i&quot;</span>)</span><br><span class="line">                .<span class="title function_">removeClass</span>(<span class="string">&quot;vd-play&quot;</span>)</span><br><span class="line">                .<span class="title function_">addClass</span>(<span class="string">&quot;vd-pause&quot;</span>);</span><br><span class="line"></span><br><span class="line">            <span class="comment">// 添加一个标志来判断是否需要自动播放</span></span><br><span class="line">            <span class="keyword">const</span> shouldAutoPlay =</span><br><span class="line">                <span class="variable language_">arguments</span>[<span class="number">1</span>] !== <span class="literal">undefined</span> ? <span class="variable language_">arguments</span>[<span class="number">1</span>] : <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">$videoPlayer</span>.<span class="title function_">one</span>(<span class="string">&quot;loadedmetadata&quot;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">                <span class="variable language_">this</span>.<span class="title function_">updateProgress</span>();</span><br><span class="line">                <span class="keyword">const</span> duration = <span class="variable language_">this</span>.<span class="property">$videoPlayer</span>[<span class="number">0</span>].<span class="property">duration</span>;</span><br><span class="line">                <span class="keyword">const</span> formattedDuration = <span class="variable language_">this</span>.<span class="title function_">formatTime</span>(duration);</span><br><span class="line">                <span class="variable language_">this</span>.<span class="title function_">updateDuration</span>(index, formattedDuration);</span><br><span class="line">                <span class="variable language_">this</span>.<span class="title function_">updatePlaylistUI</span>();</span><br><span class="line"></span><br><span class="line">                <span class="variable language_">this</span>.<span class="title function_">loadOtherVideosDuration</span>();</span><br><span class="line"></span><br><span class="line">                <span class="comment">// 如果需要自动播放</span></span><br><span class="line">                <span class="keyword">if</span> (shouldAutoPlay) &#123;</span><br><span class="line">                    <span class="variable language_">this</span>.<span class="property">$videoPlayer</span>[<span class="number">0</span>].<span class="title function_">play</span>();</span><br><span class="line">                    <span class="variable language_">this</span>.<span class="property">$playPauseBtn</span></span><br><span class="line">                        .<span class="title function_">find</span>(<span class="string">&quot;i&quot;</span>)</span><br><span class="line">                        .<span class="title function_">addClass</span>(<span class="string">&quot;vd-play&quot;</span>)</span><br><span class="line">                        .<span class="title function_">removeClass</span>(<span class="string">&quot;vd-pause&quot;</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="title function_">loadOtherVideosDuration</span>(<span class="params"></span>) &#123;</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">videos</span>.<span class="title function_">forEach</span>(<span class="function">(<span class="params">video, index</span>) =&gt;</span> &#123;</span><br><span class="line">                <span class="keyword">if</span> (index !== <span class="variable language_">this</span>.<span class="property">currentVideoIndex</span>) &#123;</span><br><span class="line">                    <span class="keyword">const</span> tempVideo = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&quot;video&quot;</span>);</span><br><span class="line">                    tempVideo.<span class="property">src</span> = video.<span class="property">src</span>;</span><br><span class="line"></span><br><span class="line">                    $(tempVideo).<span class="title function_">one</span>(<span class="string">&quot;loadedmetadata&quot;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">                        <span class="keyword">const</span> duration = tempVideo.<span class="property">duration</span>;</span><br><span class="line">                        <span class="keyword">const</span> formattedDuration = <span class="variable language_">this</span>.<span class="title function_">formatTime</span>(duration);</span><br><span class="line">                        <span class="variable language_">this</span>.<span class="title function_">updateDuration</span>(index, formattedDuration);</span><br><span class="line">                    &#125;);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="title function_">formatTime</span>(<span class="params">seconds</span>) &#123;</span><br><span class="line">            <span class="keyword">const</span> minutes = <span class="title class_">Math</span>.<span class="title function_">floor</span>(seconds / <span class="number">60</span>);</span><br><span class="line">            <span class="keyword">const</span> remainingSeconds = <span class="title class_">Math</span>.<span class="title function_">floor</span>(seconds % <span class="number">60</span>);</span><br><span class="line">            <span class="keyword">if</span> (minutes &gt;= <span class="number">60</span>) &#123;</span><br><span class="line">                <span class="keyword">const</span> hours = <span class="title class_">Math</span>.<span class="title function_">floor</span>(minutes / <span class="number">60</span>);</span><br><span class="line">                <span class="keyword">const</span> remainingMinutes = minutes % <span class="number">60</span>;</span><br><span class="line">                <span class="keyword">return</span> <span class="string">`<span class="subst">$&#123;hours&#125;</span>:<span class="subst">$&#123;remainingMinutes</span></span></span><br><span class="line"><span class="subst"><span class="string">                    .toString()</span></span></span><br><span class="line"><span class="subst"><span class="string">                    .padStart(<span class="number">2</span>, <span class="string">&quot;0&quot;</span>)&#125;</span>:<span class="subst">$&#123;remainingSeconds</span></span></span><br><span class="line"><span class="subst"><span class="string">                        .toString()</span></span></span><br><span class="line"><span class="subst"><span class="string">                        .padStart(<span class="number">2</span>, <span class="string">&quot;0&quot;</span>)&#125;</span>`</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="string">`<span class="subst">$&#123;minutes&#125;</span>:<span class="subst">$&#123;remainingSeconds</span></span></span><br><span class="line"><span class="subst"><span class="string">                    .toString()</span></span></span><br><span class="line"><span class="subst"><span class="string">                    .padStart(<span class="number">2</span>, <span class="string">&quot;0&quot;</span>)&#125;</span>`</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="title function_">updatePlaylistUI</span>(<span class="params"></span>) &#123;</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">$videoList</span></span><br><span class="line">                .<span class="title function_">find</span>(<span class="string">&quot;li&quot;</span>)</span><br><span class="line">                .<span class="title function_">removeClass</span>(<span class="string">&quot;active&quot;</span>)</span><br><span class="line">                .<span class="title function_">eq</span>(<span class="variable language_">this</span>.<span class="property">currentVideoIndex</span>)</span><br><span class="line">                .<span class="title function_">addClass</span>(<span class="string">&quot;active&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="title function_">setupEventListeners</span>(<span class="params"></span>) &#123;</span><br><span class="line">            <span class="keyword">const</span> self = <span class="variable language_">this</span>;</span><br><span class="line"></span><br><span class="line">            <span class="comment">// 播放/暂停按钮</span></span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">$playPauseBtn</span>.<span class="title function_">on</span>(<span class="string">&quot;click&quot;</span>, <span class="function">() =&gt;</span> <span class="variable language_">this</span>.<span class="title function_">togglePlay</span>());</span><br><span class="line"></span><br><span class="line">            <span class="comment">// 停止按钮</span></span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">$stopBtn</span>.<span class="title function_">on</span>(<span class="string">&quot;click&quot;</span>, <span class="function">() =&gt;</span> <span class="variable language_">this</span>.<span class="title function_">stopVideo</span>());</span><br><span class="line"></span><br><span class="line">            <span class="comment">// 上一个/下一个视频</span></span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">$prevBtn</span>.<span class="title function_">on</span>(<span class="string">&quot;click&quot;</span>, <span class="function">() =&gt;</span> <span class="variable language_">this</span>.<span class="title function_">playPrevious</span>());</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">$nextBtn</span>.<span class="title function_">on</span>(<span class="string">&quot;click&quot;</span>, <span class="function">() =&gt;</span> <span class="variable language_">this</span>.<span class="title function_">playNext</span>());</span><br><span class="line"></span><br><span class="line">            <span class="comment">// 进度条控制</span></span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">$videoPlayer</span>.<span class="title function_">on</span>(<span class="string">&quot;timeupdate&quot;</span>, <span class="function">() =&gt;</span> <span class="variable language_">this</span>.<span class="title function_">updateProgress</span>());</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">$progressInput</span>.<span class="title function_">on</span>(<span class="string">&quot;input&quot;</span>, <span class="function">(<span class="params">e</span>) =&gt;</span> <span class="variable language_">this</span>.<span class="title function_">setProgress</span>(e));</span><br><span class="line"></span><br><span class="line">            <span class="comment">// 修改视频结束事件监听</span></span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">$videoPlayer</span>.<span class="title function_">on</span>(<span class="string">&quot;ended&quot;</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">                <span class="variable language_">this</span>.<span class="property">$playPauseBtn</span></span><br><span class="line">                    .<span class="title function_">find</span>(<span class="string">&quot;i&quot;</span>)</span><br><span class="line">                    .<span class="title function_">removeClass</span>(<span class="string">&quot;vd-play&quot;</span>)</span><br><span class="line">                    .<span class="title function_">addClass</span>(<span class="string">&quot;vd-pause&quot;</span>);</span><br><span class="line">                <span class="comment">// 自动播放下一个视频</span></span><br><span class="line">                <span class="variable language_">this</span>.<span class="title function_">playNext</span>();</span><br><span class="line">            &#125;);</span><br><span class="line"></span><br><span class="line">            <span class="comment">// 量控制</span></span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">$muteBtn</span>.<span class="title function_">on</span>(<span class="string">&quot;click&quot;</span>, <span class="function">() =&gt;</span> <span class="variable language_">this</span>.<span class="title function_">toggleMute</span>());</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">$volumeInput</span>.<span class="title function_">on</span>(<span class="string">&quot;input&quot;</span>, <span class="function">(<span class="params">e</span>) =&gt;</span> <span class="variable language_">this</span>.<span class="title function_">setVolume</span>(e));</span><br><span class="line"></span><br><span class="line">            <span class="comment">// 左右按钮控制进度条</span></span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">$rewindBtn</span>.<span class="title function_">on</span>(<span class="string">&quot;click&quot;</span>, <span class="function">() =&gt;</span> <span class="variable language_">this</span>.<span class="title function_">skipTime</span>(-<span class="number">3</span>));</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">$forwardBtn</span>.<span class="title function_">on</span>(<span class="string">&quot;click&quot;</span>, <span class="function">() =&gt;</span> <span class="variable language_">this</span>.<span class="title function_">skipTime</span>(<span class="number">3</span>));</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="title function_">togglePlay</span>(<span class="params"></span>) &#123;</span><br><span class="line">            <span class="keyword">const</span> video = <span class="variable language_">this</span>.<span class="property">$videoPlayer</span>[<span class="number">0</span>];</span><br><span class="line">            <span class="keyword">if</span> (video.<span class="property">paused</span>) &#123;</span><br><span class="line">                video.<span class="title function_">play</span>();</span><br><span class="line">                <span class="variable language_">this</span>.<span class="property">$playPauseBtn</span></span><br><span class="line">                    .<span class="title function_">find</span>(<span class="string">&quot;i&quot;</span>)</span><br><span class="line">                    .<span class="title function_">addClass</span>(<span class="string">&quot;vd-play&quot;</span>)</span><br><span class="line">                    .<span class="title function_">removeClass</span>(<span class="string">&quot;vd-pause&quot;</span>);</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                video.<span class="title function_">pause</span>();</span><br><span class="line">                <span class="variable language_">this</span>.<span class="property">$playPauseBtn</span></span><br><span class="line">                    .<span class="title function_">find</span>(<span class="string">&quot;i&quot;</span>)</span><br><span class="line">                    .<span class="title function_">addClass</span>(<span class="string">&quot;vd-pause&quot;</span>)</span><br><span class="line">                    .<span class="title function_">removeClass</span>(<span class="string">&quot;vd-play&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="title function_">playPrevious</span>(<span class="params"></span>) &#123;</span><br><span class="line">            <span class="keyword">const</span> newIndex =</span><br><span class="line">                (<span class="variable language_">this</span>.<span class="property">currentVideoIndex</span> - <span class="number">1</span> + <span class="variable language_">this</span>.<span class="property">videos</span>.<span class="property">length</span>) %</span><br><span class="line">                <span class="variable language_">this</span>.<span class="property">videos</span>.<span class="property">length</span>;</span><br><span class="line">            <span class="variable language_">this</span>.<span class="title function_">loadVideo</span>(newIndex, <span class="literal">true</span>); <span class="comment">// 传入 true 表示需要自动播放</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="title function_">playNext</span>(<span class="params"></span>) &#123;</span><br><span class="line">            <span class="comment">// 检查是否是最后一个视频</span></span><br><span class="line">            <span class="keyword">if</span> (<span class="variable language_">this</span>.<span class="property">currentVideoIndex</span> === <span class="variable language_">this</span>.<span class="property">videos</span>.<span class="property">length</span> - <span class="number">1</span>) &#123;</span><br><span class="line">                <span class="comment">// 如果是后一个，直接切换到第一个视频</span></span><br><span class="line">                <span class="variable language_">this</span>.<span class="title function_">loadVideo</span>(<span class="number">0</span>, <span class="literal">true</span>);</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="comment">// 否则切换到下一个视频</span></span><br><span class="line">                <span class="keyword">const</span> newIndex = <span class="variable language_">this</span>.<span class="property">currentVideoIndex</span> + <span class="number">1</span>;</span><br><span class="line">                <span class="variable language_">this</span>.<span class="title function_">loadVideo</span>(newIndex, <span class="literal">true</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="title function_">updateProgress</span>(<span class="params"></span>) &#123;</span><br><span class="line">            <span class="keyword">const</span> video = <span class="variable language_">this</span>.<span class="property">$videoPlayer</span>[<span class="number">0</span>];</span><br><span class="line">            <span class="keyword">if</span> (video.<span class="property">duration</span> &amp;&amp; !<span class="built_in">isNaN</span>(video.<span class="property">duration</span>)) &#123;</span><br><span class="line">                <span class="keyword">const</span> percent = (video.<span class="property">currentTime</span> / video.<span class="property">duration</span>) * <span class="number">100</span>;</span><br><span class="line">                <span class="variable language_">this</span>.<span class="property">$progressInput</span>.<span class="title function_">val</span>(percent);</span><br><span class="line">                <span class="title function_">changeProgress</span>(</span><br><span class="line">                    $(<span class="string">&quot;.video-player .progress-played&quot;</span>),</span><br><span class="line">                    video.<span class="property">currentTime</span> / video.<span class="property">duration</span>,</span><br><span class="line">                    ...videoWidths,</span><br><span class="line">                    $(<span class="string">&quot;#progressInput&quot;</span>)</span><br><span class="line">                );</span><br><span class="line">                <span class="comment">// this.$progressInput[0].style.setProperty(&#x27;--progress&#x27;, `$&#123;percent&#125;%`);</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="title function_">setProgress</span>(<span class="params">e</span>) &#123;</span><br><span class="line">            <span class="keyword">const</span> video = <span class="variable language_">this</span>.<span class="property">$videoPlayer</span>[<span class="number">0</span>];</span><br><span class="line">            <span class="keyword">const</span> percent = e.<span class="property">target</span>.<span class="property">value</span>;</span><br><span class="line">            video.<span class="property">currentTime</span> = (percent / <span class="number">100</span>) * video.<span class="property">duration</span>;</span><br><span class="line">            <span class="title function_">changeProgress</span>(</span><br><span class="line">                $(<span class="string">&quot;.video-player .progress-played&quot;</span>),</span><br><span class="line">                percent / <span class="number">100</span>,</span><br><span class="line">                ...videoWidths,</span><br><span class="line">                $(<span class="string">&quot;#progressInput&quot;</span>)</span><br><span class="line">            );</span><br><span class="line">            <span class="comment">// e.target.style.setProperty(&#x27;--progress&#x27;, `$&#123;percent&#125;%`);</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="title function_">toggleMute</span>(<span class="params"></span>) &#123;</span><br><span class="line">            <span class="keyword">const</span> video = <span class="variable language_">this</span>.<span class="property">$videoPlayer</span>[<span class="number">0</span>];</span><br><span class="line">            video.<span class="property">muted</span> = !video.<span class="property">muted</span>;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (video.<span class="property">muted</span>) &#123;</span><br><span class="line">                <span class="variable language_">this</span>.<span class="property">$muteBtn</span></span><br><span class="line">                    .<span class="title function_">addClass</span>(<span class="string">&quot;mute-stop-btn&quot;</span>)</span><br><span class="line">                    .<span class="title function_">removeClass</span>(<span class="string">&quot;mute-play-btn&quot;</span>);</span><br><span class="line">                <span class="variable language_">this</span>.<span class="property">$volumeInput</span>.<span class="title function_">val</span>(<span class="number">0</span>);</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="variable language_">this</span>.<span class="property">$muteBtn</span></span><br><span class="line">                    .<span class="title function_">addClass</span>(<span class="string">&quot;mute-play-btn&quot;</span>)</span><br><span class="line">                    .<span class="title function_">removeClass</span>(<span class="string">&quot;mute-stop-btn&quot;</span>);</span><br><span class="line">                <span class="comment">// 恢复到静音前的音量值</span></span><br><span class="line">                <span class="keyword">const</span> previousVolume = video.<span class="property">volume</span> * <span class="number">100</span>;</span><br><span class="line">                <span class="variable language_">this</span>.<span class="property">$volumeInput</span>.<span class="title function_">val</span>(previousVolume);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="title function_">setVolume</span>(<span class="params">e</span>) &#123;</span><br><span class="line">            <span class="keyword">const</span> video = <span class="variable language_">this</span>.<span class="property">$videoPlayer</span>[<span class="number">0</span>];</span><br><span class="line">            <span class="keyword">const</span> volume = e.<span class="property">target</span>.<span class="property">value</span> / <span class="number">100</span>;</span><br><span class="line">            video.<span class="property">volume</span> = volume;</span><br><span class="line"></span><br><span class="line">            <span class="comment">// 更新静音按钮状态</span></span><br><span class="line">            <span class="keyword">if</span> (volume === <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="variable language_">this</span>.<span class="property">$muteBtn</span></span><br><span class="line">                    .<span class="title function_">addClass</span>(<span class="string">&quot;mute-stop-btn&quot;</span>)</span><br><span class="line">                    .<span class="title function_">removeClass</span>(<span class="string">&quot;mute-play-btn&quot;</span>);</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="variable language_">this</span>.<span class="property">$muteBtn</span></span><br><span class="line">                    .<span class="title function_">addClass</span>(<span class="string">&quot;mute-play-btn&quot;</span>)</span><br><span class="line">                    .<span class="title function_">removeClass</span>(<span class="string">&quot;mute-stop-btn&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="title function_">skipTime</span>(<span class="params">seconds</span>) &#123;</span><br><span class="line">            <span class="keyword">const</span> video = <span class="variable language_">this</span>.<span class="property">$videoPlayer</span>[<span class="number">0</span>];</span><br><span class="line">            <span class="keyword">const</span> newTime = video.<span class="property">currentTime</span> + seconds;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (newTime &lt; <span class="number">0</span>) &#123;</span><br><span class="line">                video.<span class="property">currentTime</span> = <span class="number">0</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> <span class="keyword">if</span> (newTime &gt; video.<span class="property">duration</span>) &#123;</span><br><span class="line">                video.<span class="property">currentTime</span> = video.<span class="property">duration</span>;</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                video.<span class="property">currentTime</span> = newTime;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="title function_">stopVideo</span>(<span class="params"></span>) &#123;</span><br><span class="line">            <span class="keyword">const</span> video = <span class="variable language_">this</span>.<span class="property">$videoPlayer</span>[<span class="number">0</span>];</span><br><span class="line">            video.<span class="title function_">pause</span>();</span><br><span class="line">            video.<span class="property">currentTime</span> = <span class="number">0</span>;</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">$playPauseBtn</span></span><br><span class="line">                .<span class="title function_">find</span>(<span class="string">&quot;i&quot;</span>)</span><br><span class="line">                .<span class="title function_">addClass</span>(<span class="string">&quot;vd-pause&quot;</span>)</span><br><span class="line">                .<span class="title function_">removeClass</span>(<span class="string">&quot;vd-play&quot;</span>);</span><br><span class="line">            <span class="variable language_">this</span>.<span class="title function_">updateProgress</span>();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="title function_">initializeVolume</span>(<span class="params"></span>) &#123;</span><br><span class="line">            <span class="keyword">const</span> video = <span class="variable language_">this</span>.<span class="property">$videoPlayer</span>[<span class="number">0</span>];</span><br><span class="line">            video.<span class="property">volume</span> = <span class="number">1</span>;</span><br><span class="line">            <span class="variable language_">this</span>.<span class="property">$volumeInput</span>.<span class="title function_">val</span>(<span class="number">100</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="title function_">setupPlayerControls</span>(<span class="params"></span>) &#123;</span><br><span class="line">            $(<span class="string">&quot;.open-video-player&quot;</span>).<span class="title function_">click</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">                <span class="comment">// $(&#x27;.video-player&#x27;).fadeIn();</span></span><br><span class="line">                <span class="comment">// 重新加载第一个视频</span></span><br><span class="line">                <span class="variable language_">this</span>.<span class="title function_">loadVideo</span>(<span class="number">0</span>);</span><br><span class="line">                <span class="comment">// 重置播放器状态</span></span><br><span class="line">                <span class="variable language_">this</span>.<span class="property">$videoPlayer</span>[<span class="number">0</span>].<span class="property">currentTime</span> = <span class="number">0</span>;</span><br><span class="line">                <span class="variable language_">this</span>.<span class="property">$progressInput</span>.<span class="title function_">val</span>(<span class="number">0</span>);</span><br><span class="line">                <span class="title function_">changeProgress</span>(</span><br><span class="line">                    $(<span class="string">&quot;.video-player .progress-played&quot;</span>),</span><br><span class="line">                    <span class="number">0</span>,</span><br><span class="line">                    ...videoWidths,</span><br><span class="line">                    $(<span class="string">&quot;#progressInput&quot;</span>)</span><br><span class="line">                );</span><br><span class="line">                <span class="comment">// this.$progressInput[0].style.setProperty(&#x27;--progress&#x27;, &#x27;0%&#x27;);</span></span><br><span class="line">                <span class="variable language_">this</span>.<span class="property">$playPauseBtn</span></span><br><span class="line">                    .<span class="title function_">find</span>(<span class="string">&quot;i&quot;</span>)</span><br><span class="line">                    .<span class="title function_">removeClass</span>(<span class="string">&quot;vd-play&quot;</span>)</span><br><span class="line">                    .<span class="title function_">addClass</span>(<span class="string">&quot;vd-pause&quot;</span>);</span><br><span class="line">            &#125;);</span><br><span class="line">            <span class="comment">// 关闭播放器</span></span><br><span class="line">            $(<span class="string">&quot;#closePlayer&quot;</span>).<span class="title function_">click</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">                <span class="comment">// $(&#x27;.video-player&#x27;).fadeOut();</span></span><br><span class="line">                <span class="comment">// 停止视频播放</span></span><br><span class="line">                <span class="variable language_">this</span>.<span class="title function_">stopVideo</span>();</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">new</span> <span class="title class_">VideoPlayer</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">initImageSwiper</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> $swiper = $(<span class="string">&quot;.img-swiper .swiper-container .swiper-wrapper&quot;</span>);</span><br><span class="line">    $swiper.<span class="title function_">empty</span>();</span><br><span class="line">    <span class="keyword">let</span> html = <span class="string">&quot;&quot;</span>;</span><br><span class="line">    imageViewList.<span class="title function_">forEach</span>(<span class="keyword">function</span> (<span class="params">uri</span>) &#123;</span><br><span class="line">        html += <span class="string">`&lt;div class=&quot;swiper-slide&quot;&gt;&lt;img src=&quot;<span class="subst">$&#123;uri&#125;</span>&quot; alt=&quot;&quot;&gt;&lt;/div&gt;`</span>;</span><br><span class="line">    &#125;);</span><br><span class="line">    $swiper.<span class="title function_">append</span>(html);</span><br><span class="line">    <span class="keyword">var</span> mySwiper = <span class="keyword">new</span> <span class="title class_">Swiper</span>(<span class="string">&quot;.img-swiper .swiper-container&quot;</span>, &#123;</span><br><span class="line">        <span class="attr">loop</span>: <span class="literal">true</span>,</span><br><span class="line">        <span class="attr">prevButton</span>: <span class="string">&quot;.swiper-btn.prev-btn&quot;</span>,</span><br><span class="line">        <span class="attr">nextButton</span>: <span class="string">&quot;.swiper-btn.next-btn&quot;</span>,</span><br><span class="line">        <span class="attr">observer</span>: <span class="literal">true</span>,</span><br><span class="line">        <span class="attr">observeParents</span>: <span class="literal">true</span>,</span><br><span class="line">        <span class="attr">resistanceRatio</span>: <span class="number">0</span>,</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">verifyPhoneCode</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">let</span> timer = <span class="literal">null</span>;</span><br><span class="line">    <span class="keyword">const</span> <span class="variable constant_">COUNTDOWN</span> = <span class="number">10</span>;</span><br><span class="line">    <span class="comment">// 手机号验证</span></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">isValidPhone</span>(<span class="params">phone</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="regexp">/^1[3-9]\d&#123;9&#125;$/</span>.<span class="title function_">test</span>(phone);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 验证码验证</span></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">isValidCode</span>(<span class="params">code</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="regexp">/^\d&#123;6&#125;$/</span>.<span class="title function_">test</span>(code);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 倒计时函数</span></span><br><span class="line">    <span class="keyword">function</span> <span class="title function_">startCountdown</span>(<span class="params">$btn</span>) &#123;</span><br><span class="line">        <span class="keyword">let</span> count = <span class="variable constant_">COUNTDOWN</span>;</span><br><span class="line">        $btn.<span class="title function_">prop</span>(<span class="string">&quot;disabled&quot;</span>, <span class="literal">true</span>);</span><br><span class="line">        $btn.<span class="title function_">text</span>(<span class="string">`<span class="subst">$&#123;count&#125;</span>秒后重新获取`</span>);</span><br><span class="line"></span><br><span class="line">        timer = <span class="built_in">setInterval</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">            count--;</span><br><span class="line">            <span class="keyword">if</span> (count &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="built_in">clearInterval</span>(timer);</span><br><span class="line">                timer = <span class="literal">null</span>;</span><br><span class="line">                $btn.<span class="title function_">prop</span>(<span class="string">&quot;disabled&quot;</span>, <span class="literal">false</span>);</span><br><span class="line">                $btn.<span class="title function_">text</span>(<span class="string">&quot;获取验证码&quot;</span>);</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                $btn.<span class="title function_">text</span>(<span class="string">`<span class="subst">$&#123;count&#125;</span>秒后重新获取`</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;, <span class="number">1000</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 获取验证码</span></span><br><span class="line">    $(<span class="string">&quot;.get-code&quot;</span>).<span class="title function_">click</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> ($(<span class="variable language_">this</span>).<span class="title function_">prop</span>(<span class="string">&quot;disabled&quot;</span>)) &#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">const</span> phone = $(<span class="string">&#x27;.input-box[type=&quot;tel&quot;]&#x27;</span>).<span class="title function_">val</span>().<span class="title function_">trim</span>();</span><br><span class="line">        <span class="title function_">sendcode</span>(<span class="number">1</span>);</span><br><span class="line">        <span class="comment">/*接入发送验证码功能*/</span></span><br><span class="line">        <span class="comment">/*</span></span><br><span class="line"><span class="comment">      if (!isValidPhone(phone)) &#123;</span></span><br><span class="line"><span class="comment">        alert(&#x27;请输入正确的手机号码&#x27;);</span></span><br><span class="line"><span class="comment">        return;</span></span><br><span class="line"><span class="comment">      &#125;</span></span><br><span class="line"><span class="comment">      if (timer) &#123;</span></span><br><span class="line"><span class="comment">        clearInterval(timer);</span></span><br><span class="line"><span class="comment">        timer = null;</span></span><br><span class="line"><span class="comment">      &#125;</span></span><br><span class="line"><span class="comment">      // 模拟发送验证码</span></span><br><span class="line"><span class="comment">      setTimeout(() =&gt; &#123;</span></span><br><span class="line"><span class="comment">        alert(&#x27;验证码已发送到您的手机&#x27;);</span></span><br><span class="line"><span class="comment">        startCountdown($(this));</span></span><br><span class="line"><span class="comment">      &#125;, 500);</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="comment">// 授权手机</span></span><br><span class="line">    $(<span class="string">&quot;.bind-phone&quot;</span>).<span class="title function_">click</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> ($(<span class="variable language_">this</span>).<span class="title function_">prop</span>(<span class="string">&quot;disabled&quot;</span>)) &#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        weui.<span class="title function_">confirm</span>(<span class="string">&#x27;授权后，您将允许我们通过手机短信语音电话等方式，向您推送CF或CFHD高清竞技大区相关福利活动、最新版本内容等信息&#x27;</span>, &#123;</span><br><span class="line">            <span class="attr">className</span>: <span class="string">&#x27;diy-weui-dialog&#x27;</span>,</span><br><span class="line">            <span class="attr">buttons</span>: [&#123;</span><br><span class="line">              <span class="attr">label</span>: <span class="string">&#x27;取消&#x27;</span>,</span><br><span class="line">              <span class="attr">type</span>: <span class="string">&#x27;default&#x27;</span>,</span><br><span class="line">              <span class="attr">onClick</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123; <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;no&#x27;</span>) &#125;</span><br><span class="line">            &#125;, &#123;</span><br><span class="line">              <span class="attr">label</span>: <span class="string">&#x27;确认授权&#x27;</span>,</span><br><span class="line">              <span class="attr">type</span>: <span class="string">&#x27;primary&#x27;</span>,</span><br><span class="line">              <span class="attr">onClick</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">                <span class="title function_">bindphone</span>(<span class="number">1</span>);</span><br><span class="line">              &#125;</span><br><span class="line">            &#125;]</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 提交预约</span></span><br><span class="line">    $(<span class="string">&quot;.submit-btn&quot;</span>).<span class="title function_">click</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        <span class="comment">//添加功能整合</span></span><br><span class="line">        <span class="title class_">Milo</span>.<span class="title function_">emit</span>(flow_1098772);</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="comment">//领取奖励</span></span><br><span class="line">    $(<span class="string">&quot;.get-gift&quot;</span>).<span class="title function_">click</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        <span class="comment">//添加功能整合</span></span><br><span class="line">        <span class="title class_">Milo</span>.<span class="title function_">emit</span>(flow_1098978);</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    $(<span class="string">&quot;.verify-input&quot;</span>).<span class="title function_">on</span>(<span class="string">&quot;input&quot;</span>, <span class="keyword">function</span> (<span class="params">e</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (e.<span class="property">target</span>.<span class="property">value</span>.<span class="property">length</span>) &#123;</span><br><span class="line">            $(<span class="string">&quot;.get-auth&quot;</span>).<span class="title function_">removeClass</span>(<span class="string">&quot;black&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            $(<span class="string">&quot;.get-auth&quot;</span>).<span class="title function_">addClass</span>(<span class="string">&quot;black&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 退订链接</span></span><br><span class="line">    $(<span class="string">&quot;.unsubscribe&quot;</span>).<span class="title function_">click</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        <span class="title function_">dmunsubscribe</span>();</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 清理定时器</span></span><br><span class="line">    $(<span class="variable language_">window</span>).<span class="title function_">on</span>(<span class="string">&quot;unload&quot;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (timer) &#123;</span><br><span class="line">            <span class="built_in">clearInterval</span>(timer);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="keyword">var</span> activityLink = &#123;</span><br><span class="line">        <span class="attr">gw</span>: [<span class="string">&#x27;https://cf.qq.com/cp/a20241218yuandan/pc/index.html&#x27;</span>, <span class="string">&#x27;https://cf.qq.com/cp/a20241224jansecond/pc/index.shtml&#x27;</span>],</span><br><span class="line">        <span class="attr">nq</span>: [<span class="string">&#x27;https://cf.qq.com/cp/a20241218yuandan/pc/neiqian.html&#x27;</span>, <span class="string">&#x27;https://cf.qq.com/cp/a20241224jansecond/pc/neiqian.shtml&#x27;</span>],</span><br><span class="line">        <span class="attr">zh</span>: [<span class="string">&#x27;https://cf.qq.com/cp/a20241218yuandan/m/index.html&#x27;</span>, <span class="string">&#x27;https://cf.qq.com/cp/a20241224jansecond/h5/h5.shtml&#x27;</span>]</span><br><span class="line">    &#125;</span><br><span class="line">    $(<span class="string">&#x27;.new-activity&#x27;</span>).<span class="title function_">css</span>(<span class="string">&#x27;cursor&#x27;</span>, <span class="string">&#x27;pointer&#x27;</span>);</span><br><span class="line">    $(<span class="string">&#x27;.new-activity&#x27;</span>).<span class="title function_">on</span>(<span class="string">&#x27;click&#x27;</span>, <span class="keyword">function</span>(<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">var</span> isNQ = <span class="variable language_">window</span>.<span class="property">location</span>.<span class="property">href</span>.<span class="title function_">indexOf</span>(<span class="string">&quot;nq.html&quot;</span>) &gt;= <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">var</span> isZH = <span class="variable language_">window</span>.<span class="property">location</span>.<span class="property">href</span>.<span class="title function_">indexOf</span>(<span class="string">&quot;zh.html&quot;</span>) &gt;= <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">var</span> link = <span class="string">&#x27;&#x27;</span>;</span><br><span class="line">        <span class="keyword">var</span> linkIdx = <span class="number">0</span>;</span><br><span class="line">        <span class="comment">// 获取当前日期</span></span><br><span class="line">        <span class="keyword">var</span> currentDate = <span class="keyword">new</span> <span class="title class_">Date</span>();</span><br><span class="line">    </span><br><span class="line">        <span class="comment">// 设置1.11的日期</span></span><br><span class="line">        <span class="keyword">var</span> comparisonDate = <span class="keyword">new</span> <span class="title class_">Date</span>(currentDate.<span class="title function_">getFullYear</span>(), <span class="number">0</span>, <span class="number">11</span>);</span><br><span class="line">    </span><br><span class="line">        <span class="comment">// 比较当前日期是否大于等于1.11</span></span><br><span class="line">        <span class="keyword">if</span> (currentDate &gt;= comparisonDate) &#123;</span><br><span class="line">            linkIdx = <span class="number">1</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            linkIdx = <span class="number">0</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (isNQ) &#123;</span><br><span class="line">            link = activityLink.<span class="property">nq</span>[linkIdx];</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (isZH) &#123;</span><br><span class="line">            link = activityLink.<span class="property">zh</span>[linkIdx];</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            link = activityLink.<span class="property">gw</span>[linkIdx];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="variable language_">window</span>.<span class="title function_">open</span>(link, <span class="string">&#x27;_blank&#x27;</span>);</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">bindEvents</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">// 显示用户信息</span></span><br><span class="line">    $(<span class="string">&quot;.userinfo-arrow-btn&quot;</span>).<span class="title function_">on</span>(<span class="string">&quot;click&quot;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        $(<span class="variable language_">this</span>).<span class="title function_">toggleClass</span>(<span class="string">&quot;active&quot;</span>);</span><br><span class="line">    &#125;);</span><br><span class="line">    $(<span class="string">&quot;.shortcut-wrapper .shortcut&quot;</span>).<span class="title function_">on</span>(<span class="string">&quot;click&quot;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">const</span> className = $(<span class="variable language_">this</span>).<span class="title function_">attr</span>(<span class="string">&quot;data-type&quot;</span>);</span><br><span class="line">        <span class="keyword">const</span> title = $(<span class="variable language_">this</span>).<span class="title function_">attr</span>(<span class="string">&quot;title&quot;</span>);</span><br><span class="line">        pttClick.<span class="title function_">send</span>(<span class="string">&quot;btn&quot;</span>, <span class="string">&quot;openPop&quot;</span>, title);</span><br><span class="line">        <span class="keyword">if</span> (className === <span class="string">&quot;qq&quot;</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (className === <span class="string">&quot;ie&quot;</span>) &#123;</span><br><span class="line">            <span class="variable language_">window</span>.<span class="title function_">open</span>(<span class="string">&#x27;https://cf.qq.com/main.shtml?ADTAG=EventBlackTop.button.btnav.ecter&#x27;</span>, <span class="string">&#x27;_blank&#x27;</span>);</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="title function_">openPop</span>(className);</span><br><span class="line">        <span class="keyword">if</span> (className === <span class="string">&quot;music-player&quot;</span>) &#123;</span><br><span class="line">            <span class="title function_">initVisualizer</span>();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    $(<span class="string">&quot;.pop&quot;</span>).<span class="title function_">on</span>(<span class="string">&quot;click&quot;</span>, <span class="string">&quot;.close&quot;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        pttClick.<span class="title function_">send</span>(<span class="string">&quot;btn&quot;</span>, <span class="string">&quot;closePop&quot;</span>, <span class="string">&quot;关闭弹窗&quot;</span>);</span><br><span class="line">        <span class="comment">// const popName = $(this).parents(&#x27;.pop&#x27;).attr(&#x27;class&#x27;);</span></span><br><span class="line">        <span class="comment">// if(popName.includes(&#x27;music-player&#x27;)) &#123;</span></span><br><span class="line">        <span class="comment">//   destroyVisualizer();</span></span><br><span class="line">        <span class="comment">// &#125;</span></span><br><span class="line">        <span class="title function_">closePop</span>();</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="comment">//复制链接</span></span><br><span class="line">    $(<span class="string">&quot;#copy_btn&quot;</span>).<span class="title function_">click</span>(<span class="keyword">async</span> <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">const</span> linkInput = <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&quot;link_to_copy&quot;</span>);</span><br><span class="line">        <span class="keyword">const</span> text = linkInput.<span class="property">value</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="keyword">await</span> navigator.<span class="property">clipboard</span>.<span class="title function_">writeText</span>(text);</span><br><span class="line">            <span class="title function_">alert</span>(<span class="string">&quot;复制成功&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (err) &#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">error</span>(<span class="string">&quot;复制失败:&quot;</span>, err);</span><br><span class="line">            <span class="comment">// 如果 Clipboard API 失败，回退到传统方法</span></span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                linkInput.<span class="title function_">select</span>();</span><br><span class="line">                <span class="variable language_">document</span>.<span class="title function_">execCommand</span>(<span class="string">&quot;copy&quot;</span>);</span><br><span class="line">                <span class="title function_">alert</span>(<span class="string">&quot;复制成功&quot;</span>);</span><br><span class="line">            &#125; <span class="keyword">catch</span> (err) &#123;</span><br><span class="line">                <span class="title function_">alert</span>(<span class="string">&quot;复制失败，请手动复制&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="comment">//怀旧登录器</span></span><br><span class="line">    $(<span class="string">&quot;.appot-count-window&quot;</span>).<span class="title function_">on</span>(<span class="string">&quot;click&quot;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        <span class="title function_">openPop</span>(<span class="string">&quot;hj-login-popup&quot;</span>);</span><br><span class="line">    &#125;);</span><br><span class="line">    $(<span class="string">&#x27;.notice-btn&#x27;</span>).<span class="title function_">on</span>(<span class="string">&#x27;click&#x27;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        weui.<span class="title function_">toast</span>(<span class="string">&#x27;授权后，您将允许我们通过手机短信语音电话等方式，向您推送CF或CFHD高清竞技大区相关福利活动、最新版本内容等信息&#x27;</span>, <span class="number">3000</span>)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">initMainContent</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="title function_">initMusicPlayer</span>();</span><br><span class="line">    <span class="title function_">initVideoPlayer</span>();</span><br><span class="line">    <span class="title function_">initImageSwiper</span>();</span><br><span class="line">    <span class="title function_">bindEvents</span>();</span><br><span class="line">    <span class="title function_">verifyPhoneCode</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">desktopContent</span>(<span class="params"></span>) &#123;</span><br><span class="line">    $(<span class="string">&quot;.desktop&quot;</span>).<span class="title function_">fadeIn</span>(<span class="number">500</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        <span class="comment">/* sequence(&#123;</span></span><br><span class="line"><span class="comment">            el: &quot;#fault&quot;,</span></span><br><span class="line"><span class="comment">            width: isMobile ? 750 : 1112,</span></span><br><span class="line"><span class="comment">            height: isMobile ? 1011 : 808,</span></span><br><span class="line"><span class="comment">            loop: true,</span></span><br><span class="line"><span class="comment">            fps: 15,</span></span><br><span class="line"><span class="comment">            list: faultImgList,</span></span><br><span class="line"><span class="comment">        &#125;); */</span></span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">initEnterVideo</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">const</span> videoPlayer = <span class="keyword">new</span> <span class="variable constant_">MMD</span>.<span class="title class_">VideoPlayer</span>(&#123;</span><br><span class="line">        <span class="attr">videoElement</span>: $(<span class="string">&quot;#enterVideo&quot;</span>)[<span class="number">0</span>],</span><br><span class="line">        <span class="attr">src</span>: isMobile</span><br><span class="line">            ? <span class="string">&quot;//game.gtimg.cn/images/cf/cp/a20241227reserve/media/video/enter-m.mp4?=t1735893977540&quot;</span></span><br><span class="line">            : <span class="string">&quot;//game.gtimg.cn/images/cf/cp/a20241227reserve/media/video/enter.mp4?=t1735893977540&quot;</span>,</span><br><span class="line">        <span class="attr">visibilityHandle</span>: <span class="literal">false</span>,</span><br><span class="line">        <span class="attr">muted</span>: <span class="literal">true</span>,</span><br><span class="line">    &#125;);</span><br><span class="line">    videoPlayer.<span class="title function_">preload</span>();</span><br><span class="line">    videoPlayer.<span class="title function_">on</span>(<span class="variable constant_">MMD</span>.<span class="property">VideoEvent</span>.<span class="property">START</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">        $(<span class="string">&quot;.loading-page&quot;</span>).<span class="title function_">fadeOut</span>(<span class="number">500</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">            $(<span class="string">&quot;.enter-video&quot;</span>).<span class="title function_">show</span>();</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="comment">// 视频播放完成；</span></span><br><span class="line">    videoPlayer.<span class="title function_">on</span>(<span class="variable constant_">MMD</span>.<span class="property">VideoEvent</span>.<span class="property">END</span>, <span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="title function_">desktopContent</span>();</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="keyword">return</span> videoPlayer;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">loadResource</span>(<span class="params">onComplete</span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> queue = <span class="keyword">new</span> createjs.<span class="title class_">LoadQueue</span>(&#123;</span><br><span class="line">        <span class="attr">preferXHR</span>: <span class="literal">true</span>,</span><br><span class="line">        <span class="attr">crossOrigin</span>: <span class="literal">true</span>,</span><br><span class="line">    &#125;);</span><br><span class="line">    queue.<span class="title function_">setMaxConnections</span>(<span class="number">10</span>);</span><br><span class="line">    queue.<span class="title function_">loadManifest</span>(loadImgList);</span><br><span class="line"></span><br><span class="line">    queue.<span class="title function_">on</span>(<span class="string">&quot;complete&quot;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        $(<span class="string">&quot;.loading-word&quot;</span>).<span class="title function_">fadeOut</span>(<span class="number">500</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">            $(<span class="string">&quot;.start-btn&quot;</span>).<span class="title function_">fadeIn</span>();</span><br><span class="line">            <span class="title function_">onComplete</span>();</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="title function_">loadResource</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    $(<span class="variable language_">document</span>).<span class="title function_">ready</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">const</span> videoPlayer = <span class="title function_">initEnterVideo</span>();</span><br><span class="line">        <span class="title function_">initMainContent</span>();</span><br><span class="line">        <span class="keyword">const</span> firstEnter = <span class="variable language_">localStorage</span>.<span class="title function_">getItem</span>(<span class="string">&quot;first_enter&quot;</span>);</span><br><span class="line">        <span class="keyword">if</span> (firstEnter) &#123;</span><br><span class="line">            $(<span class="string">&quot;.loading-page&quot;</span>).<span class="title function_">hide</span>();</span><br><span class="line">            <span class="title function_">desktopContent</span>();</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            $(<span class="string">&quot;.loading-page&quot;</span>).<span class="title function_">show</span>();</span><br><span class="line">        &#125;</span><br><span class="line">        $(<span class="string">&quot;.start-btn&quot;</span>).<span class="title function_">on</span>(<span class="string">&quot;click&quot;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">            videoPlayer.<span class="title function_">play</span>();</span><br><span class="line">            <span class="variable language_">localStorage</span>.<span class="title function_">setItem</span>(<span class="string">&quot;first_enter&quot;</span>, <span class="string">&quot;1&quot;</span>);</span><br><span class="line">        &#125;);</span><br><span class="line">        $(<span class="string">&quot;.restart-btn&quot;</span>).<span class="title function_">on</span>(<span class="string">&quot;click&quot;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">            $(<span class="string">&quot;.desktop&quot;</span>).<span class="title function_">fadeOut</span>();</span><br><span class="line">            <span class="comment">// $(&#x27;.enter-video&#x27;).fadeIn()</span></span><br><span class="line">            videoPlayer.<span class="title function_">play</span>();</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h2 id="apptLogic-js"><a href="#apptLogic-js" class="headerlink" title="apptLogic.js"></a>apptLogic.js</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**是否已预约 */</span></span><br><span class="line"><span class="keyword">var</span> isBooked = <span class="literal">false</span>;</span><br><span class="line"><span class="comment">/**是否已经登录 */</span></span><br><span class="line"><span class="keyword">var</span> isLogined = <span class="literal">true</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//登录成功后</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">afterLogin</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="comment">//已预约 查看邀请</span></span><br><span class="line">  <span class="title function_">closePop</span>();</span><br><span class="line">  <span class="keyword">if</span> (isBooked) &#123;</span><br><span class="line">    <span class="title function_">openPop</span>(<span class="string">&#x27;invite-viewer&#x27;</span>);</span><br><span class="line">    $(<span class="string">&#x27;.pop.login-popup&#x27;</span>).<span class="title function_">hide</span>();</span><br><span class="line">    <span class="keyword">return</span>;</span><br><span class="line">  &#125;</span><br><span class="line">  <span class="comment">//未预约</span></span><br><span class="line">  <span class="title function_">openPop</span>(<span class="string">&#x27;login-popup&#x27;</span>);</span><br><span class="line">  $(<span class="string">&#x27;#logined&#x27;</span>).<span class="title function_">show</span>().<span class="title function_">siblings</span>().<span class="title function_">hide</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//预约成功后</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">afterBook</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="title function_">closePop</span>();</span><br><span class="line">  <span class="title function_">openPop</span>(<span class="string">&#x27;login-popup&#x27;</span>);</span><br><span class="line">  $(<span class="string">&#x27;#subscribeSucceed&#x27;</span>).<span class="title function_">show</span>().<span class="title function_">siblings</span>().<span class="title function_">hide</span>();</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">$(<span class="variable language_">document</span>).<span class="title function_">ready</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">  <span class="comment">// //怀旧手机号预约</span></span><br><span class="line">  $(<span class="string">&#x27;#hj_subscribe_btn&#x27;</span>).<span class="title function_">on</span>(<span class="string">&#x27;click&#x27;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="title function_">closePop</span>();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (!isLogined) &#123;</span><br><span class="line">      <span class="comment">//未登录</span></span><br><span class="line">      <span class="title function_">openPop</span>(<span class="string">&#x27;login-popup&#x27;</span>);</span><br><span class="line">      $(<span class="string">&#x27;.hj-login-popup&#x27;</span>).<span class="title function_">hide</span>();</span><br><span class="line">      <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (!isBooked) &#123;</span><br><span class="line">      <span class="comment">//未预约</span></span><br><span class="line">      <span class="title function_">openPop</span>(<span class="string">&#x27;hj-subscribe&#x27;</span>);</span><br><span class="line">      $(<span class="string">&#x27;.hj-login-popup&#x27;</span>).<span class="title function_">hide</span>();</span><br><span class="line">      <span class="keyword">return</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//已预约，查看邀请</span></span><br><span class="line">    <span class="title function_">openPop</span>(<span class="string">&#x27;invite-viewer&#x27;</span>);</span><br><span class="line">  &#125;);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  $(<span class="string">&#x27;.pop.invite-viewer .add-btn&#x27;</span>).<span class="title function_">on</span>(<span class="string">&#x27;click&#x27;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="comment">//邀请</span></span><br><span class="line">    <span class="keyword">if</span> (isMobile) &#123;</span><br><span class="line">      <span class="comment">//打开邀请tip弹层</span></span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">      <span class="title function_">openPop</span>(<span class="string">&#x27;copy-viewer&#x27;</span>);</span><br><span class="line">      $(<span class="string">&#x27;.pop.invite-viewer&#x27;</span>).<span class="title function_">hide</span>();</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h2 id="yuyue-js"><a href="#yuyue-js" class="headerlink" title="yuyue.js"></a>yuyue.js</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br><span class="line">207</span><br><span class="line">208</span><br><span class="line">209</span><br><span class="line">210</span><br><span class="line">211</span><br><span class="line">212</span><br><span class="line">213</span><br><span class="line">214</span><br><span class="line">215</span><br><span class="line">216</span><br><span class="line">217</span><br><span class="line">218</span><br><span class="line">219</span><br><span class="line">220</span><br><span class="line">221</span><br><span class="line">222</span><br><span class="line">223</span><br><span class="line">224</span><br><span class="line">225</span><br><span class="line">226</span><br><span class="line">227</span><br><span class="line">228</span><br><span class="line">229</span><br><span class="line">230</span><br><span class="line">231</span><br><span class="line">232</span><br><span class="line">233</span><br><span class="line">234</span><br><span class="line">235</span><br><span class="line">236</span><br><span class="line">237</span><br><span class="line">238</span><br><span class="line">239</span><br><span class="line">240</span><br><span class="line">241</span><br><span class="line">242</span><br><span class="line">243</span><br><span class="line">244</span><br><span class="line">245</span><br><span class="line">246</span><br><span class="line">247</span><br><span class="line">248</span><br><span class="line">249</span><br><span class="line">250</span><br><span class="line">251</span><br><span class="line">252</span><br><span class="line">253</span><br><span class="line">254</span><br><span class="line">255</span><br><span class="line">256</span><br><span class="line">257</span><br><span class="line">258</span><br><span class="line">259</span><br><span class="line">260</span><br><span class="line">261</span><br><span class="line">262</span><br><span class="line">263</span><br><span class="line">264</span><br><span class="line">265</span><br><span class="line">266</span><br><span class="line">267</span><br><span class="line">268</span><br><span class="line">269</span><br><span class="line">270</span><br><span class="line">271</span><br><span class="line">272</span><br><span class="line">273</span><br><span class="line">274</span><br><span class="line">275</span><br><span class="line">276</span><br><span class="line">277</span><br><span class="line">278</span><br><span class="line">279</span><br><span class="line">280</span><br><span class="line">281</span><br><span class="line">282</span><br><span class="line">283</span><br><span class="line">284</span><br><span class="line">285</span><br><span class="line">286</span><br><span class="line">287</span><br><span class="line">288</span><br><span class="line">289</span><br><span class="line">290</span><br><span class="line">291</span><br><span class="line">292</span><br><span class="line">293</span><br><span class="line">294</span><br><span class="line">295</span><br><span class="line">296</span><br><span class="line">297</span><br><span class="line">298</span><br><span class="line">299</span><br><span class="line">300</span><br><span class="line">301</span><br><span class="line">302</span><br><span class="line">303</span><br><span class="line">304</span><br><span class="line">305</span><br><span class="line">306</span><br><span class="line">307</span><br><span class="line">308</span><br><span class="line">309</span><br><span class="line">310</span><br><span class="line">311</span><br><span class="line">312</span><br><span class="line">313</span><br><span class="line">314</span><br><span class="line">315</span><br><span class="line">316</span><br><span class="line">317</span><br><span class="line">318</span><br><span class="line">319</span><br><span class="line">320</span><br><span class="line">321</span><br><span class="line">322</span><br><span class="line">323</span><br><span class="line">324</span><br><span class="line">325</span><br><span class="line">326</span><br><span class="line">327</span><br><span class="line">328</span><br><span class="line">329</span><br><span class="line">330</span><br><span class="line">331</span><br><span class="line">332</span><br><span class="line">333</span><br><span class="line">334</span><br><span class="line">335</span><br><span class="line">336</span><br><span class="line">337</span><br><span class="line">338</span><br><span class="line">339</span><br><span class="line">340</span><br><span class="line">341</span><br><span class="line">342</span><br><span class="line">343</span><br><span class="line">344</span><br><span class="line">345</span><br><span class="line">346</span><br><span class="line">347</span><br><span class="line">348</span><br><span class="line">349</span><br><span class="line">350</span><br><span class="line">351</span><br><span class="line">352</span><br><span class="line">353</span><br><span class="line">354</span><br><span class="line">355</span><br><span class="line">356</span><br><span class="line">357</span><br><span class="line">358</span><br><span class="line">359</span><br><span class="line">360</span><br><span class="line">361</span><br><span class="line">362</span><br><span class="line">363</span><br><span class="line">364</span><br><span class="line">365</span><br><span class="line">366</span><br><span class="line">367</span><br><span class="line">368</span><br><span class="line">369</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//检查是否登录</span></span><br><span class="line"><span class="keyword">var</span> nowhref = <span class="variable language_">window</span>.<span class="property">location</span>.<span class="property">href</span>;</span><br><span class="line"><span class="keyword">if</span> (nowhref.<span class="title function_">indexOf</span>(<span class="string">&quot;nq.html&quot;</span>) &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> isQC = <span class="literal">false</span>;</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    <span class="keyword">var</span> isQC = <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="title class_">Milo</span>.<span class="title function_">checkLogin</span>(&#123;</span><br><span class="line">    <span class="attr">iUseQQConnect</span>: isQC, <span class="comment">//如果当前活动使用的互联登录,请将改参数设置true</span></span><br><span class="line">    <span class="attr">success</span>: <span class="keyword">function</span> (<span class="params">user</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="title class_">Milo</span>.<span class="title function_">isMobile</span>()) $(<span class="string">&quot;#milo-logout&quot;</span>).<span class="title function_">hide</span>();</span><br><span class="line">        <span class="keyword">var</span> userInfo = user &amp;&amp; user.<span class="property">userInfo</span>;</span><br><span class="line">        $(<span class="string">&quot;#milo-logined&quot;</span>).<span class="title function_">show</span>();</span><br><span class="line">        $(<span class="string">&quot;#milo-unlogin&quot;</span>).<span class="title function_">hide</span>();</span><br><span class="line">        $(<span class="string">&quot;#milo-userUin&quot;</span>).<span class="title function_">text</span>(userInfo.<span class="property">userUin</span>);</span><br><span class="line">        <span class="keyword">if</span> (<span class="title class_">Milo</span>.<span class="title function_">isMobile</span>()) $(<span class="string">&quot;#milo-logout&quot;</span>).<span class="title function_">hide</span>();</span><br><span class="line">        <span class="keyword">let</span> nickName = userInfo.<span class="property">nickName</span>;</span><br><span class="line">        $(<span class="string">&quot;#milo-userUin&quot;</span>).<span class="title function_">html</span>(nickName);</span><br><span class="line">		<span class="title class_">Milo</span>.<span class="title function_">emit</span>(flow_1101262);</span><br><span class="line">        <span class="title function_">queryBindArea</span>();</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">fail</span>: <span class="keyword">function</span> (<span class="params">res</span>) &#123;</span><br><span class="line">        <span class="comment">//todo login</span></span><br><span class="line">		<span class="title class_">Milo</span>.<span class="title function_">emit</span>(flow_1101262);</span><br><span class="line">        $(<span class="string">&quot;.userinfo-arrow-btn&quot;</span>).<span class="title function_">addClass</span>(<span class="string">&quot;active&quot;</span>);</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">// qq登录</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">qqlogin</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> (isQC) &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="title class_">Milo</span>.<span class="title function_">isMobile</span>()) &#123;</span><br><span class="line">            <span class="title class_">Milo</span>.<span class="title function_">mobileLoginByQQConnect</span>();</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="title class_">Milo</span>.<span class="title function_">loginByQQConnect</span>();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="title class_">Milo</span>.<span class="title function_">isMobile</span>()) &#123;</span><br><span class="line">            <span class="title class_">Milo</span>.<span class="title function_">mobileLoginByQQ</span>();</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="title class_">Milo</span>.<span class="title function_">loginByQQ</span>();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 退出</span></span><br><span class="line">$(<span class="string">&quot;#milo-logout&quot;</span>).<span class="title function_">click</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="title class_">Milo</span>.<span class="title function_">logout</span>(&#123;</span><br><span class="line">        <span class="attr">callback</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">            $(<span class="string">&quot;#milo-logined&quot;</span>).<span class="title function_">hide</span>();</span><br><span class="line">            $(<span class="string">&quot;#milo-unlogin&quot;</span>).<span class="title function_">show</span>();</span><br><span class="line">        &#125;,</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="variable language_">window</span>.<span class="property">location</span>.<span class="title function_">reload</span>();</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">/*****************大区********************/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// 查询绑定大区</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">queryBindArea</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> flow_query = &#123;</span><br><span class="line">        <span class="attr">actId</span>: <span class="string">&quot;693120&quot;</span>,</span><br><span class="line">        <span class="attr">token</span>: <span class="string">&quot;68b24f&quot;</span>,</span><br><span class="line">        <span class="attr">loading</span>: <span class="literal">false</span>, <span class="comment">// 开启loading浮层,默认不开启</span></span><br><span class="line">        <span class="attr">sData</span>: &#123;</span><br><span class="line">            <span class="attr">query</span>: <span class="literal">true</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="attr">success</span>: <span class="keyword">function</span> (<span class="params">res</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (res.<span class="property">data</span>) &#123;</span><br><span class="line">                $(<span class="string">&quot;#milo-binded&quot;</span>).<span class="title function_">show</span>();</span><br><span class="line">                $(<span class="string">&quot;#milo-unbind&quot;</span>).<span class="title function_">hide</span>();</span><br><span class="line">                $(<span class="string">&quot;#milo-areaName,.share-service&quot;</span>).<span class="title function_">text</span>(res.<span class="property">data</span>.<span class="property">areaName</span>);</span><br><span class="line">                $(<span class="string">&quot;#milo-roleName,.share-nickname&quot;</span>).<span class="title function_">text</span>(res.<span class="property">data</span>.<span class="property">roleName</span>);</span><br><span class="line">            &#125;</span><br><span class="line">			<span class="title class_">Milo</span>.<span class="title function_">emit</span>(flow_1098787);</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="attr">fail</span>: <span class="keyword">function</span> (<span class="params">res</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (res.<span class="property">iRet</span> === -<span class="number">9998</span> || res.<span class="property">iRet</span> === <span class="string">&quot;-9998&quot;</span>) &#123;</span><br><span class="line">                <span class="keyword">return</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            $(<span class="string">&quot;#milo-binded&quot;</span>).<span class="title function_">hide</span>();</span><br><span class="line">            $(<span class="string">&quot;#milo-unbind&quot;</span>).<span class="title function_">show</span>();</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;查询绑定大区fail&quot;</span>, res);</span><br><span class="line">        &#125;,</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="title class_">Milo</span>.<span class="title function_">emit</span>(flow_query);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">$(<span class="string">&quot;#milo-commitArea, #milo-changeArea&quot;</span>).<span class="title function_">click</span>(<span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">    <span class="title function_">commitBindArea</span>();</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 提交绑定大区</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">commitBindArea</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> flow_commit = &#123;</span><br><span class="line">        <span class="attr">actId</span>: <span class="string">&quot;693120&quot;</span>,</span><br><span class="line">        <span class="attr">token</span>: <span class="string">&quot;f39729&quot;</span>,</span><br><span class="line">        <span class="attr">loading</span>: <span class="literal">false</span>, <span class="comment">// 开启loading浮层,默认不开启</span></span><br><span class="line">        <span class="attr">sData</span>: &#123;</span><br><span class="line">            <span class="attr">query</span>: <span class="literal">false</span>,</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="attr">success</span>: <span class="keyword">function</span> (<span class="params">res</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (res.<span class="property">data</span>) &#123;</span><br><span class="line">                $(<span class="string">&quot;#milo-binded&quot;</span>).<span class="title function_">show</span>();</span><br><span class="line">                $(<span class="string">&quot;#milo-unbind&quot;</span>).<span class="title function_">hide</span>();</span><br><span class="line">                $(<span class="string">&quot;#milo-areaName,.share-service&quot;</span>).<span class="title function_">text</span>(res.<span class="property">data</span>.<span class="property">areaName</span>);</span><br><span class="line">                $(<span class="string">&quot;#milo-roleName,.share-nickname&quot;</span>).<span class="title function_">text</span>(res.<span class="property">data</span>.<span class="property">roleName</span>);</span><br><span class="line">            &#125;</span><br><span class="line">			<span class="title class_">Milo</span>.<span class="title function_">emit</span>(flow_1098787);</span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="attr">fail</span>: <span class="keyword">function</span> (<span class="params">res</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (res.<span class="property">iRet</span> === -<span class="number">9998</span> || res.<span class="property">iRet</span> === <span class="string">&quot;-9998&quot;</span>) &#123;</span><br><span class="line">                <span class="keyword">return</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            $(<span class="string">&quot;#milo-binded&quot;</span>).<span class="title function_">hide</span>();</span><br><span class="line">            $(<span class="string">&quot;#milo-unbind&quot;</span>).<span class="title function_">show</span>();</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;提交绑定大区fail&quot;</span>, res);</span><br><span class="line">        &#125;,</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="title class_">Milo</span>.<span class="title function_">emit</span>(flow_commit);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//预约</span></span><br><span class="line"><span class="keyword">var</span> flow_1098772 = &#123;</span><br><span class="line">    <span class="attr">actId</span>: <span class="string">&quot;693120&quot;</span>,</span><br><span class="line">    <span class="attr">token</span>: <span class="string">&quot;e6af34&quot;</span>,</span><br><span class="line">    <span class="attr">sData</span>: &#123;&#125;,</span><br><span class="line"></span><br><span class="line">    <span class="attr">success</span>: <span class="keyword">function</span> (<span class="params">res</span>) &#123;</span><br><span class="line">        <span class="built_in">setTimeout</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">            weui.<span class="title function_">toast</span>(<span class="string">&#x27;恭喜您预约成功~&#x27;</span>);</span><br><span class="line">        &#125;, <span class="number">500</span>);</span><br><span class="line">        <span class="title class_">Milo</span>.<span class="title function_">emit</span>(flow_1098787);</span><br><span class="line">		<span class="title class_">Milo</span>.<span class="title function_">emit</span>(flow_1101262);</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">fail</span>: <span class="keyword">function</span> (<span class="params">res</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (res.<span class="property">iRet</span> == <span class="number">101</span>) &#123;</span><br><span class="line">            <span class="title function_">qqlogin</span>();</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (res.<span class="property">iRet</span> == <span class="number">99998</span>) &#123;</span><br><span class="line">            <span class="title function_">commitBindArea</span>();</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            weui.<span class="title function_">toast</span>(res.<span class="property">sMsg</span>);</span><br><span class="line">            <span class="comment">/* closePop();</span></span><br><span class="line"><span class="comment">            commonPop(res.sMsg); */</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">//初始化</span></span><br><span class="line"><span class="keyword">var</span> flow_1098787 = &#123;</span><br><span class="line">    <span class="attr">actId</span>: <span class="string">&quot;693120&quot;</span>,</span><br><span class="line">    <span class="attr">token</span>: <span class="string">&quot;422093&quot;</span>,</span><br><span class="line">    <span class="attr">sData</span>: &#123;&#125;,</span><br><span class="line"></span><br><span class="line">    <span class="attr">success</span>: <span class="keyword">function</span> (<span class="params">res</span>) &#123;</span><br><span class="line">        record.<span class="title function_">init</span>(); <span class="comment">//初始化分享图片</span></span><br><span class="line">        <span class="keyword">if</span> (res.<span class="property">details</span>.<span class="property">modRet</span>.<span class="property">sOutValue1</span> &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            $(<span class="string">&quot;.submit-btn&quot;</span>).<span class="title function_">hide</span>();</span><br><span class="line">            $(<span class="string">&quot;.subscribe-disable,.get-gift&quot;</span>).<span class="title function_">show</span>();</span><br><span class="line">			<span class="keyword">var</span> yyresult = res.<span class="property">details</span>.<span class="property">modRet</span>.<span class="property">sOutValue5</span>;</span><br><span class="line">			<span class="keyword">if</span> (yyresult != <span class="number">0</span>) &#123;</span><br><span class="line">				yyrecord = yyresult.<span class="title function_">split</span>(<span class="string">&quot;_&quot;</span>);</span><br><span class="line">				record.<span class="property">descIdx</span> = yyrecord[<span class="number">0</span>];</span><br><span class="line">				record.<span class="property">picIdx</span> = yyrecord[<span class="number">1</span>];</span><br><span class="line">				$(<span class="string">&quot;#my-file-second&quot;</span>).<span class="title function_">show</span>()</span><br><span class="line">				$(<span class="string">&quot;#my-file-first&quot;</span>).<span class="title function_">hide</span>()</span><br><span class="line">				record.<span class="title function_">initDescAndPic</span>();</span><br><span class="line">			&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">				$(<span class="string">&quot;#my-file-second&quot;</span>).<span class="title function_">hide</span>()</span><br><span class="line">				$(<span class="string">&quot;#my-file-first&quot;</span>).<span class="title function_">show</span>()</span><br><span class="line">			&#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (res.<span class="property">details</span>.<span class="property">modRet</span>.<span class="property">sOutValue3</span> &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            $(<span class="string">&quot;.get-gift&quot;</span>).<span class="title function_">hide</span>();</span><br><span class="line">            $(<span class="string">&quot;.get-gift-disable&quot;</span>).<span class="title function_">show</span>();</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            $(<span class="string">&quot;.get-gift&quot;</span>).<span class="title function_">show</span>();</span><br><span class="line">            $(<span class="string">&quot;.get-gift-disable&quot;</span>).<span class="title function_">hide</span>();</span><br><span class="line">        &#125;</span><br><span class="line">		<span class="keyword">if</span>(res.<span class="property">details</span>.<span class="property">modRet</span>.<span class="property">sOutValue4</span>&gt;<span class="number">0</span>)&#123;</span><br><span class="line">			$(<span class="string">&quot;.share-subscribe-number&quot;</span>).<span class="title function_">text</span>(</span><br><span class="line">				<span class="string">&quot;您是怀旧服第&quot;</span> + res.<span class="property">details</span>.<span class="property">modRet</span>.<span class="property">sOutValue4</span> + <span class="string">&quot;个预约玩家&quot;</span></span><br><span class="line">			);</span><br><span class="line">		&#125;</span><br><span class="line">        </span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">fail</span>: <span class="keyword">function</span> (<span class="params">res</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (res.<span class="property">iRet</span> == <span class="number">101</span>) &#123;</span><br><span class="line">            <span class="title function_">qqlogin</span>();</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (res.<span class="property">iRet</span> == <span class="number">99998</span>) &#123;</span><br><span class="line">            <span class="title function_">commitBindArea</span>();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">//初始化-不带登录</span></span><br><span class="line"><span class="keyword">var</span> flow_1101262 = &#123;</span><br><span class="line">  <span class="attr">actId</span>: <span class="string">&#x27;693120&#x27;</span>,</span><br><span class="line">  <span class="attr">token</span>: <span class="string">&#x27;35117e&#x27;</span>,</span><br><span class="line">  <span class="attr">sData</span>: &#123;</span><br><span class="line">  &#125;,</span><br><span class="line">  </span><br><span class="line">	<span class="attr">success</span>: <span class="keyword">function</span>(<span class="params">res</span>)&#123;</span><br><span class="line">      $(<span class="string">&quot;#appoint-count&quot;</span>).<span class="title function_">text</span>(res.<span class="property">details</span>.<span class="property">modRet</span>.<span class="property">sOutValue2</span>);</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">fail</span>: <span class="keyword">function</span>(<span class="params">res</span>)&#123;</span><br><span class="line">        <span class="keyword">if</span>(res.<span class="property">iRet</span> == <span class="number">101</span>)&#123;</span><br><span class="line">            <span class="comment">//todo 登录态失效，需要重新调登录方法 （开发自行实现）</span></span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (res.<span class="property">iRet</span> == <span class="number">99998</span>) &#123;</span><br><span class="line">            <span class="comment">// todo 调用提交绑定大区方法</span></span><br><span class="line">        &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//领取预约奖励</span></span><br><span class="line"><span class="keyword">var</span> flow_1098978 = &#123;</span><br><span class="line">    <span class="attr">actId</span>: <span class="string">&quot;693120&quot;</span>,</span><br><span class="line">    <span class="attr">token</span>: <span class="string">&quot;90d8e2&quot;</span>,</span><br><span class="line">    <span class="attr">sData</span>: &#123;&#125;,</span><br><span class="line"></span><br><span class="line">    <span class="attr">success</span>: <span class="keyword">function</span> (<span class="params">res</span>) &#123;</span><br><span class="line">        weui.<span class="title function_">toast</span>(res.<span class="property">sMsg</span>);</span><br><span class="line">        <span class="title class_">Milo</span>.<span class="title function_">emit</span>(flow_1098787);</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">fail</span>: <span class="keyword">function</span> (<span class="params">res</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (res.<span class="property">iRet</span> == <span class="number">101</span>) &#123;</span><br><span class="line">            <span class="title function_">qqlogin</span>();</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (res.<span class="property">iRet</span> == <span class="number">99998</span>) &#123;</span><br><span class="line">            <span class="title function_">commitBindArea</span>();</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            weui.<span class="title function_">toast</span>(res.<span class="property">sMsg</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">//领取迷彩套装</span></span><br><span class="line"><span class="keyword">var</span> flow_1098775 = &#123;</span><br><span class="line">    <span class="attr">actId</span>: <span class="string">&quot;693120&quot;</span>,</span><br><span class="line">    <span class="attr">token</span>: <span class="string">&quot;b502c0&quot;</span>,</span><br><span class="line">    <span class="attr">sData</span>: &#123;&#125;,</span><br><span class="line"></span><br><span class="line">    <span class="attr">success</span>: <span class="keyword">function</span> (<span class="params">res</span>) &#123;</span><br><span class="line">        <span class="title function_">closePop</span>();</span><br><span class="line">        <span class="title function_">commonPop</span>(res.<span class="property">sMsg</span>);</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">fail</span>: <span class="keyword">function</span> (<span class="params">res</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (res.<span class="property">iRet</span> == <span class="number">101</span>) &#123;</span><br><span class="line">            <span class="title function_">qqlogin</span>();</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (res.<span class="property">iRet</span> == <span class="number">99998</span>) &#123;</span><br><span class="line">            <span class="title function_">commitBindArea</span>();</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            weui.<span class="title function_">toast</span>(res.<span class="property">sMsg</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//console.log(res);</span></span><br><span class="line">    &#125;,</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">//记录黑话&amp;头像</span></span><br><span class="line"><span class="keyword">var</span> flow_1100125 = &#123;</span><br><span class="line">    <span class="attr">actId</span>: <span class="string">&quot;693120&quot;</span>,</span><br><span class="line">    <span class="attr">token</span>: <span class="string">&quot;f0bef1&quot;</span>,</span><br><span class="line">    <span class="attr">sData</span>: &#123;<span class="string">&quot;dmid&quot;</span>:<span class="number">0</span>,<span class="string">&quot;dmid1&quot;</span>:<span class="number">1</span>&#125;,</span><br><span class="line">    <span class="attr">loading</span>: <span class="literal">false</span>,</span><br><span class="line">    <span class="attr">success</span>: <span class="keyword">function</span> (<span class="params">res</span>) &#123;</span><br><span class="line">		<span class="title class_">Milo</span>.<span class="title function_">emit</span>(flow_1098787);</span><br><span class="line">	&#125;,</span><br><span class="line">    <span class="attr">fail</span>: <span class="keyword">function</span> (<span class="params">res</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (res.<span class="property">iRet</span> == <span class="number">101</span>) &#123;</span><br><span class="line">            <span class="title function_">qqlogin</span>();</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (res.<span class="property">iRet</span> == <span class="number">99998</span>) &#123;</span><br><span class="line">            <span class="title function_">commitBindArea</span>();</span><br><span class="line">        &#125;<span class="keyword">else</span>&#123;</span><br><span class="line">			weui.<span class="title function_">toast</span>(res.<span class="property">sMsg</span>);</span><br><span class="line">		&#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line">amsCfg_1004838 = amsCfg_1004839 = &#123;</span><br><span class="line">    <span class="attr">iAMSActivityId</span>: <span class="string">&quot;608967&quot;</span>, <span class="comment">// AMS活动号</span></span><br><span class="line">    <span class="attr">activityId</span>: <span class="string">&quot;592766&quot;</span>, <span class="comment">// 模块实例号</span></span><br><span class="line">    <span class="attr">sData</span>: &#123; <span class="attr">phone</span>: <span class="string">&quot;&quot;</span>, <span class="attr">code</span>: <span class="string">&quot;&quot;</span>, <span class="attr">iActId</span>: <span class="string">&quot;&quot;</span>, <span class="attr">sService</span>: <span class="string">&quot;&quot;</span> &#125;,</span><br><span class="line">    <span class="attr">_everyRead</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">sNeedSubmitPopDiv</span>: <span class="literal">false</span>,</span><br><span class="line">    <span class="attr">onBeginGetGiftEvent</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>; <span class="comment">// 抽奖前事件，返回0表示成功</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">onGetGiftFailureEvent</span>: <span class="keyword">function</span> (<span class="params">callbackObj</span>) &#123;</span><br><span class="line">        <span class="comment">// 抽奖失败事件</span></span><br><span class="line">        weui.<span class="title function_">toast</span>(callbackObj.<span class="property">sMsg</span>);</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">onGetGiftSuccessEvent</span>: <span class="keyword">function</span> (<span class="params">callbackObj</span>) &#123;</span><br><span class="line">        <span class="comment">// 抽奖成功事件</span></span><br><span class="line">        <span class="keyword">var</span> packageLen = callbackObj.<span class="property">iPackageId</span></span><br><span class="line">            ? callbackObj.<span class="property">iPackageId</span>.<span class="title function_">split</span>(<span class="string">&quot;,&quot;</span>)</span><br><span class="line">            : <span class="string">&quot;&quot;</span>;</span><br><span class="line">        <span class="keyword">if</span> (packageLen &amp;&amp; packageLen.<span class="property">length</span> &gt; <span class="number">1</span>) &#123;</span><br><span class="line">            <span class="title function_">alert</span>(callbackObj.<span class="property">sMsg</span>);</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        weui.<span class="title function_">toast</span>(callbackObj.<span class="property">sMsg</span>);</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">amsCfg_1004837 = &#123;</span><br><span class="line">    <span class="attr">iAMSActivityId</span>: <span class="string">&quot;608967&quot;</span>, <span class="comment">// AMS活动号</span></span><br><span class="line">    <span class="attr">activityId</span>: <span class="string">&quot;592766&quot;</span>, <span class="comment">// 模块实例号</span></span><br><span class="line">    <span class="attr">sData</span>: &#123; <span class="attr">phone</span>: <span class="string">&quot;&quot;</span>, <span class="attr">code</span>: <span class="string">&quot;&quot;</span>, <span class="attr">iActId</span>: <span class="string">&quot;&quot;</span>, <span class="attr">sService</span>: <span class="string">&quot;&quot;</span> &#125;,</span><br><span class="line">    <span class="attr">_everyRead</span>: <span class="literal">true</span>,</span><br><span class="line">    <span class="attr">sNeedSubmitPopDiv</span>: <span class="literal">false</span>,</span><br><span class="line">    <span class="attr">onBeginGetGiftEvent</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>; <span class="comment">// 抽奖前事件，返回0表示成功</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">onGetGiftFailureEvent</span>: <span class="keyword">function</span> (<span class="params">callbackObj</span>) &#123;</span><br><span class="line">        <span class="comment">// 抽奖失败事件</span></span><br><span class="line">        weui.<span class="title function_">toast</span>(callbackObj.<span class="property">sMsg</span>);</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">onGetGiftSuccessEvent</span>: <span class="keyword">function</span> (<span class="params">callbackObj</span>) &#123;</span><br><span class="line">        <span class="comment">// 抽奖成功事件</span></span><br><span class="line">		weui.<span class="title function_">toast</span>(<span class="string">&#x27;发送成功~&#x27;</span>);</span><br><span class="line">        $(<span class="string">&quot;.bind-phone&quot;</span>).<span class="title function_">removeClass</span>(<span class="string">&quot;black&quot;</span>);</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">//手机号码填写</span></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">sendcode</span>(<span class="params">id</span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> phoneNum = $(<span class="string">&quot;#phoneNum&quot;</span> + id).<span class="title function_">val</span>();</span><br><span class="line">    <span class="keyword">if</span> (phoneNum) &#123;</span><br><span class="line">        amsCfg_1004837.<span class="property">sData</span>.<span class="property">phone</span> = phoneNum;</span><br><span class="line">        <span class="title function_">amsSubmit</span>(<span class="number">608967</span>, <span class="number">1004837</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="comment">// closePop();</span></span><br><span class="line">        <span class="comment">// commonPop(&quot;请输入正确的手机号码！&quot;);</span></span><br><span class="line">        weui.<span class="title function_">toast</span>(<span class="string">&#x27;请输入正确的手机号码！&#x27;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">function</span> <span class="title function_">bindphone</span>(<span class="params">id</span>) &#123;</span><br><span class="line">    <span class="keyword">var</span> phoneNum = $(<span class="string">&quot;#phoneNum&quot;</span> + id).<span class="title function_">val</span>();</span><br><span class="line">    <span class="keyword">var</span> codeNum = $(<span class="string">&quot;#codeNum&quot;</span> + id).<span class="title function_">val</span>();</span><br><span class="line">    <span class="keyword">if</span> (phoneNum &amp;&amp; codeNum) &#123;</span><br><span class="line">        amsCfg_1004838.<span class="property">sData</span>.<span class="property">phone</span> = phoneNum;</span><br><span class="line">        amsCfg_1004838.<span class="property">sData</span>.<span class="property">code</span> = codeNum;</span><br><span class="line">        amsCfg_1004838.<span class="property">sData</span>.<span class="property">iActId</span> = <span class="number">689039</span>;</span><br><span class="line">        amsCfg_1004838.<span class="property">sData</span>.<span class="property">sService</span> = <span class="string">&quot;CF&quot;</span>;</span><br><span class="line">        <span class="title function_">amsSubmit</span>(<span class="number">608967</span>, <span class="number">1004838</span>);</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        weui.<span class="title function_">toast</span>(<span class="string">&#x27;请输入正确的手机号码和验证码后再授权！&#x27;</span>)</span><br><span class="line">        <span class="comment">// closePop();</span></span><br><span class="line">        <span class="comment">// commonPop(&quot;请输入正确的手机号码和验证码后再授权！&quot;);</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">dmunsubscribe</span>(<span class="params"></span>) &#123;</span><br><span class="line">    <span class="title function_">confirm</span>(<span class="string">&quot;您确定要退订吗？&quot;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        <span class="title function_">amsSubmit</span>(<span class="number">608967</span>, <span class="number">1004839</span>);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br><span class="line"><span class="variable language_">window</span>.<span class="property">confirm</span> = <span class="keyword">function</span> (<span class="params">msg, callback, callback1, callback2</span>) &#123;</span><br><span class="line">    <span class="title function_">need</span>(<span class="string">&quot;util.modalDialog&quot;</span>, <span class="keyword">function</span> (<span class="params">Dialog</span>) &#123;</span><br><span class="line">        <span class="title class_">Dialog</span>.<span class="title function_">confirm</span>(msg, &#123;</span><br><span class="line">            <span class="attr">onConfirm</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">                <span class="keyword">typeof</span> callback == <span class="string">&quot;function&quot;</span></span><br><span class="line">                    ? <span class="title function_">callback</span>()</span><br><span class="line">                    : <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;no callback&quot;</span>);</span><br><span class="line">            &#125;,</span><br><span class="line">            <span class="attr">onCancel</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">                <span class="keyword">typeof</span> callback1 == <span class="string">&quot;function&quot;</span></span><br><span class="line">                    ? <span class="title function_">callback1</span>()</span><br><span class="line">                    : <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;no callback1&quot;</span>);</span><br><span class="line">            &#125;,</span><br><span class="line">            <span class="attr">onClose</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">                <span class="keyword">typeof</span> callback1 == <span class="string">&quot;function&quot;</span></span><br><span class="line">                    ? <span class="title function_">callback2</span>()</span><br><span class="line">                    : <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;no callback2&quot;</span>);</span><br><span class="line">            &#125;,</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><h2 id="record-js"><a href="#record-js" class="headerlink" title="record.js"></a>record.js</h2><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> record = &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">    <span class="attr">arename</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">    <span class="attr">descIdx</span>: <span class="number">0</span>, <span class="comment">//初始化描述索引</span></span><br><span class="line">    <span class="attr">picIdx</span>: <span class="number">1</span>, <span class="comment">//初始化头像索引</span></span><br><span class="line">    <span class="attr">yuyenum</span>: <span class="string">&quot;&quot;</span>, <span class="comment">//当前预约名次</span></span><br><span class="line">    <span class="attr">descArr</span>: [</span><br><span class="line">        <span class="string">&quot;三亿鼠标的枪战梦想&quot;</span>,</span><br><span class="line">        <span class="string">&quot;两黄两水&quot;</span>,</span><br><span class="line">        <span class="string">&quot;马来狗马来狗 按住左键不放手&quot;</span>,</span><br><span class="line">        <span class="string">&quot;银色换大炮 迷彩换大炮&quot;</span>,</span><br><span class="line">        <span class="string">&quot;自雷国密&quot;</span>,</span><br><span class="line">        <span class="string">&quot;找哥哥收徒弟&quot;</span>,</span><br><span class="line">        <span class="string">&quot;战队收人只要90后&quot;</span>,</span><br><span class="line">        <span class="string">&quot;爆破三禁&quot;</span>,</span><br><span class="line">        <span class="string">&quot;中路对狙&quot;</span>,</span><br><span class="line">        <span class="string">&quot;斜角AK&quot;</span>,</span><br><span class="line">        <span class="string">&quot;运输船solo&quot;</span>,</span><br><span class="line">        <span class="string">&quot;左手狙神&quot;</span>,</span><br><span class="line">        <span class="string">&quot;kkkkkkkkk&quot;</span>,</span><br><span class="line">        <span class="string">&quot;1861&quot;</span>,</span><br><span class="line">        <span class="string">&quot;33主道&quot;</span>,</span><br><span class="line">        <span class="string">&quot;按F抢治疗&quot;</span>,</span><br><span class="line">        <span class="string">&quot;哥哥发把枪&quot;</span>,</span><br><span class="line">        <span class="string">&quot;把ACE踢了&quot;</span>,</span><br><span class="line">        <span class="string">&quot;一回合杀10个&quot;</span>,</span><br><span class="line">        <span class="string">&quot;网吧五连坐 从来没赢过&quot;</span>,</span><br><span class="line">        <span class="string">&quot;一动不动是王八&quot;</span>,</span><br><span class="line">        <span class="string">&quot;按G获取加特林&quot;</span>,</span><br><span class="line">    ],</span><br><span class="line">    <span class="attr">init</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">var</span> self = <span class="variable language_">this</span>;</span><br><span class="line">        <span class="keyword">if</span> (pageName == <span class="string">&quot;zh&quot;</span>) &#123;</span><br><span class="line">            $(<span class="string">&quot;.save-tips&quot;</span>).<span class="title function_">addClass</span>(<span class="string">&quot;save-tips-zh&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (pageName == <span class="string">&quot;nq&quot;</span>) &#123;</span><br><span class="line">            $(<span class="string">&quot;.save-tips&quot;</span>).<span class="title function_">hide</span>();</span><br><span class="line">        &#125;</span><br><span class="line">        self.<span class="title function_">bindEvent</span>();</span><br><span class="line">        self.<span class="title function_">initDescAndPic</span>();</span><br><span class="line">        $(<span class="string">&quot;#refresh-btn-desc,#refresh-btn-avatar&quot;</span>).<span class="title function_">on</span>(<span class="string">&quot;click&quot;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">            <span class="keyword">var</span> type = $(<span class="variable language_">this</span>).<span class="title function_">attr</span>(<span class="string">&quot;data-type&quot;</span>);</span><br><span class="line">            <span class="keyword">var</span> index = self.<span class="title function_">refresh</span>(type);</span><br><span class="line">            <span class="keyword">if</span> (type == <span class="string">&quot;avatar&quot;</span>) &#123;</span><br><span class="line">                self.<span class="property">picIdx</span> = index;</span><br><span class="line">                flow_1100125.<span class="property">sData</span>.<span class="property">dmid1</span> = self.<span class="property">picIdx</span>;</span><br><span class="line">                $(<span class="string">&quot;.share-avatar img&quot;</span>).<span class="title function_">attr</span>(</span><br><span class="line">                    <span class="string">&quot;src&quot;</span>,</span><br><span class="line">                    <span class="string">&quot;//game.gtimg.cn/images/cf/cp/a20241227reserve/common/avatar/&quot;</span> +</span><br><span class="line">                        index +</span><br><span class="line">                        <span class="string">&quot;.jpg&quot;</span></span><br><span class="line">                );</span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                self.<span class="property">descIdx</span> = index;</span><br><span class="line">                flow_1100125.<span class="property">sData</span>.<span class="property">dmid</span> = self.<span class="property">descIdx</span>;</span><br><span class="line">                $(<span class="string">&quot;.text-items-content .text-items&quot;</span>).<span class="title function_">text</span>(</span><br><span class="line">                    record.<span class="property">descArr</span>[index - <span class="number">1</span>]</span><br><span class="line">                );</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">//初始黑话和头像</span></span><br><span class="line">    <span class="attr">initDescAndPic</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">const</span> self = <span class="variable language_">this</span>;</span><br><span class="line">        <span class="keyword">var</span> url =</span><br><span class="line">            <span class="string">&quot;https://game.gtimg.cn/images/cf/cp/a20241227reserve/common/avatar/&quot;</span> +</span><br><span class="line">            self.<span class="property">picIdx</span> +</span><br><span class="line">            <span class="string">&quot;.jpg&quot;</span>;</span><br><span class="line">        $(<span class="string">&quot;.share-avatar img&quot;</span>).<span class="title function_">attr</span>(<span class="string">&quot;src&quot;</span>, url);</span><br><span class="line">        $(<span class="string">&quot;.text-items-content .text-items&quot;</span>).<span class="title function_">text</span>(</span><br><span class="line">            self.<span class="property">descArr</span>[self.<span class="property">descIdx</span> - <span class="number">1</span>]</span><br><span class="line">        );</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">bindEvent</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">const</span> self = <span class="variable language_">this</span>;</span><br><span class="line">        <span class="keyword">const</span> img = $(<span class="string">&quot;#share-popup-img&quot;</span>)[<span class="number">0</span>];</span><br><span class="line">        $(<span class="string">&quot;.subscribe-disable&quot;</span>).<span class="title function_">on</span>(<span class="string">&quot;click&quot;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">            <span class="title function_">closePop</span>();</span><br><span class="line">            <span class="keyword">const</span> className = $(<span class="variable language_">this</span>).<span class="title function_">attr</span>(<span class="string">&quot;data-type&quot;</span>);</span><br><span class="line">            <span class="title function_">openPop</span>(className);</span><br><span class="line">        &#125;);</span><br><span class="line">        $(<span class="string">&quot;.my-file&quot;</span>).<span class="title function_">off</span>(<span class="string">&quot;click&quot;</span>).<span class="title function_">on</span>(<span class="string">&quot;click&quot;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">            <span class="title function_">closePop</span>();</span><br><span class="line">            <span class="keyword">const</span> className = $(<span class="variable language_">this</span>).<span class="title function_">attr</span>(<span class="string">&quot;data-type&quot;</span>);</span><br><span class="line">            <span class="title function_">openPop</span>(className);</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;self.picIdx&quot;</span>, self.<span class="property">picIdx</span>);</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;self.descIdx&quot;</span>, self.<span class="property">descIdx</span>);</span><br><span class="line">            <span class="keyword">if</span> (className == <span class="string">&quot;share-popup&quot;</span>) &#123;</span><br><span class="line">                self.<span class="title function_">convertToImage</span>(img).<span class="title function_">then</span>(<span class="function">(<span class="params">src</span>) =&gt;</span> &#123;</span><br><span class="line">                    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;src&quot;</span>, src);</span><br><span class="line">                    $(<span class="string">&quot;#share-loading&quot;</span>).<span class="title function_">hide</span>();</span><br><span class="line">                    $(<span class="string">&quot;#share-img&quot;</span>).<span class="title function_">show</span>();</span><br><span class="line">                    $(<span class="string">&quot;#share-img&quot;</span>).<span class="title function_">attr</span>(<span class="string">&quot;src&quot;</span>, src);</span><br><span class="line">                &#125;);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">        <span class="comment">//点击生成档案  self.picIdx self.descIdx 两个值保存</span></span><br><span class="line">        $(<span class="string">&quot;.create-btn&quot;</span>)</span><br><span class="line">            .<span class="title function_">off</span>(<span class="string">&quot;click&quot;</span>)</span><br><span class="line">            .<span class="title function_">on</span>(<span class="string">&quot;click&quot;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">                <span class="comment">// console.log(&quot;self.picIdx&quot;, self.picIdx);</span></span><br><span class="line">                <span class="comment">// console.log(&quot;self.descIdx&quot;, self.descIdx);</span></span><br><span class="line">                <span class="title function_">closePop</span>();</span><br><span class="line">                <span class="keyword">const</span> className = $(<span class="variable language_">this</span>).<span class="title function_">attr</span>(<span class="string">&quot;data-type&quot;</span>);</span><br><span class="line">                <span class="title function_">openPop</span>(className);</span><br><span class="line">                self.<span class="title function_">convertToImage</span>(img).<span class="title function_">then</span>(<span class="function">(<span class="params">src</span>) =&gt;</span> &#123;</span><br><span class="line">                    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;src&quot;</span>, src);</span><br><span class="line">                    $(<span class="string">&quot;#share-loading&quot;</span>).<span class="title function_">hide</span>();</span><br><span class="line">                    $(<span class="string">&quot;#share-img&quot;</span>).<span class="title function_">show</span>();</span><br><span class="line">                    $(<span class="string">&quot;#share-img&quot;</span>).<span class="title function_">attr</span>(<span class="string">&quot;src&quot;</span>, src);</span><br><span class="line">                &#125;);</span><br><span class="line">                <span class="title class_">Milo</span>.<span class="title function_">emit</span>(flow_1100125);</span><br><span class="line">            &#125;);</span><br><span class="line">        <span class="comment">//再次编辑</span></span><br><span class="line">        $(<span class="string">&quot;.edit-btn&quot;</span>).<span class="title function_">on</span>(<span class="string">&quot;click&quot;</span>, <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">            <span class="title function_">closePop</span>();</span><br><span class="line">            <span class="keyword">const</span> className = $(<span class="variable language_">this</span>).<span class="title function_">attr</span>(<span class="string">&quot;data-type&quot;</span>);</span><br><span class="line">            <span class="title function_">openPop</span>(className);</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">convertToImage</span>: <span class="keyword">function</span> (<span class="params">container</span>) &#123;</span><br><span class="line">        <span class="keyword">const</span> _width = container.<span class="property">offsetWidth</span>;</span><br><span class="line">        <span class="keyword">const</span> _height = container.<span class="property">offsetHeight</span>;</span><br><span class="line">        <span class="keyword">const</span> ops = &#123;</span><br><span class="line">            _width,</span><br><span class="line">            _height,</span><br><span class="line">            <span class="attr">backgroundColor</span>: <span class="literal">null</span>,</span><br><span class="line">            <span class="attr">useCORS</span>: <span class="literal">true</span>,</span><br><span class="line">            <span class="attr">allowTaint</span>: <span class="literal">false</span>,</span><br><span class="line">        &#125;;</span><br><span class="line">        <span class="keyword">return</span> <span class="title function_">html2canvas</span>(container, ops).<span class="title function_">then</span>(<span class="function">(<span class="params">canvas</span>) =&gt;</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> canvas.<span class="title function_">toDataURL</span>(<span class="string">&quot;image/png&quot;</span>);</span><br><span class="line">        &#125;);</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">getRandomNumber</span>: <span class="keyword">function</span> (<span class="params">min, max</span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="title class_">Math</span>.<span class="title function_">floor</span>(<span class="title class_">Math</span>.<span class="title function_">random</span>() * (max - min + <span class="number">1</span>)) + min;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">//刷新文案</span></span><br><span class="line">    <span class="attr">refresh</span>: <span class="keyword">function</span> (<span class="params">type</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (type == <span class="string">&quot;avatar&quot;</span>) &#123;</span><br><span class="line">            <span class="comment">//img</span></span><br><span class="line">            <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="title function_">getRandomNumber</span>(<span class="number">1</span>, <span class="number">11</span>);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">//text</span></span><br><span class="line">            <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="title function_">getRandomNumber</span>(<span class="number">1</span>, <span class="number">22</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="https://www.dreamlove.top">梦洁</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a href="https://www.dreamlove.top/b491ce61.html">https://www.dreamlove.top/b491ce61.html</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://www.dreamlove.top" target="_blank">梦洁小站-属于你我的小天地</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/vue/">vue</a></div><div class="post_share"><div class="social-share" data-image="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202501131843929.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://lib.baomitu.com/butterfly-extsrc/1.1.3/sharejs/dist/css/share.min.css" media="print" onload='this.media="all"'><script src="https://lib.baomitu.com/butterfly-extsrc/1.1.3/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/17729aea.html" title="pdf.js默认显示侧边栏和默认手形工具"><img class="cover" src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202502201547807.png" onerror='onerror=null,src="/img/404.png"' alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">pdf.js默认显示侧边栏和默认手形工具</div></div></a></div><div class="next-post pull-right"><a href="/65bb05da.html" title="Scrapy2.12版本拦截自带日志记录转由loguru记录并可以按照错误登记归类整理"><img class="cover" src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202501131841250.png" onerror='onerror=null,src="/img/404.png"' alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">Scrapy2.12版本拦截自带日志记录转由loguru记录并可以按照错误登记归类整理</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="/ef46a99b.html" title="mockjs生成假数据的基本使用"><img class="cover" src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202207311537489.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-07-31</div><div class="title">mockjs生成假数据的基本使用</div></div></a></div><div><a href="/75bf0d7.html" title="webpack构建工具的学习"><img class="cover" src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205291452280.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-05-28</div><div class="title">webpack构建工具的学习</div></div></a></div><div><a href="/e031a88b.html" title="前端面试可能会问到的知识点记录"><img class="cover" src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202207181536689.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-07-18</div><div class="title">前端面试可能会问到的知识点记录</div></div></a></div><div><a href="/7429306f.html" title="js正则匹配获取分组和正向反向的区别"><img class="cover" src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/20220228215037.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-11-13</div><div class="title">js正则匹配获取分组和正向反向的区别</div></div></a></div><div><a href="/be489729.html" title="navigator.clipboard.readtext开发的时候有用,编译后测试却不生效"><img class="cover" src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202210190919962.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-10-19</div><div class="title">navigator.clipboard.readtext开发的时候有用,编译后测试却不生效</div></div></a></div><div><a href="/cb27eea3.html" title="移动端前端的适配和rem,vm其他的一些的复习"><img class="cover" src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205242024668.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-05-23</div><div class="title">移动端前端的适配和rem,vm其他的一些的复习</div></div></a></div></div></div><hr class="custom-hr"><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div></div><div class="comment-wrap"><div><div id="artalk-wrap"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="https://oss.ypggb.com/i/2025/07/01/pk26bw.png" onerror='this.onerror=null,this.src="/img/404.png"' alt="avatar"></div><div class="author-info__name">梦洁</div><div class="author-info__description">小小的字,有大大的梦想~分享我的前端学习过程,经历,错误,和一些其他折腾过程</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">182</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">101</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">73</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/superBiuBiuMan"><i class="fab fa-github"></i><span>关注下我(*￣▽￣*)</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="mailto:zmqdream@qq.com" target="_blank" title="Email"><i class="fas fa-envelope" style="color:#4a7dbe"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">不断更新中,有问题请留言回复(会通过邮箱提醒~)</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%95%88%E6%9E%9C"><span class="toc-number">1.</span> <span class="toc-text">效果</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%94%A8%E5%88%B0%E7%9A%84%E5%BA%93"><span class="toc-number">2.</span> <span class="toc-text">用到的库</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%87%8D%E8%A6%81%E7%9A%84%E5%BA%93"><span class="toc-number">2.1.</span> <span class="toc-text">重要的库</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%B8%8D%E9%87%8D%E8%A6%81%E7%9A%84%E5%BA%93"><span class="toc-number">2.2.</span> <span class="toc-text">不重要的库</span></a></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E7%A9%BF%E8%B6%8A%E7%81%AB%E7%BA%BF%E8%AF%B4%E6%98%8E"><span class="toc-number">3.</span> <span class="toc-text">穿越火线说明</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E9%9F%B3%E4%B9%90%E6%92%AD%E6%94%BE%E5%99%A8"><span class="toc-number">4.</span> <span class="toc-text">音乐播放器</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%BF%9B%E5%BA%A6%E6%9D%A1%E5%85%B3%E9%94%AE%E4%BB%A3%E7%A0%81"><span class="toc-number">4.1.</span> <span class="toc-text">进度条关键代码</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AE%BE%E7%BD%AE%E8%BF%9B%E5%BA%A6%E6%9D%A1%E6%8E%A7%E5%88%B6%E5%9D%97%E7%9A%84%E6%A0%B7%E5%BC%8F"><span class="toc-number">4.2.</span> <span class="toc-text">设置进度条控制块的样式</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%9F%B3%E7%AC%A6%E5%BE%8B%E5%8A%A8-%E9%9F%B3%E6%B3%A2%E9%9F%B3%E6%B5%AA-%E6%95%88%E6%9E%9C%E6%80%8E%E4%B9%88%E5%81%9A"><span class="toc-number">4.3.</span> <span class="toc-text">音符律动(音波音浪)效果怎么做</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#css%E5%8F%98%E9%87%8F%E8%AF%BB%E5%8F%96%E7%9A%84%E9%A1%BA%E5%BA%8F-%E5%85%88%E4%BB%8E%E8%A1%8C%E5%86%85%E6%A0%B7%E5%BC%8F%E8%AF%BB%E5%8F%96"><span class="toc-number">4.4.</span> <span class="toc-text">css变量读取的顺序?先从行内样式读取?</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%A7%A3%E6%9E%90%E9%A1%BA%E5%BA%8F%EF%BC%9A"><span class="toc-number">4.4.1.</span> <span class="toc-text">解析顺序：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%A4%BA%E4%BE%8B%E4%BB%A3%E7%A0%81%EF%BC%9A"><span class="toc-number">4.4.2.</span> <span class="toc-text">示例代码：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%B3%E9%94%AE%E7%82%B9%EF%BC%9A"><span class="toc-number">4.4.3.</span> <span class="toc-text">关键点：</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%80%BB%E7%BB%93%EF%BC%9A"><span class="toc-number">4.4.4.</span> <span class="toc-text">总结：</span></a></li></ol></li></ol></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E5%9B%BE%E7%89%87%E5%88%97%E8%A1%A8"><span class="toc-number">5.</span> <span class="toc-text">图片列表</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%80%8E%E4%B9%88%E8%A7%A3%E5%86%B3%E7%BC%A9%E6%94%BE%E7%9A%84%E9%97%AE%E9%A2%98"><span class="toc-number">6.</span> <span class="toc-text">怎么解决缩放的问题,</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%B7%BB%E5%8A%A0%E4%BA%86%E9%81%AE%E7%BD%A9%E8%83%8C%E6%99%AF-%E6%97%A0%E6%B3%95%E7%82%B9%E5%87%BB%E5%9B%BE%E6%A0%87%E4%BA%86"><span class="toc-number">7.</span> <span class="toc-text">添加了遮罩背景,无法点击图标了</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E6%97%A0%E6%B3%95%E8%87%AA%E5%8A%A8%E6%92%AD%E6%94%BE%E9%9F%B3%E9%A2%91"><span class="toc-number">8.</span> <span class="toc-text">无法自动播放音频</span></a></li><li class="toc-item toc-level-1"><a class="toc-link" href="#%E4%BB%96%E4%BB%AC%E7%9A%84%E4%BB%A3%E7%A0%81%E5%86%85%E5%AE%B9"><span class="toc-number">9.</span> <span class="toc-text">他们的代码内容</span></a><ol class="toc-child"><li class="toc-item toc-level-2"><a class="toc-link" href="#sequence-js"><span class="toc-number">9.1.</span> <span class="toc-text">sequence.js</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#loadImgList-js"><span class="toc-number">9.2.</span> <span class="toc-text">loadImgList.js</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#index-js"><span class="toc-number">9.3.</span> <span class="toc-text">index.js</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#apptLogic-js"><span class="toc-number">9.4.</span> <span class="toc-text">apptLogic.js</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#yuyue-js"><span class="toc-number">9.5.</span> <span class="toc-text">yuyue.js</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#record-js"><span class="toc-number">9.6.</span> <span class="toc-text">record.js</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/31d04109.html" title="java枚举和mybaits-plus结合实现映射输出和存储">java枚举和mybaits-plus结合实现映射输出和存储</a><time datetime="2025-05-26T20:23:14.000Z" title="发表于 2025-05-26 20:23:14">2025-05-26</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/dc4ed705.html" title="qq农场,牧场解包查看导出swf文件内容图片"><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202503251433885.png" onerror='this.onerror=null,this.src="/img/404.png"' alt="qq农场,牧场解包查看导出swf文件内容图片"></a><div class="content"><a class="title" href="/dc4ed705.html" title="qq农场,牧场解包查看导出swf文件内容图片">qq农场,牧场解包查看导出swf文件内容图片</a><time datetime="2025-03-25T14:28:01.000Z" title="发表于 2025-03-25 14:28:01">2025-03-25</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/ed2e6c27.html" title="移动云盘加密分析-以链接有消息检查为例子"><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202503251433302.png" onerror='this.onerror=null,this.src="/img/404.png"' alt="移动云盘加密分析-以链接有消息检查为例子"></a><div class="content"><a class="title" href="/ed2e6c27.html" title="移动云盘加密分析-以链接有消息检查为例子">移动云盘加密分析-以链接有消息检查为例子</a><time datetime="2025-03-22T12:24:10.000Z" title="发表于 2025-03-22 12:24:10">2025-03-22</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/3cde95bc.html" title="mstsc使用proxifier走clash代理降低延迟"><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202503030912164.png" onerror='this.onerror=null,this.src="/img/404.png"' alt="mstsc使用proxifier走clash代理降低延迟"></a><div class="content"><a class="title" href="/3cde95bc.html" title="mstsc使用proxifier走clash代理降低延迟">mstsc使用proxifier走clash代理降低延迟</a><time datetime="2025-03-03T09:11:01.000Z" title="发表于 2025-03-03 09:11:01">2025-03-03</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/d6a2907d.html" title="适配FASTGPT基础AI模板-适合对付领导突发AI-奇想而生的模板"><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202502201550402.png" onerror='this.onerror=null,this.src="/img/404.png"' alt="适配FASTGPT基础AI模板-适合对付领导突发AI-奇想而生的模板"></a><div class="content"><a class="title" href="/d6a2907d.html" title="适配FASTGPT基础AI模板-适合对付领导突发AI-奇想而生的模板">适配FASTGPT基础AI模板-适合对付领导突发AI-奇想而生的模板</a><time datetime="2025-02-20T15:45:25.000Z" title="发表于 2025-02-20 15:45:25">2025-02-20</time></div></div></div></div></div></div></main><footer id="footer" style="background-image:url(https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202501131843929.png)"><div id="footer-wrap"><div class="copyright">&copy;2021 - 2025 By 梦洁</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js?v=4.13.0"></script><script src="/js/main.js?v=4.13.0"></script><script src="https://lib.baomitu.com/fancyapps-ui/5.0.33/fancybox/fancybox.umd.min.js"></script><div class="js-pjax"><script>(()=>{let t=null;const e=()=>{if(t=Artalk.init(Object.assign({el:"#artalk-wrap",server:"https://artalk.dreamlove.top",site:"梦洁小站",pageKey:location.pathname,darkMode:"dark"===document.documentElement.getAttribute("data-theme")},null)),"null"===GLOBAL_CONFIG.lightbox)return;t.on("list-loaded",()=>{t.ctx.get("list").getCommentNodes().forEach(t=>{const e=t.getRender().$content;btf.loadLightbox(e.querySelectorAll("img:not([atk-emoticon])"))})});btf.addGlobalFn("pjax",()=>{t.destroy()},"destroyArtalk")},a=async()=>{"object"==typeof Artalk||(await getCSS("https://lib.baomitu.com/artalk/2.8.2/Artalk.min.css"),await getScript("https://lib.baomitu.com/artalk/2.8.2/Artalk.min.js")),e()};btf.addGlobalFn("themeChange",e=>{const a=document.getElementById("artalk-wrap");if(!a||!a.children.length)return;const l="dark"===e;t.setDarkMode(l)},"artalk"),a()})()</script></div><script id="canvas_nest" defer color="0,0,255" opacity="0.7" zindex="-1" count="99" mobile="false" src="https://lib.baomitu.com/butterfly-extsrc/1.1.3/canvas-nest.min.js"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="algolia-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="search-wrap"><div id="algolia-search-input"></div><hr><div id="algolia-search-results"><div id="algolia-hits"></div><div id="algolia-pagination"></div><div id="algolia-info"><div class="algolia-stats"></div><div class="algolia-poweredBy"></div></div></div></div></div><div id="search-mask"></div><script src="https://lib.baomitu.com/algoliasearch/4.22.1/algoliasearch-lite.umd.min.js"></script><script src="https://lib.baomitu.com/instantsearch.js/4.65.0/instantsearch.production.min.js"></script><script src="/js/search/algolia.js?v=4.13.0"></script></div></div></body></html>