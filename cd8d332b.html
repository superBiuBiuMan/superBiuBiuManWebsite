<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover"><title>vue一些比较重要知识点的复习 | 梦洁小站-属于你我的小天地</title><meta name="author" content="梦洁"><meta name="copyright" content="梦洁"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="Vue的MVVM模型知道什么是MVVM M: (Model 模型)  即后端传递过来或者自己定义的数据(对应vue组件当中的data,props,computed等) V: (View 视图) 即用户看到的界面UI (也就是我们组件当中的template部分) VM: ViewModel,负责实现View和Model之间数据状态同步的中间对象  MVVM的关系 MVVM优点 在MVVM架构下，Vi"><meta property="og:type" content="article"><meta property="og:title" content="vue一些比较重要知识点的复习"><meta property="og:url" content="https://www.dreamlove.top/cd8d332b.html"><meta property="og:site_name" content="梦洁小站-属于你我的小天地"><meta property="og:description" content="Vue的MVVM模型知道什么是MVVM M: (Model 模型)  即后端传递过来或者自己定义的数据(对应vue组件当中的data,props,computed等) V: (View 视图) 即用户看到的界面UI (也就是我们组件当中的template部分) VM: ViewModel,负责实现View和Model之间数据状态同步的中间对象  MVVM的关系 MVVM优点 在MVVM架构下，Vi"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205221120658.jpg"><meta property="article:published_time" content="2022-05-22T10:45:00.000Z"><meta property="article:modified_time" content="2022-07-17T17:24:16.000Z"><meta property="article:author" content="梦洁"><meta property="article:tag" content="vue"><meta property="article:tag" content="HTML"><meta property="article:tag" content="javscript"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205221120658.jpg"><link rel="shortcut icon" href="https://oss.ypggb.com/i/2025/07/01/pk26bw.png"><link rel="canonical" href="https://www.dreamlove.top/cd8d332b.html"><link rel="preconnect" href="https://lib.baomitu.com"><link rel="preconnect" href="//busuanzi.ibruce.info"><link rel="stylesheet" href="/css/index.css?v=4.13.0"><link rel="stylesheet" href="https://lib.baomitu.com/font-awesome/6.5.1/css/all.min.css"><link rel="stylesheet" href="https://lib.baomitu.com/fancyapps-ui/5.0.33/fancybox/fancybox.min.css" media="print" onload='this.media="all"'><script>const GLOBAL_CONFIG={root:"/",algolia:{appId:"G7A2D1SYPY",apiKey:"49056313a9be02852c7dbedfcb772831",indexName:"blog",hits:{per_page:20},languages:{input_placeholder:"搜索文章",hits_empty:"找不到您查询的内容：${query}",hits_stats:"找到 ${hits} 条结果，用时 ${time} 毫秒"}},localSearch:void 0,translate:void 0,noticeOutdate:void 0,highlight:{plugin:"highlight.js",highlightCopy:!0,highlightLang:!0,highlightHeightLimit:!1},copy:{success:"复制成功",error:"复制错误",noSupport:"浏览器不支持"},relativeDate:{homepage:!1,post:!1},runtime:"天",dateSuffix:{just:"刚刚",min:"分钟前",hour:"小时前",day:"天前",month:"个月前"},copyright:void 0,lightbox:"fancybox",Snackbar:void 0,infinitegrid:{js:"https://lib.baomitu.com/egjs-infinitegrid/4.11.1/infinitegrid.min.js",buttonText:"加载更多"},isPhotoFigcaption:!1,islazyload:!1,isAnchor:!1,percent:{toc:!0,rightside:!1},autoDarkmode:!1}</script><script id="config-diff">var GLOBAL_CONFIG_SITE={title:"vue一些比较重要知识点的复习",isPost:!0,isHome:!1,isHighlightShrink:!1,isToc:!0,postUpdate:"2022-07-17 17:24:16"}</script><script>(e=>{e.saveToLocal={set:(e,t,o)=>{if(0===o)return;const a={value:t,expiry:Date.now()+864e5*o};localStorage.setItem(e,JSON.stringify(a))},get:e=>{const t=localStorage.getItem(e);if(!t)return;const o=JSON.parse(t);if(!(Date.now()>o.expiry))return o.value;localStorage.removeItem(e)}},e.getScript=(e,t={})=>new Promise((o,a)=>{const n=document.createElement("script");n.src=e,n.async=!0,n.onerror=a,n.onload=n.onreadystatechange=function(){const e=this.readyState;e&&"loaded"!==e&&"complete"!==e||(n.onload=n.onreadystatechange=null,o())},Object.keys(t).forEach(e=>{n.setAttribute(e,t[e])}),document.head.appendChild(n)}),e.getCSS=(e,t=!1)=>new Promise((o,a)=>{const n=document.createElement("link");n.rel="stylesheet",n.href=e,t&&(n.id=t),n.onerror=a,n.onload=n.onreadystatechange=function(){const e=this.readyState;e&&"loaded"!==e&&"complete"!==e||(n.onload=n.onreadystatechange=null,o())},document.head.appendChild(n)}),e.activateDarkMode=()=>{document.documentElement.setAttribute("data-theme","dark"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","#0d0d0d")},e.activateLightMode=()=>{document.documentElement.setAttribute("data-theme","light"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","#ffffff")};const t=saveToLocal.get("theme");"dark"===t?activateDarkMode():"light"===t&&activateLightMode();const o=saveToLocal.get("aside-status");void 0!==o&&("hide"===o?document.documentElement.classList.add("hide-aside"):document.documentElement.classList.remove("hide-aside"));/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)&&document.documentElement.classList.add("apple")})(window)</script><meta name="generator" content="Hexo 7.1.1"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://oss.ypggb.com/i/2025/07/01/pk26bw.png" onerror='onerror=null,src="/img/404.png"' alt="avatar"></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">182</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">101</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">73</div></a></div><hr class="custom-hr"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友情和链接</span></a></div><div class="menus_item"><a class="site-page" href="/navigation/"><i class="fa-fw fas fa-link"></i><span> 链接导航</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 私有化导航</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" target="_blank" rel="noopener" href="https://mark.123916.xyz/"><i class="fa-fw fas fa-database"></i><span> 导航</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="https://cloud.reassurehome.com/"><i class="fa-fw fas fa-hippo"></i><span> Alist(私有)</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 工具</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" target="_blank" rel="noopener" href="https://short.123916.xyz/027a2"><i class="fa-fw fas fa-paperclip"></i><span> clash免费订阅地址</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="https://short.123916.xyz/admin/"><i class="fa-fw fas fa-paperclip"></i><span> 短链接生成</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 好玩的</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" target="_blank" rel="noopener" href="https://make.girls.moe/#/"><i class="fa-fw fas fa-database"></i><span> 动漫头像制作</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="http://dfqshy.ysepan.com/"><i class="fa-fw fas fa-database"></i><span> FC游戏大全网盘</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="https://www.yikm.net/"><i class="fa-fw fas fa-database"></i><span> 小霸王</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="https://www.return8090.com/"><i class="fa-fw fas fa-database"></i><span> 小霸王(广告多)</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="http://farm.dreamlove.top"><i class="fa-fw fas fa-database"></i><span> QQ农场经典版</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="https://codepip.com/"><i class="fa-fw fas fa-database"></i><span> CssGame</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="https://photo.123916.xyz/"><i class="fa-fw fas fa-database"></i><span> 有趣的照片</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 其他</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></li><li><a class="site-page child" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="https://buy.dreamlove.top/"><i class="fa-fw fas fa-heart"></i><span> 购物</span></a></li></ul></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image:url(https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205221120658.jpg)"><nav id="nav"><span id="blog-info"><a href="/" title="梦洁小站-属于你我的小天地"><span class="site-name">梦洁小站-属于你我的小天地</span></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友情和链接</span></a></div><div class="menus_item"><a class="site-page" href="/navigation/"><i class="fa-fw fas fa-link"></i><span> 链接导航</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 私有化导航</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" target="_blank" rel="noopener" href="https://mark.123916.xyz/"><i class="fa-fw fas fa-database"></i><span> 导航</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="https://cloud.reassurehome.com/"><i class="fa-fw fas fa-hippo"></i><span> Alist(私有)</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 工具</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" target="_blank" rel="noopener" href="https://short.123916.xyz/027a2"><i class="fa-fw fas fa-paperclip"></i><span> clash免费订阅地址</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="https://short.123916.xyz/admin/"><i class="fa-fw fas fa-paperclip"></i><span> 短链接生成</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 好玩的</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" target="_blank" rel="noopener" href="https://make.girls.moe/#/"><i class="fa-fw fas fa-database"></i><span> 动漫头像制作</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="http://dfqshy.ysepan.com/"><i class="fa-fw fas fa-database"></i><span> FC游戏大全网盘</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="https://www.yikm.net/"><i class="fa-fw fas fa-database"></i><span> 小霸王</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="https://www.return8090.com/"><i class="fa-fw fas fa-database"></i><span> 小霸王(广告多)</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="http://farm.dreamlove.top"><i class="fa-fw fas fa-database"></i><span> QQ农场经典版</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="https://codepip.com/"><i class="fa-fw fas fa-database"></i><span> CssGame</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="https://photo.123916.xyz/"><i class="fa-fw fas fa-database"></i><span> 有趣的照片</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 其他</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></li><li><a class="site-page child" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="https://buy.dreamlove.top/"><i class="fa-fw fas fa-heart"></i><span> 购物</span></a></li></ul></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">vue一些比较重要知识点的复习</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2022-05-22T10:45:00.000Z" title="发表于 2022-05-22 10:45:00">2022-05-22</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2022-07-17T17:24:16.000Z" title="更新于 2022-07-17 17:24:16">2022-07-17</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/HTML/">HTML</a><i class="fas fa-angle-right post-meta-separator"></i><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/HTML/javscript/">javscript</a><i class="fas fa-angle-right post-meta-separator"></i><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/HTML/javscript/vue/">vue</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">19.1k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>77分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" data-flag-title="vue一些比较重要知识点的复习"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h3 id="Vue的MVVM模型"><a href="#Vue的MVVM模型" class="headerlink" title="Vue的MVVM模型"></a>Vue的MVVM模型</h3><h4 id="知道什么是MVVM"><a href="#知道什么是MVVM" class="headerlink" title="知道什么是MVVM"></a>知道什么是MVVM</h4><ul><li>M: (Model 模型) 即后端传递过来或者自己定义的数据(对应vue组件当中的data,props,computed等)</li><li>V: (View 视图) 即用户看到的界面UI (也就是我们组件当中的template部分)</li><li>VM: ViewModel,负责实现View和Model之间数据状态同步的中间对象</li></ul><h4 id="MVVM的关系"><a href="#MVVM的关系" class="headerlink" title="MVVM的关系"></a>MVVM的关系</h4><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205171055780.png" alt="MVVM关系"></p><h4 id="MVVM优点"><a href="#MVVM优点" class="headerlink" title="MVVM优点"></a>MVVM优点</h4><blockquote><p>在MVVM架构下，View 和 Model 之间并没有直接的联系，而是通过 ViewModel 进行交互，<br>Model 和 ViewModel 之间的交互是双向的，<br>因此 View 数据的变化会同步到 Model 中，而 Model 数据的变化也会立即反应到View 上。<br>ViewModel 通过双向数据绑定把 View 和 Model 连接了起来，而 View 和 Model 之间的同步工作完全是自动的，无需人为干涉，因此开发者只需关注业务逻辑，不需要手动操作DOM， 不需要关注数据状态的同步问题，复杂的数据状态维护完全由 MVVM 来统一管理。</p></blockquote><h4 id="假如面试问到我说说看MVVM-我可能会这样子回答"><a href="#假如面试问到我说说看MVVM-我可能会这样子回答" class="headerlink" title="假如面试问到我说说看MVVM,我可能会这样子回答"></a>假如面试问到我说说看MVVM,我可能会这样子回答</h4><ul><li>我理解的MVVM就是M是model,也就是我们通过ajax请求获取到的数据或者是自己定义的数据</li><li>V:也就是用户在浏览器所看到的视图</li><li>VM:vue的实例化对象,我们通过vm完成model和view的数据状态同步,从而实现数据变动,视图也变动</li></ul><h3 id="Vue的绑定键盘鼠标操作和在组件使用上的要点"><a href="#Vue的绑定键盘鼠标操作和在组件使用上的要点" class="headerlink" title="Vue的绑定键盘鼠标操作和在组件使用上的要点"></a>Vue的绑定键盘鼠标操作和在组件使用上的要点</h3><ul><li><a target="_blank" rel="noopener" href="https://cn.vuejs.org/v2/guide/events.html#%E4%BA%8B%E4%BB%B6%E4%BF%AE%E9%A5%B0%E7%AC%A6">官网API</a></li></ul><h4 id="Vue的事件操作-v-on-click-”xxx”或-click"><a href="#Vue的事件操作-v-on-click-”xxx”或-click" class="headerlink" title="Vue的事件操作(v-on:click&#x3D;”xxx”或@click)"></a>Vue的事件操作(v-on:click&#x3D;”xxx”或@click)</h4><ul><li>基本使用:<ul><li><code>&lt;div @click=&quot;事件&quot;&gt;&lt;/div&gt;</code></li><li>或者<code>&lt;div @click.xxxx=&quot;事件&quot;&gt;&lt;/div&gt;</code></li><li>或者<code>&lt;div v-on.click=&quot;事件&quot;&gt;&lt;/div&gt;</code></li><li>或者<code>&lt;div v-on.click.xxx=&quot;事件&quot;&gt;&lt;/div&gt;</code></li></ul></li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//除了@click=&quot;鼠标单击事件外&quot;</span></span><br><span class="line"><span class="comment">//还有@click.xxx=&quot;经过修饰符指定的类型的事件&quot;</span></span><br><span class="line">.<span class="property">stop</span>    <span class="comment">//停止事件冒泡(等同于event.stopPropagination())</span></span><br><span class="line">.<span class="property">prevent</span> <span class="comment">//阻止默认行为(比如单击一个按钮莫名其妙提交了表单,等用于event.preventDefault())</span></span><br><span class="line">.<span class="property">capture</span></span><br><span class="line">.<span class="property">self</span> </span><br><span class="line">.<span class="property">once</span> <span class="comment">//只执行一次</span></span><br><span class="line">.<span class="property">passive</span></span><br><span class="line"></span><br><span class="line">&lt;!-- 阻止单击事件继续传播 --&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">a</span> <span class="attr">v-on:click.stop</span>=<span class="string">&quot;doThis&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line">&lt;!-- 提交事件不再重载页面 --&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">form</span> <span class="attr">v-on:submit.prevent</span>=<span class="string">&quot;onSubmit&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line">&lt;!-- 修饰符可以串联 --&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">a</span> <span class="attr">v-on:click.stop.prevent</span>=<span class="string">&quot;doThat&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">a</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line">&lt;!-- 只有修饰符 --&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">form</span> <span class="attr">v-on:submit.prevent</span>&gt;</span><span class="tag">&lt;/<span class="name">form</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line">&lt;!-- 添加事件监听器时使用事件捕获模式 --&gt;</span><br><span class="line">&lt;!-- 即内部元素触发的事件先在此处理，然后才交由内部元素进行处理 --&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">v-on:click.capture</span>=<span class="string">&quot;doThis&quot;</span>&gt;</span>...<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line">&lt;!-- 只当在 event.<span class="property">target</span> 是当前元素自身时触发处理函数 --&gt;</span><br><span class="line">&lt;!-- 即事件不是从内部元素触发的 --&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">v-on:click.self</span>=<span class="string">&quot;doThat&quot;</span>&gt;</span>...<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br></pre></td></tr></table></figure><h4 id="Vue的按键操作的别名-这样子就不用通过判断键代码来获取用户是哪一个操作了"><a href="#Vue的按键操作的别名-这样子就不用通过判断键代码来获取用户是哪一个操作了" class="headerlink" title="Vue的按键操作的别名(这样子就不用通过判断键代码来获取用户是哪一个操作了)"></a>Vue的按键操作的别名(这样子就不用通过判断键代码来获取用户是哪一个操作了)</h4><ul><li>基本使用: <code>&lt;div @keyup.xxxx=&quot;事件&quot;&gt;&lt;/div&gt;</code> 或者<code>&lt;div v-on.keyup.xxx=&quot;事件&quot;&gt;&lt;/div&gt;</code></li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">.<span class="property">enter</span></span><br><span class="line">.<span class="property">tab</span></span><br><span class="line">.<span class="property">delete</span> (捕获“删除”和“退格”键)</span><br><span class="line">.<span class="property">esc</span></span><br><span class="line">.<span class="property">space</span></span><br><span class="line">.<span class="property">up</span></span><br><span class="line">.<span class="property">down</span></span><br><span class="line">.<span class="property">left</span></span><br><span class="line">.<span class="property">right</span></span><br></pre></td></tr></table></figure><h4 id="组件使用操作按钮注意点"><a href="#组件使用操作按钮注意点" class="headerlink" title="组件使用操作按钮注意点"></a>组件使用操作按钮注意点</h4><ul><li><strong>不管是什么,在组件上传递的事件,都是自定义事件!在HTML标签上添加就是原生DOM事件,比如说@click,@mousemove这些系统自带的原生事件在组件上直接使用的话都是自定义事件,组件内部需要对其进行处理才可以使用!</strong> <a target="_blank" rel="noopener" href="https://dreamlove.top/2022/05/06/%E5%89%8D%E7%AB%AF/Vue%E7%BB%84%E4%BB%B6%E9%97%B4%E9%80%9A%E4%BF%A1%E5%86%8D%E6%AC%A1(%E6%B7%B1%E5%85%A5%E8%87%AA%E5%AE%9A%E4%B9%89%E4%BA%8B%E4%BB%B6%E5%92%8C%E5%8E%9F%E7%94%9FDOM%E4%BA%8B%E4%BB%B6)/">具体可以看看这博客</a></li><li>所以如果组件上想使用原生事件,需要添加<code>.native</code></li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">比如有一个自定义组件<span class="title class_">MyButton</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//这里的@click即为自定义事件(因为是绑定在组件上的!)</span></span><br><span class="line"><span class="comment">//如果MyButton组件没有对这个自定义事件进行处理,那么这个事件是没有用的</span></span><br><span class="line">&lt;<span class="title class_">MyButton</span> @click=<span class="string">&quot;事件&quot;</span>&gt;&lt;/<span class="title class_">MyButton</span>&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">//这里的@click即为原生事件(因为使用了.native)</span></span><br><span class="line"><span class="comment">//即使MyButton组件没有对这个事件进行处理,这个事件依旧会触发(因为是原生的,vue帮我们处理好了)</span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">MyButton</span> @<span class="attr">click.native</span>=<span class="string">&quot;事件&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">MyButton</span>&gt;</span></span></span><br></pre></td></tr></table></figure><h3 id="Vue的数据绑定响应式"><a href="#Vue的数据绑定响应式" class="headerlink" title="Vue的数据绑定响应式"></a>Vue的数据绑定响应式</h3><ul><li><a target="_blank" rel="noopener" href="https://cn.vuejs.org/v2/guide/reactivity.html#%E5%A6%82%E4%BD%95%E8%BF%BD%E8%B8%AA%E5%8F%98%E5%8C%96">官网API</a></li></ul><blockquote><p>vue当中,除了<code>data</code>当中的数据会被vue转化为响应式数据以外,其他地方添加的数据均不是响应式,如果需要,必须要使用$set或者set方法官方是这样子说的,但是好像<code>computed</code>其实也是响应式</p></blockquote><h4 id="如何追踪变化"><a href="#如何追踪变化" class="headerlink" title="如何追踪变化"></a>如何追踪变化</h4><p>简单一句就是setter和getter方式,这里就不多说了,感兴趣的可以看看官方,<strong>这里记录下官方的话语</strong></p><ul><li>当你把一个普通的 JavaScript 对象传入 Vue 实例作为 <code>data</code> 选项，Vue 将遍历此对象所有的 property，并使用 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Global_Objects/Object/defineProperty"><code>Object.defineProperty</code></a> 把这些 property 全部转为 <a target="_blank" rel="noopener" href="https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Guide/Working_with_Objects#%E5%AE%9A%E4%B9%89_getters_%E4%B8%8E_setters">getter&#x2F;setter</a>。<code>Object.defineProperty</code> 是 ES5 中一个无法 <code>shim</code> 的特性，这也就是 Vue 不支持 IE8 以及更低版本浏览器的原因。</li><li>这些 getter&#x2F;setter 对用户来说是不可见的，但是在内部它们让 Vue 能够追踪依赖，在 property 被访问和修改时通知变更。这里需要注意的是不同浏览器在控制台打印数据对象时对 getter&#x2F;setter 的格式化并不同，所以建议安装 <a target="_blank" rel="noopener" href="https://github.com/vuejs/vue-devtools">vue-devtools</a> 来获取对检查数据更加友好的用户界面。</li><li>每个组件实例都对应一个 <strong>watcher</strong> 实例，它会在组件渲染的过程中把“接触”过的数据 property 记录为依赖。之后当依赖项的 setter 触发时，会通知 watcher，从而使它关联的组件重新渲染。</li></ul><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205171000744.png" alt="图片"></p><h4 id="特别注意"><a href="#特别注意" class="headerlink" title="特别注意"></a>特别注意</h4><h5 id="对于对象"><a href="#对于对象" class="headerlink" title="对于对象"></a>对于对象</h5><ul><li>data当中<strong>初始化的数据为响应式</strong>(也就是数据变了,视图也会发生变化!)</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> vm = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">  <span class="attr">data</span>:&#123;</span><br><span class="line">    <span class="attr">a</span>:<span class="number">1</span></span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">// `vm.a` 是响应式的</span></span><br><span class="line"></span><br><span class="line">vm.<span class="property">b</span> = <span class="number">2</span></span><br><span class="line"><span class="comment">// `vm.b` 是非响应式的</span></span><br><span class="line">(数据发生变化,依据这个数据绑定的标签之类的不会发生变化)</span><br></pre></td></tr></table></figure><ul><li>非响应式数据变成响应式数据<code>$set</code>或者<code>set</code>(使得数据发生变化,视图也会发生变化)</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//以myObj当中新添加的属性 b ,并设置为响应式数据 为例子</span></span><br><span class="line">	<span class="comment">//myObj.b = 2;//直接添加-非响应式</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">set</span>(myObj,<span class="string">&#x27;b&#x27;</span>,<span class="number">2</span>);<span class="comment">//set添加-响应式</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//或者 this为Vue的实例化对象</span></span><br><span class="line"><span class="variable language_">this</span>.$set(myObj,<span class="string">&#x27;b&#x27;</span>,<span class="number">2</span>);<span class="comment">//$set添加-响应式</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li>为<strong>多个属性设置为响应式数据</strong><code>Object.assign</code>方法<ul><li>通过整体替换的形式</li><li>在线演示 <a target="_blank" rel="noopener" href="https://codepen.io/superbiubiuman/pen/YzaNYPW">@地址</a></li></ul></li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> vm = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line"><span class="title function_">data</span>(<span class="params"></span>)&#123;</span><br><span class="line">	<span class="keyword">return</span> &#123;</span><br><span class="line">		<span class="attr">someObject</span>:&#123;</span><br><span class="line">			<span class="attr">name</span>:<span class="string">&quot;李白&quot;</span>,</span><br><span class="line">			<span class="attr">sex</span>:<span class="string">&quot;男&quot;</span></span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">someObject</span> = <span class="title class_">Object</span>.<span class="title function_">assign</span>(&#123;&#125;, <span class="variable language_">this</span>.<span class="property">someObject</span>, &#123;</span><br><span class="line">    <span class="attr">a</span>: <span class="number">1</span>,</span><br><span class="line">    <span class="attr">b</span>: <span class="number">2</span></span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">//这样子myObj就成为了一个响应式对象</span></span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>.<span class="property">someObject</span>);</span><br><span class="line"><span class="comment">//&#123; name: &#x27;李白&#x27;, sex: &#x27;男&#x27;, a: 1, b: 2 &#125;</span></span><br></pre></td></tr></table></figure><blockquote><p>注意,不可以<code>this.someObject = Object.assign(this.someObject, &#123; a: 1,b: 2 &#125;);</code>因为这依旧是对原来的数据进行添加删除,而不是进行了替换!</p></blockquote><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//证明</span></span><br><span class="line"><span class="comment">//有效(数据变化,视图也变换!)</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">someObject</span> = <span class="title class_">Object</span>.<span class="title function_">assign</span>(&#123;&#125;, <span class="variable language_">this</span>.<span class="property">someObject</span>, &#123; <span class="attr">a</span>: <span class="number">1</span>,<span class="attr">b</span>: <span class="number">2</span> &#125;);</span><br><span class="line"></span><br><span class="line"><span class="comment">//无效(数据变化了,视图没有变化!)</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">someObject</span> = <span class="title class_">Object</span>.<span class="title function_">assign</span>(<span class="variable language_">this</span>.<span class="property">someObject</span>, &#123; <span class="attr">a</span>: <span class="number">1</span>,<span class="attr">b</span>: <span class="number">2</span> &#125;);</span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;addProperty&quot;</span>&gt;</span>单击我<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">span</span>&gt;</span>&#123;&#123; someObject.a &#125;&#125;<span class="tag">&lt;/<span class="name">span</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="attr">name</span>: <span class="string">&quot;Home&quot;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="title function_">data</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="keyword">return</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="attr">someObject</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="attr">name</span>: <span class="string">&quot;李白&quot;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="attr">sex</span>: <span class="string">&quot;男&quot;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="attr">methods</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="title function_">addProperty</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="comment">// 单击后视图没有出现 新添加的数字1,既然是响应式数据,数据变化了,视图也会发生变化,这里却没有</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="comment">// 所以代码1 的写法是错误的!</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="comment">// 代码1 : this.someObject = Object.assign(this.someObject, &#123; a: 1,b: 2 &#125;);</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      </span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="comment">//单击后视图出现了 新添加的数字1</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="comment">//数据变化,视图变化,响应式数据</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="variable language_">this</span>.<span class="property">someObject</span> = <span class="title class_">Object</span>.<span class="title function_">assign</span>(&#123;&#125;, <span class="variable language_">this</span>.<span class="property">someObject</span>, &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="attr">a</span>: <span class="number">1</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="attr">b</span>: <span class="number">2</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      &#125;);<span class="comment">//出现了1</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">&#125;;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h5 id="对于数组"><a href="#对于数组" class="headerlink" title="对于数组"></a>对于数组</h5><ul><li><a target="_blank" rel="noopener" href="https://cn.vuejs.org/v2/guide/reactivity.html#%E5%AF%B9%E4%BA%8E%E6%95%B0%E7%BB%84">官网API</a></li></ul><blockquote><p>由于对象当中有setter和getters,数组没有,所以数组的所有操作并不像对象那样容易引起数据改变,视图改变的状况</p></blockquote><p>例子</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> vm = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">  <span class="attr">data</span>: &#123;</span><br><span class="line">    <span class="attr">items</span>: [<span class="string">&#x27;a&#x27;</span>, <span class="string">&#x27;b&#x27;</span>, <span class="string">&#x27;c&#x27;</span>]</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br><span class="line">vm.<span class="property">items</span>[<span class="number">1</span>] = <span class="string">&#x27;x&#x27;</span> <span class="comment">// 不是响应性的</span></span><br><span class="line">vm.<span class="property">items</span>.<span class="property">length</span> = <span class="number">2</span> <span class="comment">// 不是响应性的</span></span><br></pre></td></tr></table></figure><p><strong>解决</strong></p><ol><li>使用<strong>Vue.set或者$set</strong></li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Vue.set的实例，$set和set是一样的使用</span></span><br><span class="line"><span class="comment">// 参数1为要设置的数组items</span></span><br><span class="line"><span class="comment">// 参数2为设置的索引</span></span><br><span class="line"><span class="comment">// 参数3为新添加的值</span></span><br><span class="line"><span class="comment">// 这样子新添加的newValue即为响应式数据了</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">set</span>(vm.<span class="property">items</span>, indexOfItem, newValue)</span><br></pre></td></tr></table></figure><ol start="2"><li>使用<strong>Vue当中重写的几个数组的方法</strong>,这样子操作就不会影响数据响应式效果</li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Array.prototype.splice</span></span><br><span class="line">vm.<span class="property">items</span>.<span class="title function_">splice</span>(indexOfItem, <span class="number">1</span>, newValue)</span><br></pre></td></tr></table></figure><ol start="3"><li>Vue 将被侦听的数组的变更方法进行了包裹，所以它们也将会触发视图更新。这些被包裹过的方法包括：**(大白话就是Vue重写了这些方法,通过这些方法修改的数组也会触发视图的更新)**</li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">push</span>()</span><br><span class="line"><span class="title function_">pop</span>()</span><br><span class="line"><span class="title function_">shift</span>()</span><br><span class="line"><span class="title function_">unshift</span>()</span><br><span class="line"><span class="title function_">splice</span>()</span><br><span class="line"><span class="title function_">sort</span>()</span><br><span class="line"><span class="title function_">reverse</span>()</span><br></pre></td></tr></table></figure><ol start="4"><li>也可以<strong>替换数组</strong>来达到修改后依旧是响应式效果</li></ol><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//example1.items 本身为一个响应式数组</span></span><br><span class="line"><span class="comment">//这里进行了替换操作</span></span><br><span class="line">example1.<span class="property">items</span> = example1.<span class="property">items</span>.<span class="title function_">filter</span>(<span class="keyword">function</span> (<span class="params">item</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> item.<span class="property">message</span>.<span class="title function_">match</span>(<span class="regexp">/Foo/</span>)</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">//filter()、concat() 和 slice()等返回新数组的操作都可以~</span></span><br></pre></td></tr></table></figure><blockquote><p>官网对于替换数组的解释：你可能认为这将导致 Vue 丢弃现有 DOM 并重新渲染整个列表。幸运的是，事实并非如此。Vue 为了使得 DOM 元素得到最大范围的重用而实现了一些智能的启发式方法，所以用一个含有相同元素的数组去替换原来的数组是非常高效的操作。</p></blockquote><h3 id="Vue组件通信的六种方式"><a href="#Vue组件通信的六种方式" class="headerlink" title="Vue组件通信的六种方式"></a>Vue组件通信的六种方式</h3><h4 id="Props通信"><a href="#Props通信" class="headerlink" title="Props通信"></a>Props通信</h4><ul><li>主要用于父子间的通信,不仅仅是普通的子,也可以是孙子之类的之间的通信),</li><li>为了方便,这里就不区分什么孙子,曾孙子了,统一以父亲和儿子来说</li></ul><h5 id="props通信主要有"><a href="#props通信主要有" class="headerlink" title="props通信主要有"></a>props通信主要有</h5><ul><li>传递非函数数据——-适用于父亲向儿子传递数据<ul><li>如果是<strong>普通数据</strong>-则是父亲想给儿子东东</li><li>如果是<strong>传递的是函数</strong>,则是儿子想传递某些东东给父亲</li></ul></li></ul><p>例子1: <strong>父亲向儿子传递普通数据</strong></p><p>父亲(向儿子传递’title’,告诉儿子显示这个’title’)</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//父亲</span></span><br><span class="line">&lt;template&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">h1</span>&gt;</span>props通信<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="comment">&lt;!-- 传递title属性给儿子,告诉儿子title信息 --&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">Son</span> <span class="attr">title</span>=<span class="string">&quot;标题设置为动感超人&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">Son</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">import</span> <span class="title class_">Son</span> <span class="keyword">from</span> <span class="string">&quot;./son.vue&quot;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="attr">name</span>: <span class="string">&#x27;Father&#x27;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="attr">components</span>:&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="title class_">Son</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">&#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure><p>儿子(负责显示父亲传递过来的’title’)</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//儿子</span></span><br><span class="line">&lt;template&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">h1</span>&gt;</span>&#123;&#123;title&#125;&#125;<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="attr">name</span>: <span class="string">&#x27;Son&#x27;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="comment">//儿子接收父亲传递过来的props</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="comment">// 父亲刚刚传递了一个 title,这里就添加一个title</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="attr">props</span>:[<span class="string">&quot;title&quot;</span>]</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">&#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure><p>效果图</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205171502361.png" alt="props-子向父传递非函数数据"></p><p><strong>例子2 : 传递函数数据——儿子想告诉父亲什么东西(也就是想传递数据给父亲)</strong></p><p>父亲(传递一个函数 ‘getInfo’ 给儿子)</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//父亲</span></span><br><span class="line">&lt;template&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>props通信<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="comment">&lt;!-- 传递getInfo属性给儿子,告诉儿子老爸想要你的信息 --&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">Son</span> <span class="attr">:getInfo</span>=<span class="string">&quot;returnInfo&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">Son</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">import</span> <span class="title class_">Son</span> <span class="keyword">from</span> <span class="string">&quot;./son.vue&quot;</span>;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="attr">name</span>: <span class="string">&quot;Father&quot;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="attr">components</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="title class_">Son</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="attr">methods</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="comment">//获取儿子的信息</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="title function_">returnInfo</span>(<span class="params">info</span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;儿子传递给我的信息是&quot;</span>, info);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">&#125;;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>儿子(接收父亲传递过来的函数’getInfo’,并调用这个函数)</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//儿子</span></span><br><span class="line">&lt;template&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;tellFather&quot;</span>&gt;</span>单击这个按钮告诉爸爸信息<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="comment">&lt;!-- 或者简单点 --&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;getInfo(&#x27;儿子很好,爸爸放心1&#x27;)&quot;</span>&gt;</span>简单调用写法<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="attr">name</span>: <span class="string">&#x27;Son&#x27;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="comment">//儿子接收父亲传递过来的props</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="comment">// 父亲刚刚传递了一个 getInfo,这里就添加一个getInfo</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="attr">props</span>:[<span class="string">&quot;getInfo&quot;</span>],</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="attr">methods</span>:&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="comment">//告诉爸爸</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="title function_">tellFather</span>(<span class="params"></span>)&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="variable language_">this</span>.<span class="title function_">getInfo</span>(<span class="string">&quot;儿子很好,爸爸放心2&quot;</span>);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">&#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure><p>效果图(单击’’这个按钮告诉爸爸信息’’,儿子就会告诉父亲’儿子很好,爸爸放心’)</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205171508329.png" alt="props-父亲向儿子传递函数数据"></p><h5 id="props的类型"><a href="#props的类型" class="headerlink" title="props的类型"></a>props的类型</h5><ul><li><p>数组</p><ul><li>props:[“title” , “name” , “say”];</li><li>儿子接收父亲传递过来的数据,都是写在数组里面的,并且是以字符串形式组成的数组(如上面二个案例就是用数组接收传递的)</li></ul></li><li><p>对象(普通key,value)</p><ul><li><p>可<strong>用于指明props的值类型</strong></p></li><li><p>例子如下</p></li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">props</span>: &#123;</span><br><span class="line">  <span class="comment">//指明title只能是字符串类型</span></span><br><span class="line">  <span class="attr">title</span>: <span class="title class_">String</span>,</span><br><span class="line">  <span class="comment">//指明likes只能是数值类型 </span></span><br><span class="line">  <span class="attr">likes</span>: <span class="title class_">Number</span>,</span><br><span class="line">  <span class="comment">//指明isPublished只能是布尔值类型</span></span><br><span class="line">  <span class="attr">isPublished</span>: <span class="title class_">Boolean</span>,</span><br><span class="line">  <span class="comment">//指明commentIds只能是数组类型</span></span><br><span class="line">  <span class="attr">commentIds</span>: <span class="title class_">Array</span>,</span><br><span class="line">  <span class="comment">//指明author只能是对象类型</span></span><br><span class="line">  <span class="attr">author</span>: <span class="title class_">Object</span>,</span><br><span class="line">  <span class="comment">//指明callback只能是函数类型</span></span><br><span class="line">  <span class="attr">callback</span>: <span class="title class_">Function</span>,</span><br><span class="line">  <span class="comment">//指明contactsPromise只能是Promise类型</span></span><br><span class="line">  <span class="attr">contactsPromise</span>: <span class="title class_">Promise</span> <span class="comment">// or any other constructor</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>对象里面又有配置对象</p><ul><li><p>配置对象参数</p><ul><li><p><strong>type:</strong>(指明props的值的类型)</p></li><li><p><strong>required</strong>:(布尔值,代表是否必填,和default冲突)</p></li><li><p><strong>default</strong>:(默认值参数)</p></li><li><p><strong>validator</strong>:(验证参数)</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205171519418.png" alt="验证不通过报错"></p></li></ul></li></ul></li><li><p>配置对象代码示例</p></li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Vue</span>.<span class="title function_">component</span>(<span class="string">&#x27;my-component&#x27;</span>, &#123;</span><br><span class="line">  <span class="attr">props</span>: &#123;</span><br><span class="line">    <span class="comment">// 基础的类型检查 (`null` 和 `undefined` 会通过任何类型验证)</span></span><br><span class="line">    <span class="attr">propA</span>: <span class="title class_">Number</span>,</span><br><span class="line">    <span class="comment">// 多个可能的类型</span></span><br><span class="line">    <span class="attr">propB</span>: [<span class="title class_">String</span>, <span class="title class_">Number</span>],</span><br><span class="line">    <span class="comment">// 必填的字符串</span></span><br><span class="line">    <span class="attr">propC</span>: &#123;</span><br><span class="line">      <span class="attr">type</span>: <span class="title class_">String</span>,</span><br><span class="line">      <span class="attr">required</span>: <span class="literal">true</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// 带有默认值的数字</span></span><br><span class="line">    <span class="attr">propD</span>: &#123;</span><br><span class="line">      <span class="attr">type</span>: <span class="title class_">Number</span>,</span><br><span class="line">      <span class="attr">default</span>: <span class="number">100</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// 带有默认值的对象</span></span><br><span class="line">    <span class="attr">propE</span>: &#123;</span><br><span class="line">      <span class="attr">type</span>: <span class="title class_">Object</span>,</span><br><span class="line">      <span class="comment">// 对象或数组默认值必须从一个工厂函数获取</span></span><br><span class="line">      <span class="attr">default</span>: <span class="keyword">function</span> (<span class="params"></span>) &#123;</span><br><span class="line">        <span class="keyword">return</span> &#123; <span class="attr">message</span>: <span class="string">&#x27;hello&#x27;</span> &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">// 自定义验证函数</span></span><br><span class="line">    <span class="attr">propF</span>: &#123;</span><br><span class="line">      <span class="attr">validator</span>: <span class="keyword">function</span> (<span class="params">value</span>) &#123;</span><br><span class="line">        <span class="comment">// 这个值必须匹配下列字符串中的一个</span></span><br><span class="line">        <span class="keyword">return</span> [<span class="string">&#x27;success&#x27;</span>, <span class="string">&#x27;warning&#x27;</span>, <span class="string">&#x27;danger&#x27;</span>].<span class="title function_">indexOf</span>(value) !== -<span class="number">1</span></span><br><span class="line">      &#125;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h5 id="props通信变量注意点"><a href="#props通信变量注意点" class="headerlink" title="props通信变量注意点"></a>props通信变量注意点</h5><ul><li>prop的大小写<ul><li>调用组件时Prop使用驼峰式，props选项声明中需要全部小写</li><li>props中命名采用驼峰式，在调用组件的标签中使用短横线分割命名方式命名属性</li></ul></li><li>官网说明<a target="_blank" rel="noopener" href="https://cn.vuejs.org/v2/guide/components-props.html">@地址</a></li></ul><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202207081427880.png"></p><p>也就是说,会把传入的props转化为小写,比如如下例子-采用了驼峰命名方式</p><ul><li>这里使用了驼峰命名<code>clickAmount</code>传递了属性</li><li>那么vue会自动将其全部转化为小写(其实不管你有没有驼峰命名,vue都会将其转化为小写~),然后接受的时候<strong>如果使用相同的名字去接收</strong>,<strong>会接收失败</strong>!!!!!!!!!!!!!!!</li><li>所以不能驼峰,如果确实想,就需要使用<code>kebab-case (短横线分隔命名) 命名</code>去传递参数了,然后接收的时候就需要使用驼峰接收了</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;utf-8&quot;</span> /&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.bootcdn.net/ajax/libs/vue/2.6.9/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;box&quot;</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">my-component</span> </span></span><br><span class="line"><span class="tag">				<span class="attr">message</span>=<span class="string">&#x27;理想是人生的太阳&#x27;</span> </span></span><br><span class="line"><span class="tag">				<span class="attr">v-bind:msg</span>=<span class="string">&quot;msg&quot;</span> </span></span><br><span class="line"><span class="tag">				<span class="attr">myTitle</span>=<span class="string">&quot;诗与远方&quot;</span></span></span><br><span class="line"><span class="tag">     //  <span class="attr">这里使用了驼峰命名</span></span></span><br><span class="line"><span class="tag">                <span class="attr">clickAmount</span>=<span class="string">&quot;1000&quot;</span> </span></span><br><span class="line"><span class="tag">				<span class="attr">my-name</span>=<span class="string">&quot;自定义属性&quot;</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;/<span class="name">my-component</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-handlebars"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">			Vue.component(&#x27;my-component&#x27;,&#123;</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">                //接收的时候就需要全部改为小写,因为</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">				props:[&#x27;message&#x27;,&#x27;msg&#x27;,&#x27;mytitle&#x27;,&#x27;myName&#x27;,&#x27;clickamount&#x27;],</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">				template:`<span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">							<span class="tag">&lt;<span class="name">p</span>&gt;</span></span><span class="template-variable">&#123;&#123;<span class="name">msg</span>&#125;&#125;</span><span class="language-xml"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">							<span class="tag">&lt;<span class="name">p</span>&gt;</span></span><span class="template-variable">&#123;&#123;<span class="name">message</span>&#125;&#125;</span><span class="language-xml"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">							<span class="tag">&lt;<span class="name">p</span>&gt;</span></span><span class="template-variable">&#123;&#123;<span class="name">mytitle</span>&#125;&#125;</span><span class="language-xml"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">							<span class="tag">&lt;<span class="name">p</span>&gt;</span></span><span class="template-variable">&#123;&#123;<span class="name">myName</span>&#125;&#125;</span><span class="language-xml"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">							<span class="tag">&lt;<span class="name">p</span>&gt;</span></span><span class="template-variable">&#123;&#123;<span class="name">clickamount</span>&#125;&#125;</span><span class="language-xml"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">						<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">				`,</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">			&#125;)</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">			var vm = new Vue(&#123;</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">				el:&#x27;#box&#x27;,</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">				data:&#123;</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">					msg:&#x27;父组件数据&#x27;</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">				&#125;</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">			&#125;);</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">		</span></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li>使用<code>kebab-case (短横线分隔命名) 命名传递</code>,并使用驼峰命名接收</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;!DOCTYPE <span class="keyword">html</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">html</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;utf-8&quot;</span> /&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">title</span>&gt;</span><span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.bootcdn.net/ajax/libs/vue/2.6.9/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;box&quot;</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;<span class="name">my-component</span> </span></span><br><span class="line"><span class="tag">				<span class="attr">message</span>=<span class="string">&#x27;理想是人生的太阳&#x27;</span> </span></span><br><span class="line"><span class="tag">				<span class="attr">v-bind:msg</span>=<span class="string">&quot;msg&quot;</span> </span></span><br><span class="line"><span class="tag">				<span class="attr">myTitle</span>=<span class="string">&quot;诗与远方&quot;</span></span></span><br><span class="line"><span class="tag">        // <span class="attr">kebab-case</span> (<span class="attr">短横线分隔命名</span>) <span class="attr">命名传递</span></span></span><br><span class="line"><span class="tag">                <span class="attr">click-amount</span>=<span class="string">&quot;1000&quot;</span></span></span><br><span class="line"><span class="tag">				<span class="attr">my-name</span>=<span class="string">&quot;自定义属性&quot;</span>&gt;</span></span><br><span class="line">			<span class="tag">&lt;/<span class="name">my-component</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">		<span class="tag">&lt;<span class="name">script</span> <span class="attr">type</span>=<span class="string">&quot;text/javascript&quot;</span>&gt;</span><span class="language-handlebars"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">			Vue.component(&#x27;my-component&#x27;,&#123;</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">                //  驼峰命名接收   clickAmount</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">				props:[&#x27;message&#x27;,&#x27;msg&#x27;,&#x27;mytitle&#x27;,&#x27;myName&#x27;,&#x27;clickAmount&#x27;],</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">				template:`<span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">							<span class="tag">&lt;<span class="name">p</span>&gt;</span></span><span class="template-variable">&#123;&#123;<span class="name">msg</span>&#125;&#125;</span><span class="language-xml"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">							<span class="tag">&lt;<span class="name">p</span>&gt;</span></span><span class="template-variable">&#123;&#123;<span class="name">message</span>&#125;&#125;</span><span class="language-xml"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">							<span class="tag">&lt;<span class="name">p</span>&gt;</span></span><span class="template-variable">&#123;&#123;<span class="name">mytitle</span>&#125;&#125;</span><span class="language-xml"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">							<span class="tag">&lt;<span class="name">p</span>&gt;</span></span><span class="template-variable">&#123;&#123;<span class="name">myName</span>&#125;&#125;</span><span class="language-xml"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">							<span class="tag">&lt;<span class="name">p</span>&gt;</span></span><span class="template-variable">&#123;&#123;<span class="name">clickAmount</span>&#125;&#125;</span><span class="language-xml"><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">						<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">				`,</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">			&#125;)</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">			var vm = new Vue(&#123;</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">				el:&#x27;#box&#x27;,</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">				data:&#123;</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">					msg:&#x27;父组件数据&#x27;</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">				&#125;</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">			&#125;);</span></span></span><br><span class="line"><span class="language-xml"><span class="language-handlebars">		</span></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line">	<span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="自定义事件通信"><a href="#自定义事件通信" class="headerlink" title="自定义事件通信"></a>自定义事件通信</h4><ul><li><a target="_blank" rel="noopener" href="https://cn.vuejs.org/v2/guide/components-custom-events.html">官网API</a></li></ul><h5 id="知道自定义事件和系统事件-原生事件-的区别"><a href="#知道自定义事件和系统事件-原生事件-的区别" class="headerlink" title="知道自定义事件和系统事件(原生事件)的区别"></a>知道自定义事件和系统事件(原生事件)的区别</h5><ul><li>自定义事件(<strong>事件类型自己定义</strong>,回调函数自己定义)</li><li>系统事件(原生事件) (<strong>事件类型系统定义</strong>,回调函数自己定义)</li></ul><h5 id="绑定和触发自定义事件"><a href="#绑定和触发自定义事件" class="headerlink" title="绑定和触发自定义事件"></a>绑定和触发自定义事件</h5><ul><li><p>关键用法是<code>$on</code> 和<code>$emit</code></p><ul><li><code>$on(参数1,参数2)</code><ul><li>参数1为绑定的事件名称(用于后面$emit触发)</li><li>参数2为绑定的回调函数</li></ul></li><li><code>$on</code>经常绑定在获取数据的一方(订阅者)</li></ul><hr><ul><li><code>$emit(参数1,参数2)</code><ul><li>参数1为要触发的事件名称(和<code>$on</code>的第一个参数要对得上)</li><li>参数2为给事件名称对应的回调函数传递的参数值</li></ul></li><li><code>$emit</code>经常绑定在发送数据的一方(发布者)</li></ul></li><li><p>注意,如果<code>$emit</code>需要<strong>传递多个参数</strong>,要使用对象,比如说<code>$emit(xxxx,&#123;参数1:value,参数2,value2&#125;)</code></p></li></ul><h6 id="自定义事件复杂写法"><a href="#自定义事件复杂写法" class="headerlink" title="自定义事件复杂写法"></a>自定义事件复杂写法</h6><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//父亲</span></span><br><span class="line">&lt;<span class="title class_">Son</span> ref=<span class="string">&quot;erzi&quot;</span>&gt;&lt;/<span class="title class_">Son</span>&gt;</span><br><span class="line"><span class="keyword">var</span> vm = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">	<span class="title function_">mounted</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="comment">//注意,第一个complex为自己定义的,用于后面$emit触发</span></span><br><span class="line">        <span class="comment">//第二个complex为绑定的回调函数!</span></span><br><span class="line">		<span class="variable language_">this</span>.<span class="property">$refs</span>.<span class="property">erzi</span>.$on(<span class="string">&quot;complex&quot;</span>,complex);</span><br><span class="line">	&#125;,</span><br><span class="line">	<span class="attr">methods</span>:&#123;</span><br><span class="line">		<span class="title function_">complex</span>(<span class="params">content</span>)&#123;</span><br><span class="line">			<span class="variable language_">console</span>.<span class="title function_">log</span>(content)</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">//儿子</span></span><br><span class="line">&lt;span&gt;我是儿子&lt;/span&gt;</span><br><span class="line"><span class="comment">//单击按钮,调用$emit触发自定义事件,并传递数据&#x27;爸爸,我很好&#x27;给父亲</span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;this.$emit(&#x27;complex&#x27;,&#x27;爸爸,我很好&#x27;)&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br></pre></td></tr></table></figure><h6 id="自定义事件的简单写法"><a href="#自定义事件的简单写法" class="headerlink" title="自定义事件的简单写法"></a>自定义事件的简单写法</h6><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//父亲</span></span><br><span class="line"><span class="comment">//第一个complex为自己定义的,用于后面$emit触发</span></span><br><span class="line"><span class="comment">//第二个complex为绑定的回调函数!</span></span><br><span class="line">&lt;<span class="title class_">Son</span> @complex=<span class="string">&quot;complex&quot;</span>&gt;&lt;/<span class="title class_">Son</span>&gt;</span><br><span class="line"><span class="keyword">var</span> vm = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">	<span class="attr">methods</span>:&#123;</span><br><span class="line">		<span class="title function_">complex</span>(<span class="params">content</span>)&#123;</span><br><span class="line">			<span class="variable language_">console</span>.<span class="title function_">log</span>(content)</span><br><span class="line">		&#125;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">//儿子</span></span><br><span class="line">&lt;span&gt;我是儿子&lt;/span&gt;</span><br><span class="line"><span class="comment">//单击按钮,调用$emit触发自定义事件,并传递数据&#x27;爸爸,我很好&#x27;给父亲</span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;this.$emit(&#x27;complex&#x27;,&#x27;爸爸,我很好&#x27;)&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br></pre></td></tr></table></figure><h6 id="顺带一提"><a href="#顺带一提" class="headerlink" title="顺带一提"></a>顺带一提</h6><ul><li>组件配置中<ul><li>data函数,methods的函数,watch的函数,computed中的函数,他们的<strong>this均是[VueComponent实例对象]</strong></li></ul></li><li>new Vue(options)配置中<ul><li>data函数,methods函数,watch的函数,computed的函数,他们的<strong>this均是[Vue实例对象]</strong></li></ul></li></ul><h4 id="全局事件总线通信"><a href="#全局事件总线通信" class="headerlink" title="全局事件总线通信"></a>全局事件总线通信</h4><p>选择一个对象作为全局事件总线通信任务的东东需要具备下面几个条件</p><ol><li>要是一个对象</li><li>这个对象可以被所有组件所访问</li><li>这个对象可以调用<code>$emit</code>和<code>$on</code>方法</li></ol><p>所以<strong>选取vm</strong>作为全局事件总线通信任务人~</p><p>至于为什么是vm,可以看看Vue和VueComponent的关系</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205171611346.png" alt="Vue和VueComponent的关系"></p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205171613995.png" alt="Vue和VueComponent的关系"></p><h5 id="全局事件总线使用"><a href="#全局事件总线使用" class="headerlink" title="全局事件总线使用"></a>全局事件总线使用</h5><ul><li>全局事件总线选取规则<ul><li>1.所有的组件均可以访问到</li><li>2.被选取当做总线的具有<code>$on</code>,<code>$emit</code>方法</li><li>3.需要是一个对象</li></ul></li><li>所以选择vm做为全局事件总线</li></ul><ol><li><p>在主入口文件的main.js当中添加<code>beforeCreate</code>对象,并在里面添加代码(<strong>注意绑定位置!</strong>)</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//正确的示例</span></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">	<span class="title function_">beforeCreate</span>(<span class="params"></span>)&#123;</span><br><span class="line">		<span class="title class_">Vue</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">$bus</span> = <span class="variable language_">this</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">//错误的示例</span></span><br><span class="line"><span class="comment">//注意</span></span><br><span class="line">	<span class="comment">//这个是不可以的!!!</span></span><br><span class="line"><span class="keyword">var</span> vm = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">    ...</span><br><span class="line">&#125;)</span><br><span class="line"><span class="title class_">Vue</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">$bus</span> = vm;</span><br><span class="line">因为<span class="keyword">new</span> <span class="title class_">Vue</span>的那一刻,其他组件也会创建!创建好后才会执行这一行代码</span><br></pre></td></tr></table></figure></li><li><p>在A组件(负责接受B组件或其他组件的数据)配置对象mounted当中<strong>添加$on</strong>,回调函数留在A组件当中(这里<strong>以Index.vue组件为例</strong>)</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//Index组件</span></span><br><span class="line">&lt;template&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">One</span>&gt;</span><span class="tag">&lt;/<span class="name">One</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">Two</span>&gt;</span><span class="tag">&lt;/<span class="name">Two</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">import</span> <span class="title class_">Two</span> <span class="keyword">from</span> <span class="string">&quot;@/views/allBus/two.vue&quot;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">import</span> <span class="title class_">One</span> <span class="keyword">from</span> <span class="string">&quot;@/views/allBus/one.vue&quot;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="attr">name</span>: <span class="string">&quot;Index&quot;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="attr">components</span>:&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="title class_">Two</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="title class_">One</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="title function_">mounted</span>(<span class="params"></span>)&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="comment">//绑定tellText事件,回调函数为tellText</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="variable language_">this</span>.<span class="property">$bus</span>.$on(<span class="string">&quot;tellText&quot;</span>,<span class="variable language_">this</span>.<span class="property">tellText</span>);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="attr">methods</span>:&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="title function_">tellText</span>(<span class="params">content</span>)&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;有人说:&#x27;</span>,content);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">&#125;;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure></li><li><p>在B组件或其他组件(负责发送A组件数据)<strong>当中添加$emit</strong>(以One.vue 和 Two.vue组件为例)</p><p>&#x2F;&#x2F;One.vue组件</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&quot;border:1px solid red&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">h1</span>&gt;</span>我是One<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;saySome&quot;</span>&gt;</span>我来说句话<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="attr">name</span>: <span class="string">&#x27;One&#x27;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="attr">methods</span>:&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="title function_">saySome</span>(<span class="params"></span>)&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="comment">//触发全局事件总线上的tellText事件,并向回调函数传递&#x27;我是One,我说话完毕&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="variable language_">this</span>.<span class="property">$bus</span>.$emit(<span class="string">&quot;tellText&quot;</span>,<span class="string">&quot;我是One,我说话完毕&quot;</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">&#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">style</span> <span class="attr">lang</span>=<span class="string">&quot;less&quot;</span> <span class="attr">scoped</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>&#x2F;&#x2F;Two.vue组件</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&quot;border:1px solid blue&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">h1</span>&gt;</span>我是Two<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;saySome&quot;</span>&gt;</span>我来说句话<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="attr">name</span>: <span class="string">&#x27;Two&#x27;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="attr">methods</span>:&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="title function_">saySome</span>(<span class="params"></span>)&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="comment">//触发全局事件总线上的tellText事件,并向回调函数传递&#x27;我是One,我说话完毕&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="variable language_">this</span>.<span class="property">$bus</span>.$emit(<span class="string">&quot;tellText&quot;</span>,<span class="string">&quot;我是Two,我说话完毕&quot;</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">&#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">style</span> <span class="attr">lang</span>=<span class="string">&quot;less&quot;</span> <span class="attr">scoped</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure></li></ol><h5 id="Vue-prototype-bus-vm-为什么不能用-为什么一定要用beforeCreate钩子实现-可能有误"><a href="#Vue-prototype-bus-vm-为什么不能用-为什么一定要用beforeCreate钩子实现-可能有误" class="headerlink" title="Vue.prototype.$bus &#x3D; vm;为什么不能用,为什么一定要用beforeCreate钩子实现?(可能有误~)"></a>Vue.prototype.$bus &#x3D; vm;为什么不能用,为什么一定要用beforeCreate钩子实现?(可能有误~)</h5><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//正确的示例</span></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">	<span class="title function_">beforeCreate</span>(<span class="params"></span>)&#123;</span><br><span class="line">		<span class="title class_">Vue</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">$bus</span> = <span class="variable language_">this</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">//错误的示例</span></span><br><span class="line"><span class="comment">//注意</span></span><br><span class="line">	<span class="comment">//这个是不可以的!!!</span></span><br><span class="line"><span class="keyword">var</span> vm = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">    ...</span><br><span class="line">&#125;)</span><br><span class="line"><span class="title class_">Vue</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">$bus</span> = vm;<span class="comment">//下面就来解释为什么这样子不可以</span></span><br></pre></td></tr></table></figure><h6 id="首先了解下Vue与VueComponent的关系"><a href="#首先了解下Vue与VueComponent的关系" class="headerlink" title="首先了解下Vue与VueComponent的关系"></a>首先了解下Vue与VueComponent的关系</h6><ul><li><a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_40837310/article/details/122914597">这位博主更加详细的介绍了下Vue组件化之VueComponent介绍</a></li><li>组件都是通过一个叫<code>VueComponent的构造函数</code>创建的,<strong>并且这个VueComponent不是我们写的,而是Vue.extend函数生成的</strong>,并且每次生成的都是不一样的VueComponent的构造函数。</li><li>每当我们使用组件标签时（比如说有一个<strong>School的自定义组件</strong>）使用VueComponent构造函数创建一个VueComponent对象，帮我们执行 new VueComponent(options)</li><li><strong>this的指向</strong>：<ul><li><strong>在组件配置中</strong>：data函数，methods中配置的函数，watch中配置的函数，computed中配置的函数的this指向的都是VueComponent组件对象。</li><li><strong>在vue实例配置中</strong>：data函数，methods中配置的函数，watch中配置的函数，computed中配置的函数的this指向的都是vue对象。</li></ul></li></ul><h6 id="原因解释"><a href="#原因解释" class="headerlink" title="原因解释"></a>原因解释</h6><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//正确的示例</span></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">	<span class="title function_">beforeCreate</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="comment">//在这里挂载到了Vue的原型上,后期通过Vue.extend函数生成的均可以获取到</span></span><br><span class="line">		<span class="title class_">Vue</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">$bus</span> = <span class="variable language_">this</span>;</span><br><span class="line">	&#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">//错误的示例</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> vm = <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">    ...</span><br><span class="line">&#125;)</span><br><span class="line"><span class="title class_">Vue</span>.<span class="property"><span class="keyword">prototype</span></span>.<span class="property">$bus</span> = vm;<span class="comment">//执行到这里组件已经创建完成,没有用了</span></span><br></pre></td></tr></table></figure><p>正确绑定总线流程图执行过程</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205171751272.png" alt="正确绑定总线流程图执行过程"></p><p>错误绑定总线流程图执行过程</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205171752355.png" alt="错误绑定总线流程图执行过程"></p><h6 id="至于为什么控制台console-log-可以输出查看到"><a href="#至于为什么控制台console-log-可以输出查看到" class="headerlink" title="至于为什么控制台console.log(可以输出查看到)"></a>至于为什么控制台console.log(可以输出查看到)</h6><p>因为控制台展开会再次去读取最新的代码,所以你可以控制台看到~</p><h4 id="pubsub-js通信"><a href="#pubsub-js通信" class="headerlink" title="pubsub-js通信"></a>pubsub-js通信</h4><h5 id="前置准备"><a href="#前置准备" class="headerlink" title="前置准备"></a>前置准备</h5><ul><li><p>首先要安装</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install pubsub-js --save</span><br></pre></td></tr></table></figure></li><li><p>然后用到的地方都导入</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">PubSub</span> <span class="keyword">from</span> <span class="string">&quot;pubsub-js&quot;</span></span><br></pre></td></tr></table></figure></li><li><p>当然,你也可以全局使用捆绑在原型上</p><ul><li>比如<code>import PubSub from &#39;pubsub-js&#39;; Vue.prototype.PubSub = PubSub;</code></li></ul></li><li><p>一句话说清楚添加订阅和发布订阅</p><ul><li>需要数据的成为<strong>订阅者</strong></li><li>传送数据的成为<strong>发布者</strong></li></ul></li></ul><h5 id="绑定事件的应用-可以立即为一颗定时炸弹"><a href="#绑定事件的应用-可以立即为一颗定时炸弹" class="headerlink" title="绑定事件的应用(可以立即为一颗定时炸弹)"></a>绑定事件的应用(可以立即为一颗定时炸弹)</h5><ul><li>事件名</li><li>事件的回调函数</li><li>声明事件对象参数</li><li><strong>获取数据</strong>的一方</li><li>对比其他<ul><li>PubSub:<strong>订阅者</strong></li><li>Vue: <code>$on()</code></li></ul></li></ul><h5 id="触发事件-可以理解为炸弹引爆器-告诉炸弹是否引爆"><a href="#触发事件-可以理解为炸弹引爆器-告诉炸弹是否引爆" class="headerlink" title="触发事件(可以理解为炸弹引爆器-告诉炸弹是否引爆)"></a>触发事件(可以理解为炸弹引爆器-告诉炸弹是否引爆)</h5><ul><li>事件名</li><li>传入事件对象</li><li><strong>提供数据</strong>的一方</li><li>对比其他<ul><li>1.PubSub:<strong>发布</strong></li><li>2.Vue: <code>$emit</code></li></ul></li></ul><h5 id="添加订阅-类似于-on"><a href="#添加订阅-类似于-on" class="headerlink" title="添加订阅(类似于$on)"></a>添加订阅(类似于$on)</h5><ul><li><p>语法格式</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">PubSub.subscribe(&quot;发布消息的名称&quot;,回调函数)</span><br></pre></td></tr></table></figure></li><li><p>简单理解为<code>PubSub.subscribe(&quot;要订阅的公众号&quot;,回调函数)</code></p></li></ul><p><strong>注意</strong>:</p><ul><li>回调函数会传入二个参数<ul><li>参数1为: <strong>发布消息的名称</strong> (不管用不用,都必须接收并占位!否者收不到第二个参数)</li><li>参数2为: 即为发布订阅传递过来的消息</li></ul></li><li>注意:<ul><li>回调函数当中的第一个参数不管用不用,都需要进行占位</li></ul></li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//Two.vue</span></span><br><span class="line">&lt;template&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&quot;border: 1px solid blue&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>Two-测试pubsub-js<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    &#123;&#123; content &#125;&#125;</span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">import</span> <span class="title class_">PubSub</span> <span class="keyword">from</span> <span class="string">&quot;pubsub-js&quot;</span>;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="attr">name</span>: <span class="string">&quot;&quot;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="title function_">data</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="keyword">return</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="attr">content</span>: <span class="string">&quot;&quot;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="title function_">mounted</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">     <span class="comment">//添加订阅(类似于$on),消息名称为&#x27;tellMeSome&#x27;,绑定的回调为&#x27;tell&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="title class_">PubSub</span>.<span class="title function_">subscribe</span>(<span class="string">&quot;tellMeSome&quot;</span>, <span class="variable language_">this</span>.<span class="property">tell</span>);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="attr">methods</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="comment">//回调函数,第一个参数必须要写,否者第二个传递过来的参数接收不到</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="title function_">tell</span>(<span class="params">msg, content</span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="variable language_">console</span>.<span class="title function_">log</span>(msg); <span class="comment">//输出tellMeSome</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;有人告诉了我&quot;</span>, content);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="variable language_">this</span>.<span class="property">content</span> = content;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">&#125;;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><h5 id="发布订阅-类似于-emit"><a href="#发布订阅-类似于-emit" class="headerlink" title="发布订阅(类似于$emit)"></a>发布订阅(类似于$emit)</h5><ul><li><p>语法格式</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">PubSub.publish(&quot;发布消息的名称&quot;,传递的参数)</span><br></pre></td></tr></table></figure></li><li><p>简单理解为<code>PubSub.subscribe(&quot;公众号名称&quot;,&quot;传输给用户的文章&quot;)</code></p></li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//One.vue</span></span><br><span class="line">&lt;template&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">style</span>=<span class="string">&quot;border:1px solid red&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>One-测试pubsub-js<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;itellyou&quot;</span>&gt;</span>单击我告诉Two<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">import</span> <span class="title class_">PubSub</span> <span class="keyword">from</span> <span class="string">&quot;pubsub-js&quot;</span>;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="attr">name</span>: <span class="string">&quot;One&quot;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="attr">methods</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="title function_">itellyou</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">       <span class="comment">//发布订阅,并传入数据&#x27;Two你好,我是One,来测试pubsub的&#x27;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="title class_">PubSub</span>.<span class="title function_">publish</span>(<span class="string">&quot;tellMeSome&quot;</span>, <span class="string">&quot;Two你好,我是One,来测试pubsub的&quot;</span>);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">&#125;;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">style</span> <span class="attr">lang</span>=<span class="string">&quot;less&quot;</span> <span class="attr">scoped</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h5 id="效果"><a href="#效果" class="headerlink" title="效果"></a>效果</h5><p>单击后显示文字,传递信息成功</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205171921133.png" alt="单击后显示文字,传递信息成功"></p><h4 id="插槽"><a href="#插槽" class="headerlink" title="插槽"></a>插槽</h4><p>作用: 让父组件可以向子组件指定位置插入html结构,适用于父组件 到 子组件</p><p>适合在多个组件当中,有一部分内容相同,部分内容不同的情况下使用,如下面这种情况就很适合,<strong>3个组件都有按钮,但是按钮下方的内容是不同的</strong></p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205171925975.png" alt="3个组件都有按钮,但是按钮下方的内容是不同的"></p><h5 id="默认插槽"><a href="#默认插槽" class="headerlink" title="默认插槽"></a>默认插槽</h5><p>关键: <code>slot</code>标签什么属性都没有的,就一个纯标签</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line">父组件</span><br><span class="line">&lt;<span class="title class_">Son</span>&gt;</span><br><span class="line">    &lt;!--使用默认插槽--&gt;</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    	我是html结构</span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span></span><br><span class="line">&lt;/<span class="title class_">Son</span>&gt;</span><br><span class="line">或者省略默认template</span><br><span class="line">&lt;<span class="title class_">Son</span>&gt;</span><br><span class="line">    &lt;!--使用默认插槽--&gt;</span><br><span class="line">    	我是html结构</span><br><span class="line">&lt;/<span class="title class_">Son</span>&gt;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">子组件</span><br><span class="line">&lt;template&gt;</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    	<span class="comment">&lt;!--定义插槽--&gt;</span></span></span><br><span class="line"><span class="language-xml">    	<span class="tag">&lt;<span class="name">slot</span>&gt;</span>插槽默认内容(没有被使用的默认显示内容)<span class="tag">&lt;/<span class="name">slot</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure><h5 id="具名插槽"><a href="#具名插槽" class="headerlink" title="具名插槽"></a>具名插槽</h5><p>理解: <code>slot</code>是含有<code>name</code>属性的标签</p><p>关键: 父组件使用具名插槽是关键是添加属性<code>slot=&quot;插槽名称(对应插槽slot的name属性值)&quot;</code> 或者 <code>v-slot:插槽名称</code></p><ul><li>不过vue3不推荐使用<code>slot</code>属性去使用具名插槽,而是使用<code>v-slot</code>属性去使用具名插槽</li><li>跟 v-on 和 v-bind 一样，v-slot 也有缩写。<ul><li><code>v-slot:</code> 替换为字符<code>#</code></li><li>例如 v-slot:header 可以被简写为 <code>#header</code></li></ul></li></ul><p><strong>父组件</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">h3</span>&gt;</span>我是父亲<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">Son</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">		</span></span><br><span class="line"><span class="language-xml">        <span class="comment">&lt;!-- slot=&quot;xxx&quot;使用具名插槽 --&gt;</span>	</span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">template</span> <span class="attr">slot</span>=<span class="string">&quot;one&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            我会更换具名插槽的内容</span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">		或者	v-slot:one</span></span><br><span class="line"><span class="language-xml">         <span class="tag">&lt;<span class="name">template</span> <span class="attr">v-slot:one</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            我会更换具名插槽的内容</span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">Son</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">import</span> <span class="title class_">Son</span> <span class="keyword">from</span> <span class="string">&quot;./Son.vue&quot;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="attr">name</span>: <span class="string">&#x27;&#x27;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="attr">components</span>:&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="title class_">Son</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">&#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure><p><strong>子组件</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="comment">&lt;!-- 具名插槽 --&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">slot</span> <span class="attr">name</span>=<span class="string">&quot;one&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">          我是具名插槽的默认内容</span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;/<span class="name">slot</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&lt;/template&gt;</span><br></pre></td></tr></table></figure><h5 id="作用域插槽"><a href="#作用域插槽" class="headerlink" title="作用域插槽"></a>作用域插槽</h5><p>理解:</p><ul><li>slot是含有<strong>绑定数据的标签</strong>,并且父组件可以拿到子组件的数据(通过slot给父亲),传递数据的方式类似于props通信结构</li><li>数据在组件的自身,但根据数据生成的结构需要组件的使用者来决定<ul><li>像element-ui当的<code>&lt;el-table-column&gt;&lt;/el-table-column&gt;</code>就需要我们使用作用域插槽来决定结构</li></ul></li></ul><p>关键: 父组件使用具名插槽是关键是添加属性<code>slot-scope=&quot;&quot;</code> 或者 <code>slot=&quot;&quot;</code></p><p><strong>父组件</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">h3</span>&gt;</span>我是父亲<span class="tag">&lt;/<span class="name">h3</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">Son</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="comment">&lt;!-- 使用作用域插槽 --&gt;</span></span></span><br><span class="line"><span class="language-xml">    	<span class="comment">&lt;!-- 传递过来的完整数据其实是一个对象,这里使用了解构赋值 --&gt;</span></span></span><br><span class="line"><span class="language-xml">    	<span class="comment">&lt;!-- 接收从插槽当中传递过来的数据,并使用解构赋值接收 --&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">template</span> <span class="attr">slot-scope</span>=<span class="string">&quot;&#123;games&#125;&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            &#123;&#123;games&#125;&#125;</span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">template</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">Son</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">import</span> <span class="title class_">Son</span> <span class="keyword">from</span> <span class="string">&quot;./Son.vue&quot;</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="attr">name</span>: <span class="string">&#x27;&#x27;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="attr">components</span>:&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="title class_">Son</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">&#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure><p><strong>子组件</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="comment">&lt;!-- 作用域插槽 --&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">slot</span> <span class="attr">:games</span>=<span class="string">&quot;games&quot;</span>&gt;</span> 我是作用域插槽默认内容 <span class="tag">&lt;/<span class="name">slot</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="attr">name</span>: <span class="string">&quot;&quot;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="title function_">data</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="keyword">return</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="attr">games</span>: [<span class="string">&quot;穿越火线&quot;</span>, <span class="string">&quot;英雄联盟&quot;</span>, <span class="string">&quot;王者荣耀&quot;</span>, <span class="string">&quot;战地之王&quot;</span>],</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">&#125;;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure><p>输出示例</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205172027146.png" alt="作用域插槽"></p><h4 id="vuex-不使用模块化"><a href="#vuex-不使用模块化" class="headerlink" title="vuex(不使用模块化)"></a>vuex(不使用模块化)</h4><h5 id="安装"><a href="#安装" class="headerlink" title="安装"></a>安装</h5><ul><li><p>对于vue2: <code>npm install vuex@3 --save</code></p></li><li><p>对于vue3: <code>npm install vuex --save</code></p></li><li><p>查看vue版本</p><ul><li><p>打开你的package.json文件夹就可以看到</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205172032563.png" alt="查看vue是2.x还是3.x"></p></li></ul></li><li><p>查看npm当中vuex的所有版本 <code>npm view vuex versions</code></p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205172031131.png" alt="查看vuex所有版本"></p></li></ul><h5 id="使用"><a href="#使用" class="headerlink" title="使用"></a>使用</h5><ol><li><p>添加store文件夹并在里面建立<code>index.js</code>文件</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">Vuex</span> <span class="keyword">from</span> <span class="string">&quot;vuex&quot;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">use</span>(<span class="title class_">Vuex</span>);</span><br><span class="line"><span class="keyword">const</span> state = &#123; ... &#125;</span><br><span class="line"><span class="keyword">const</span> mutations = &#123; ... &#125;</span><br><span class="line"><span class="keyword">const</span> actions = &#123; ... &#125;</span><br><span class="line"><span class="keyword">const</span> getters = &#123; ... &#125;</span><br><span class="line"><span class="comment">//别忘记new Vuex.Store(配置对象)了!</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> <span class="title class_">Vuex</span>.<span class="title class_">Store</span>(&#123;</span><br><span class="line">    state,</span><br><span class="line">    mutations,</span><br><span class="line">    actions,</span><br><span class="line">    getters</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li><li><p><strong>主入口</strong>文件<code>main.js</code>引入store文件夹的<code>index.js</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> store <span class="keyword">from</span> <span class="string">&quot;@/store&quot;</span></span><br><span class="line">或者</span><br><span class="line"><span class="keyword">import</span> store <span class="keyword">from</span> <span class="string">&quot;@/store/index.js&quot;</span></span><br><span class="line"></span><br><span class="line">添加到vue的配置对象当中</span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">    ...</span><br><span class="line">    store,</span><br><span class="line">    ...</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li><li><p>其他组件可以通过<code>this.$store.dispatch(actions的方法名,传递的参数)</code>来进行调用并存储数据(如果需要传递多个参数,请封装成为对象后传递)</p></li></ol><h5 id="详细配置对象参数"><a href="#详细配置对象参数" class="headerlink" title="详细配置对象参数"></a>详细配置对象参数</h5><ul><li><p>new Vuex.Store(配置对象),配置对象当中的含义</p><ul><li><p><strong>state</strong>: 是一个<strong>包含多个属性</strong>(不包含方法)的对象,用来存储数据</p></li><li><p><strong>mutations:</strong> 是一个<strong>包含多个方法</strong>的对象,用这些方法去操作state当中的对象(也就是操作数据)</p><ul><li><strong>只接收普通的函数,不接受任何if ,for,异步函数</strong></li><li>里面的方法<strong>第一个参数</strong>为<code>state</code>(名字可以随意),为当前配置对象当中state</li><li>里面的方法<strong>第二个参数</strong>为通过<code>commit</code>方法传递过来的参数</li></ul></li><li><p><strong>actions</strong>:是一个<strong>包含多个方法</strong>的对象,这个对象里面的方法用于给其他组件去调用</p><ul><li><p><strong>可以包含if ,for , 异步函数</strong></p></li><li><p>里面的方法传入的<strong>第一个为参数</strong>content(名字可以随意),即为当前的store对象</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205172109261.png" alt="输出查看第一个参数"></p></li><li><p>里面的方法传入的<strong>第二个参数</strong>为通过dispatch传递过来的参数</p></li></ul></li><li><p><strong>getters:</strong> (类似于computed),是一个<strong>包含多个方法</strong>的对象,通过计算返回数据</p><ul><li><strong>里面的方法传入的第一个参数为state(参数名称随意)</strong>,也就是当前<code>state</code>对象</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> state = &#123;...&#125;;</span><br><span class="line"><span class="keyword">var</span> mutations = &#123;...&#125;;</span><br><span class="line"><span class="keyword">var</span> actions = &#123;...&#125;;</span><br><span class="line"><span class="keyword">var</span> getters = &#123;</span><br><span class="line">    <span class="title function_">sayHello</span>(<span class="params"></span>)&#123;</span><br><span class="line">        </span><br><span class="line">    &#125;,</span><br><span class="line">	方法<span class="number">1</span>:<span class="function">(<span class="params">state</span>)=&gt;</span>&#123;</span><br><span class="line">	</span><br><span class="line">	&#125;,</span><br><span class="line">	方法<span class="number">2</span>(state)&#123;</span><br><span class="line">	</span><br><span class="line">	&#125;,</span><br><span class="line">	<span class="comment">//方法2写法等同于</span></span><br><span class="line">    <span class="comment">//只不过看你是否用到了this</span></span><br><span class="line">    <span class="comment">//方法2:function(state)&#123;</span></span><br><span class="line">    <span class="comment">//    </span></span><br><span class="line">    <span class="comment">//&#125;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul></li></ul><h5 id="使用示例1-不使用模块化"><a href="#使用示例1-不使用模块化" class="headerlink" title="使用示例1(不使用模块化)"></a>使用示例1(不使用模块化)</h5><p><strong>单击按钮后</strong>vuex的name由”李白” 变成了”动感超人”</p><p>普通组件One.vue</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">div</span>&gt;</span>我是One<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;gaibian&quot;</span>&gt;</span>单击我改变store当中名字<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="attr">name</span>: <span class="string">&quot;One&quot;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="attr">methods</span>:&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="title function_">gaibian</span>(<span class="params"></span>)&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="comment">//调用vuex当中的dispatch</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="variable language_">this</span>.<span class="property">$store</span>.<span class="title function_">dispatch</span>(<span class="string">&quot;changName&quot;</span>,<span class="string">&quot;动感超人&quot;</span>)</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">&#125;;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>store文件夹当中的index.js</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">Vuex</span> <span class="keyword">from</span> <span class="string">&quot;vuex&quot;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">use</span>(<span class="title class_">Vuex</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">var</span> state = &#123;</span><br><span class="line">    <span class="attr">name</span>:<span class="string">&quot;李白&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> mutations = &#123;</span><br><span class="line">    <span class="comment">//用于改变state当中的name</span></span><br><span class="line">    <span class="title function_">SET_NEW_NAME</span>(<span class="params">state,newValue</span>)&#123;</span><br><span class="line">        state.<span class="property">name</span> = newValue;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//用户使用this.$store.dispatch()调用的正是actions当中的方法</span></span><br><span class="line"><span class="keyword">var</span> actions = &#123;</span><br><span class="line">    <span class="comment">//用于调用mutations当中的方法去改变name值</span></span><br><span class="line">    <span class="comment">//使用解构赋值解构出commit</span></span><br><span class="line">    <span class="title function_">changName</span>(<span class="params">&#123;commit&#125;,value</span>)&#123;</span><br><span class="line">        <span class="title function_">commit</span>(<span class="string">&quot;SET_NEW_NAME&quot;</span>,value)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> getters = &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> <span class="title class_">Vuex</span>.<span class="title class_">Store</span>(&#123;</span><br><span class="line">    state,</span><br><span class="line">    mutations,</span><br><span class="line">    actions,</span><br><span class="line">    getters</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h4 id="vuex-使用模块化"><a href="#vuex-使用模块化" class="headerlink" title="vuex(使用模块化)"></a>vuex(使用模块化)</h4><ul><li><p>其他什么都不需要改变,只需要改变下store文件夹下的index.js(主入口文件)</p></li><li><p>文件目录结构如下</p><ul><li>store<ul><li>shop(文件夹)<ul><li>address1.js</li><li>address2.js</li></ul></li><li>food(文件夹)<ul><li>vegetable.js</li><li>meat.js</li></ul></li><li>user(文件夹)<ul><li>vipuser.js</li><li>user.js</li></ul></li><li><strong>index.js(主入口文件)</strong></li></ul></li></ul></li><li><p>以后的主入口文件<code>index.js</code>只需要写成下面就可以</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">Vuex</span> <span class="keyword">from</span> <span class="string">&quot;vuex&quot;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">use</span>(<span class="title class_">Vuex</span>);</span><br><span class="line"><span class="comment">// 模块用法</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//引入One.js模块</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">One</span> <span class="keyword">from</span> <span class="string">&quot;./One.js&quot;</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> <span class="title class_">Vuex</span>.<span class="title class_">Store</span>(&#123;</span><br><span class="line">    <span class="comment">//可以用自己的下面四大类,这里没有使用而已</span></span><br><span class="line">    <span class="comment">// state:&#123;&#125;</span></span><br><span class="line">    <span class="comment">// mutations:&#123;&#125;,</span></span><br><span class="line">    <span class="comment">// actions:&#123;&#125;,</span></span><br><span class="line">    <span class="comment">// getters:&#123;&#125;,</span></span><br><span class="line">    <span class="attr">state</span>:&#123;</span><br><span class="line">        <span class="attr">name</span>:<span class="string">&quot;李白&quot;</span></span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="comment">//使用模块化</span></span><br><span class="line">    <span class="attr">modules</span>:&#123;</span><br><span class="line">        <span class="title class_">One</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure></li><li><p>One.js模块内容</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> state = &#123;</span><br><span class="line">    <span class="attr">name</span>:<span class="string">&quot;李白&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> mutations = &#123;</span><br><span class="line">    <span class="comment">//用于改变自己state当中的name</span></span><br><span class="line">    <span class="title function_">SET_NEW_NAME</span>(<span class="params">state,newValue</span>)&#123;</span><br><span class="line">        state.<span class="property">name</span> = newValue;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> actions = &#123;</span><br><span class="line">    <span class="comment">//用于调用mutations当中的方法去改变name值</span></span><br><span class="line">    <span class="title function_">changName</span>(<span class="params">&#123;commit&#125;,value</span>)&#123;</span><br><span class="line">        <span class="title function_">commit</span>(<span class="string">&quot;SET_NEW_NAME&quot;</span>,value)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> getters = &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//别忘记暴露出现</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">    state,</span><br><span class="line">    mutations,</span><br><span class="line">    actions,</span><br><span class="line">    getters</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><p>模块化后this.$store.state内容如图</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205181050351.png" alt="模块化后this.$store.state内容"></p><h6 id="模块化之前输出this-store"><a href="#模块化之前输出this-store" class="headerlink" title="模块化之前输出this.$store"></a>模块化之前输出this.$store</h6><ul><li>可以看到,state当中没有嵌套什么</li></ul><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205180934024.png" alt="模块化之前输出this.$store"></p><h6 id="模块化之后输出this-store"><a href="#模块化之后输出this-store" class="headerlink" title="模块化之后输出this.$store"></a>模块化之后输出this.$store</h6><ul><li><p>可以看到,state当中嵌套了另外一个对象</p></li><li><p>可以看到,One.js暴露的内容当中的state部分成为了this.$store.state里面的对象并且One为key值,value为One.js当中的state对象的值</p></li></ul><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205180938055.png" alt="模块化之后输出this.$store"></p><h6 id="模块化需要注意的点"><a href="#模块化需要注意的点" class="headerlink" title="模块化需要注意的点"></a>模块化需要注意的点</h6><ul><li><p><strong>默认情况下</strong>，模块内部的<code>action</code> 和 <code>mutation</code> (官网是这样子说的,但是我测试后发现<code>getters</code>也是注册在全局下的) 是<strong>注册在全局命名空间的</strong>(也就是会放在this.$store对应的actions,mutations,getters对象上)(<strong>所以如果不使用命名空间的话,不管有没有模块化,想调用里面的方法只需要</strong><code>this.$store.dispatch(actions当中的名称,传递的参数)</code><strong>即可调用</strong>)</p></li><li><p>如果没有使用命名空间,那么外界想调用模块当中的<code>actions</code>里面的方法,都是可以直接调用的,比如<code>One.js</code>,已经使用了模块化,但是外面想要调用actions当中的方法依旧只需要<code>this.$store.dispatch(actions当中的名称,传递的参数)</code>就可以调用!但是如果想要获取<code>One.js</code>当中<code>state</code>里面的数据,就需要多调用一层,即:<code>this.$store.One.属性名</code>才可以</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">One</span>.<span class="property">js</span>并且使用了模块化</span><br><span class="line"></span><br><span class="line"><span class="comment">//想获取One.js里面的age属性,模块化后要怎么获取?</span></span><br><span class="line"><span class="comment">//其他组件调用 this.$store.state.One.age即可</span></span><br><span class="line"><span class="keyword">var</span> state = &#123;</span><br><span class="line">    <span class="attr">name</span>:<span class="string">&quot;李白&quot;</span>,</span><br><span class="line">    <span class="attr">age</span>:<span class="number">2000</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> mutations = &#123;...&#125;</span><br><span class="line"><span class="comment">//想调用actions当中的&#x27;changeName&#x27;</span></span><br><span class="line"><span class="comment">//在其他组件调用 this.$store.diaptch(&quot;changeName&quot;,&quot;李黑&quot;);</span></span><br><span class="line"><span class="comment">//即可调用One.js当中actions里面的changName方法</span></span><br><span class="line"><span class="keyword">var</span> actions = &#123;</span><br><span class="line">    <span class="title function_">changName</span>(<span class="params">content,value</span>)&#123;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> getters = &#123;...&#125;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">    state,</span><br><span class="line">    mutations,</span><br><span class="line">    actions,</span><br><span class="line">    getters</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h6 id="使用命名空间-针对模块化"><a href="#使用命名空间-针对模块化" class="headerlink" title="使用命名空间(针对模块化)"></a>使用命名空间(针对模块化)</h6><ul><li><p>影响到<code>actions</code>和<code>getters</code>方法使用,其他<code>state,mutation</code>不受影响(因为如果不使用命名空间,后面组件调用<code>dispatch</code>方法,只要模块的actions里面有这个被调用的函数名称,就会被调用,不管你有几个重复的,都会被触发)</p></li><li><p>模块配置对象当中添加<code>namespaced:true</code>即可使用命名空间</p></li><li><p>One.js当中的内容</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> state = &#123;</span><br><span class="line">    <span class="attr">name</span>:<span class="string">&quot;李白&quot;</span>,</span><br><span class="line">    <span class="attr">age</span>:<span class="string">&quot;100&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> mutations = &#123;</span><br><span class="line">    <span class="comment">//用于改变state当中的name</span></span><br><span class="line">    <span class="title function_">SET_NEW_NAME</span>(<span class="params">state,newValue</span>)&#123;</span><br><span class="line">        state.<span class="property">name</span> = newValue;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> actions = &#123;</span><br><span class="line">    <span class="comment">//用于调用mutations当中的方法去改变name值</span></span><br><span class="line">    <span class="title function_">changName</span>(<span class="params">&#123;commit&#125;,value</span>)&#123;</span><br><span class="line">        <span class="title function_">commit</span>(<span class="string">&quot;SET_NEW_NAME&quot;</span>,value)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> getters = &#123;</span><br><span class="line">    <span class="title function_">allInfo</span>(<span class="params">state</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> state.<span class="property">name</span>+state.<span class="property">age</span>;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="title function_">getOther</span>(<span class="params"></span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;啊啊&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">    <span class="comment">//使用命名空间</span></span><br><span class="line">    <span class="attr">namespaced</span>:<span class="literal">true</span>,</span><br><span class="line">    state,</span><br><span class="line">    mutations,</span><br><span class="line">    actions,</span><br><span class="line">    getters</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p><strong>未使用命名空间如何调用actions里面方法和getters里面的方法</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//调用actions当中的changName,如果有多个changName,也会被调用</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">$store</span>.<span class="title function_">dispatch</span>(<span class="string">&quot;changName&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//调用getters当中的allInfo来获取值</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">$store</span>.<span class="property">getters</span>.<span class="property">allInfo</span></span><br><span class="line"><span class="comment">//放置在标签上</span></span><br><span class="line">&lt;span&gt;&#123;&#123;$store.<span class="property">getters</span>.<span class="property">allInfo</span>&#125;&#125;&lt;/span&gt;</span><br></pre></td></tr></table></figure><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205181159839.png" alt="没有使用命名空间之后输出this.$store从而查看getters和actions等其他"></p></li><li><p><strong>使用命名空间后如何调用actions里面方法和getters里面的方法</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//只会调用One.js文件下的actions里面的changName方法</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">$store</span>.<span class="title function_">dispatch</span>(<span class="string">&quot;One/changName&quot;</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">//调用getters当中的allInfo来获取值</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">$store</span>.<span class="property">getters</span>[<span class="string">&#x27;One/allInfo&#x27;</span>]</span><br><span class="line"><span class="comment">//放置在标签上</span></span><br><span class="line">&lt;span&gt;&#123;&#123;<span class="variable language_">this</span>.<span class="property">$store</span>.<span class="property">getters</span>[<span class="string">&#x27;One/allInfo&#x27;</span>]&#125;&#125;&lt;/span&gt;</span><br></pre></td></tr></table></figure></li></ul><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205181158326.png" alt="使用命名空间之后输出this.$store从而查看getters和actions等其他"></p><p>前缀名字会和modules的key对应</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205181130507.png" alt="前缀名字会和modules的key对应"></p><p>如果key改为了OneE</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205181131416.png" alt="改为了OneE"></p><p>那么命名空间当中的名字也会改变</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205181202431.png" alt="  前缀名字会和modules的key对应"></p><h4 id="vuex使用mapState和mapGetters"><a href="#vuex使用mapState和mapGetters" class="headerlink" title="vuex使用mapState和mapGetters"></a>vuex使用mapState和mapGetters</h4><ul><li><p><code>mapState</code>放在哪里?</p><ul><li>放在data肯定不行,因为data一般存放已经定义好的数据,<code>props</code>中,也不行,props一般接收通过标签属性来传递的,所以mapState放在computed当中</li></ul></li><li><p>为什么要mapState和其他的mapXXXXX(这里<strong>以不使用模块化为例</strong>)</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">假设store文件夹下方的入口文件index.<span class="property">js</span>含有下方内容</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Vuex</span> <span class="keyword">from</span> <span class="string">&quot;vuex&quot;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">use</span>(<span class="title class_">Vuex</span>);</span><br><span class="line"><span class="keyword">var</span> state = &#123;</span><br><span class="line">    <span class="attr">name</span>:<span class="string">&quot;李白&quot;</span>,</span><br><span class="line">    <span class="attr">age</span>:<span class="string">&quot;100&quot;</span>,</span><br><span class="line">    <span class="attr">address</span>:<span class="string">&quot;地球&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> mutations = &#123;...&#125;</span><br><span class="line"><span class="keyword">var</span> actions = &#123;...&#125;</span><br><span class="line"><span class="keyword">var</span> getters = &#123;...&#125;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> <span class="title class_">Vuex</span>.<span class="title class_">Store</span>(&#123;</span><br><span class="line">    state,</span><br><span class="line">    mutations,</span><br><span class="line">    actions,</span><br><span class="line">    getters</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure></li><li><p>那么我有一个组件叫<code>One.vue</code>,我想<strong>获取到vuex里面的数据放在我这里组件上使用</strong>,那么要怎么使用?</p><ul><li>那么平时,我们必须要写n多个 <code>this.$store.state.xxxxx</code></li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">One</span>.<span class="property">vue</span></span><br><span class="line">那么我们就必须要写n多个 <span class="variable language_">this</span>.<span class="property">$store</span>.<span class="property">state</span>.<span class="property">xxxxx</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="attr">name</span>: <span class="string">&quot;&quot;</span>,</span><br><span class="line">  <span class="title function_">mounted</span>(<span class="params"></span>) &#123;&#125;,</span><br><span class="line">  <span class="attr">components</span>: &#123;</span><br><span class="line">    <span class="title class_">One</span>,</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">computed</span>: &#123;</span><br><span class="line">    <span class="title function_">name</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">$store</span>.<span class="property">state</span>.<span class="property">name</span>;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="title function_">age</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">$store</span>.<span class="property">state</span>.<span class="property">age</span>;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="title function_">address</span>(<span class="params"></span>) &#123;</span><br><span class="line">      <span class="keyword">return</span> <span class="variable language_">this</span>.<span class="property">$store</span>.<span class="property">state</span>.<span class="property">age</span>;</span><br><span class="line">    &#125;,</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure></li></ul><h5 id="使用mapState-不使用模块化下"><a href="#使用mapState-不使用模块化下" class="headerlink" title="使用mapState(不使用模块化下)"></a>使用mapState(不使用模块化下)</h5><ul><li><p>先引入 <code>import &#123;mapState&#125; from &quot;vuex&quot;</code>; 别忘记了花括号!</p></li><li><p>使用(<strong>对象的写法</strong>)</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; mapGetters &#125; <span class="keyword">from</span> <span class="string">&#x27;vuex&#x27;</span></span><br><span class="line"><span class="comment">// 每次会传入一个参数,这个参数一般命名为state</span></span><br><span class="line"><span class="comment">//state等同于this.$store.state的内容!!!</span></span><br><span class="line"><span class="keyword">var</span> obb = <span class="title function_">mapState</span>(&#123;</span><br><span class="line">    </span><br><span class="line">	自定义名称:<span class="keyword">function</span>(<span class="params">state</span>)&#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(state === <span class="variable language_">this</span>.<span class="property">$store</span>.<span class="property">state</span>);<span class="comment">//输出为true</span></span><br><span class="line">		<span class="keyword">return</span> state.要获取的属性</span><br><span class="line">	&#125;,</span><br><span class="line">    <span class="comment">//也可以简写</span></span><br><span class="line">	自定义名称:<span class="function"><span class="params">state</span> =&gt;</span> state.要获取的属性</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">//返回值为一个对象</span></span><br><span class="line"></span><br><span class="line">比如下方代码</span><br><span class="line"><span class="keyword">var</span> myObj = <span class="title function_">mapState</span>(&#123;</span><br><span class="line">    <span class="attr">sex</span>:<span class="keyword">function</span>(<span class="params">state</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> state.<span class="property">sex</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">//再简单点可以写为</span></span><br><span class="line"><span class="keyword">var</span> myObj = <span class="title function_">mapState</span>(&#123;</span><br><span class="line">    <span class="attr">sex</span>: <span class="function"><span class="params">state</span> =&gt;</span> state.<span class="property">sex</span>,</span><br><span class="line">&#125;);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(myObj);<span class="comment">//&#123;sex: ƒ&#125;</span></span><br></pre></td></tr></table></figure></li><li><p>使用(<strong>数组的写法</strong>)</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; mapState &#125; <span class="keyword">from</span> <span class="string">&#x27;vuex&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">  <span class="attr">computed</span>: &#123;</span><br><span class="line">  <span class="comment">// 使用对象展开运算符将 getter 混入 computed 对象中</span></span><br><span class="line">    ...<span class="title function_">mapState</span>([</span><br><span class="line">      <span class="string">&#x27;sex&#x27;</span>,</span><br><span class="line">      <span class="string">&#x27;age&#x27;</span>,</span><br><span class="line">      <span class="comment">// ...</span></span><br><span class="line">    ])</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//代码等同于</span></span><br><span class="line"><span class="attr">computed</span>: &#123;</span><br><span class="line">    ...<span class="title function_">mapState</span>(&#123;</span><br><span class="line">        <span class="attr">sex</span>:<span class="function"><span class="params">state</span>=&gt;</span>state.<span class="property">sex</span>,</span><br><span class="line">        <span class="attr">age</span>:<span class="function"><span class="params">state</span>=&gt;</span>state.<span class="property">age</span>,</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>有了上面的代码例子,这里做一个小结</p><ul><li><code>mapState</code>一般这样子使用,传入一个对象,里面对象的<code>key</code>为自定义名称,<code>value</code>值为一个函数(因为要通过函数当中的参数获取值),并且这个<strong>函数默认</strong>有一个参数(一般取名state),<strong>并且这个参数会等于</strong><code>this.$store.state</code></li></ul></li></ul><h6 id="结合对象展开符-不使用模块化下-常用"><a href="#结合对象展开符-不使用模块化下-常用" class="headerlink" title="结合对象展开符-不使用模块化下(常用)"></a>结合对象展开符-不使用模块化下(常用)</h6><p>mapState 函数返回的是一个对象。我们如何将它与局部计算属性混合使用呢？通常，我们需要使用一个工具函数将多个对象合并为一个，以使我们可以将最终对象传给 computed 属性。但是自从有了对象展开运算符，我们可以极大地简化写法：</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//简写</span></span><br><span class="line"><span class="attr">computed</span>: &#123;</span><br><span class="line">  ...</span><br><span class="line">  <span class="comment">// 使用对象展开运算符将此对象混入到外部对象中</span></span><br><span class="line">  ...<span class="title function_">mapState</span>(&#123;</span><br><span class="line">    <span class="attr">sex</span>: <span class="function"><span class="params">state</span> =&gt;</span> state.<span class="property">sex</span>,</span><br><span class="line">    <span class="attr">address</span>: <span class="function"><span class="params">state</span> =&gt;</span> state.<span class="property">address</span></span><br><span class="line">  &#125;);</span><br><span class="line">  ...</span><br><span class="line">&#125;</span><br><span class="line">  </span><br><span class="line"><span class="comment">//复杂写</span></span><br><span class="line"><span class="attr">computed</span>: &#123;</span><br><span class="line">  ...</span><br><span class="line">  <span class="comment">// 使用对象展开运算符将此对象混入到外部对象中</span></span><br><span class="line">  ...<span class="title function_">mapState</span>(&#123;</span><br><span class="line">    <span class="attr">sex</span>: <span class="keyword">function</span>(<span class="params">state</span>)&#123;</span><br><span class="line">      <span class="keyword">return</span> state.<span class="property">sex</span>;  </span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">address</span>: <span class="keyword">function</span>(<span class="params">state</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> state.<span class="property">address</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line">  ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="使用mapState-使用模块化下"><a href="#使用mapState-使用模块化下" class="headerlink" title="使用mapState(使用模块化下)"></a>使用mapState(使用模块化下)</h5><ul><li><p>先引入 <code>import &#123;mapState&#125; from &quot;vuex&quot;</code>; 别忘记了花括号!</p></li><li><p>和没有使用模块化相比,对象当中多了一层寻找,也就是<code>对应的模块</code></p><ul><li><p>比如之前要寻找One.js当中的<code>sex</code>属性,我们只需要<code>this.$store.sex</code></p></li><li><p>而模块化后,我们要<code>this.$store.One.sex</code></p><ul><li>(注意,对应的模块的名称要和store文件夹下的index.js下书写的models对应)</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">One</span> <span class="keyword">from</span> <span class="string">&quot;./One.js&quot;</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> <span class="title class_">Vuex</span>.<span class="title class_">Store</span>(&#123;</span><br><span class="line">    <span class="attr">modules</span>:&#123;</span><br><span class="line">        <span class="title class_">One</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"><span class="comment">//获取One.js当中的sex属性</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">$store</span>.<span class="property">One</span>.<span class="property">sex</span></span><br></pre></td></tr></table></figure></li></ul></li><li><p>使用</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 每次会传入一个参数,这个参数一般命名为state</span></span><br><span class="line"><span class="comment">//state等同于this.$store.state的内容!!!!!!!</span></span><br><span class="line"><span class="keyword">var</span> obb = <span class="title function_">mapState</span>(&#123;</span><br><span class="line">	自定义名称:<span class="keyword">function</span>(<span class="params">state</span>)&#123;</span><br><span class="line">        <span class="variable language_">console</span>.<span class="title function_">log</span>(state === <span class="variable language_">this</span>.<span class="property">$store</span>.<span class="property">state</span>);<span class="comment">//输出为true</span></span><br><span class="line">		<span class="keyword">return</span> state.对应的模块.要获取的属性</span><br><span class="line">	&#125;,</span><br><span class="line">    <span class="comment">//也可以简写</span></span><br><span class="line">	自定义名称:<span class="function"><span class="params">state</span> =&gt;</span> state.对应的模块.要获取的属性</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="comment">//返回值为一个对象</span></span><br><span class="line"></span><br><span class="line">比如下方代码</span><br><span class="line"><span class="keyword">var</span> myObj = <span class="title function_">mapState</span>(&#123;</span><br><span class="line">    <span class="attr">sex</span>:<span class="keyword">function</span>(<span class="params">state</span>)&#123;</span><br><span class="line">        <span class="comment">//注意这里多了一层</span></span><br><span class="line">        <span class="keyword">return</span> state.<span class="property">One</span>.<span class="property">sex</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;);</span><br><span class="line"></span><br><span class="line">写简单点可以这样子写</span><br><span class="line"><span class="keyword">var</span> myObj = <span class="title function_">mapState</span>(&#123;</span><br><span class="line">    <span class="attr">sex</span>:<span class="function"><span class="params">state</span> =&gt;</span> state.<span class="property">One</span>.<span class="property">sex</span>,</span><br><span class="line">&#125;);</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(myObj);<span class="comment">//&#123;sex: ƒ&#125;</span></span><br></pre></td></tr></table></figure></li></ul><h6 id="结合对象展开符-使用模块化下-常用"><a href="#结合对象展开符-使用模块化下-常用" class="headerlink" title="结合对象展开符-使用模块化下(常用)"></a>结合对象展开符-使用模块化下(常用)</h6><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//简写</span></span><br><span class="line"><span class="attr">computed</span>: &#123;</span><br><span class="line">  ...</span><br><span class="line">  <span class="comment">// 使用对象展开运算符将此对象混入到外部对象中</span></span><br><span class="line">  ...<span class="title function_">mapState</span>(&#123;</span><br><span class="line">    <span class="attr">sex</span>: <span class="function"><span class="params">state</span> =&gt;</span> state.<span class="property">One</span>.<span class="property">sex</span>,</span><br><span class="line">    <span class="attr">address</span>: <span class="function"><span class="params">state</span> =&gt;</span> state.<span class="property">One</span>.<span class="property">address</span></span><br><span class="line">  &#125;);</span><br><span class="line">  ...</span><br><span class="line">&#125;</span><br><span class="line">  </span><br><span class="line"><span class="comment">//复杂写</span></span><br><span class="line"><span class="attr">computed</span>: &#123;</span><br><span class="line">  ...</span><br><span class="line">  <span class="comment">// 使用对象展开运算符将此对象混入到外部对象中</span></span><br><span class="line">  ...<span class="title function_">mapState</span>(&#123;</span><br><span class="line">    <span class="attr">sex</span>:<span class="keyword">function</span>(<span class="params">state</span>)&#123;</span><br><span class="line">      	<span class="keyword">return</span> state.<span class="property">One</span>.<span class="property">sex</span>;  </span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">address</span>:<span class="keyword">function</span>(<span class="params">state</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> state.<span class="property">One</span>.<span class="property">address</span>;</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;);</span><br><span class="line">  ...</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h5 id="使用mapGetters"><a href="#使用mapGetters" class="headerlink" title="使用mapGetters"></a>使用mapGetters</h5><h6 id="先来了解下getters"><a href="#先来了解下getters" class="headerlink" title="先来了解下getters"></a>先来了解下getters</h6><p>getters和state也是一样,getters读取如果是模块化了就要多嵌套一层,其他的使用都和state一样,只不过state字换成了</p><ul><li>先来看看<strong>getters当中的使用</strong>(可以看到,getters当中的方法会默认传入参数<code>state</code>)</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> state = &#123;</span><br><span class="line">    <span class="attr">name</span>:<span class="string">&quot;李白&quot;</span>,</span><br><span class="line">    <span class="attr">age</span>:<span class="string">&quot;100&quot;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">var</span> getters = &#123;</span><br><span class="line">    <span class="title function_">allInfo</span>(<span class="params">state</span>)&#123;</span><br><span class="line">        <span class="comment">//返回值会作为allInfo的值,类似于computed的用法</span></span><br><span class="line">        <span class="keyword">return</span> state.<span class="property">name</span>+state.<span class="property">age</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>其他对象使用getters</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//未模块化</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">$store</span>.<span class="property">getters</span>.<span class="property">allInfo</span></span><br><span class="line"><span class="comment">//模块化后</span></span><br><span class="line"><span class="variable language_">this</span>.<span class="property">$store</span>.<span class="property">getters</span>.<span class="property">One</span>.<span class="property">allInfo</span>;<span class="comment">//多了一层</span></span><br></pre></td></tr></table></figure><h6 id="使用mapGetters-用不用模块都是这个"><a href="#使用mapGetters-用不用模块都是这个" class="headerlink" title="使用mapGetters(用不用模块都是这个)"></a>使用mapGetters(用不用模块都是这个)</h6><ul><li><p>数组写法</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; mapGetters &#125; <span class="keyword">from</span> <span class="string">&#x27;vuex&#x27;</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">  <span class="attr">computed</span>: &#123;</span><br><span class="line">  <span class="comment">// 使用对象展开运算符将 getter 混入 computed 对象中</span></span><br><span class="line">    ...<span class="title function_">mapGetters</span>([</span><br><span class="line">      <span class="comment">// ...</span></span><br><span class="line">      <span class="string">&#x27;allInfo&#x27;</span>,</span><br><span class="line">      <span class="comment">// ...</span></span><br><span class="line">    ])</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">!!!!!!!!!代码等同于(注意,只是理解上的效果,实际在这getters写是错误的是不行的!)!!!!!!!!!!!!!!</span><br><span class="line"><span class="comment">// 注意,只是理解上的效果,实际在这getters写是错误的是不行的!</span></span><br><span class="line"><span class="comment">//注意,只是理解上的效果,实际在这getters写是错误的是不行的!</span></span><br><span class="line"><span class="keyword">import</span> &#123; mapGetters &#125; <span class="keyword">from</span> <span class="string">&#x27;vuex&#x27;</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">  <span class="attr">computed</span>: &#123;</span><br><span class="line">  <span class="comment">// 使用对象展开运算符将 getter 混入 computed 对象中</span></span><br><span class="line">    ...<span class="title function_">mapGetters</span>(&#123;</span><br><span class="line">        <span class="attr">allInfo</span>:<span class="keyword">function</span>(<span class="params">getters</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> getters.<span class="property">allInfo</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>对象写法(<strong>如果你想将一个 getter 属性另取一个名字，使用对象形式</strong>)</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; mapGetters &#125; <span class="keyword">from</span> <span class="string">&#x27;vuex&#x27;</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">  <span class="attr">computed</span>: &#123;</span><br><span class="line">  <span class="comment">// 使用对象展开运算符将 getter 混入 computed 对象中</span></span><br><span class="line">    ...<span class="title function_">mapGetters</span>(&#123;</span><br><span class="line">        <span class="attr">allName</span>:<span class="string">&quot;allInfo&quot;</span></span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line">!!!!!!!!!代码等同于(注意,只是理解上的效果,实际在这getters写是错误的是不行的!)!!!!!!!!!!!!!!</span><br><span class="line"><span class="comment">// 注意,只是理解上的效果,实际在这getters写是错误的是不行的!</span></span><br><span class="line"><span class="comment">//注意,只是理解上的效果,实际在这getters写是错误的是不行的!</span></span><br><span class="line"><span class="keyword">import</span> &#123; mapGetters &#125; <span class="keyword">from</span> <span class="string">&#x27;vuex&#x27;</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="comment">// ...</span></span><br><span class="line">  <span class="attr">computed</span>: &#123;</span><br><span class="line">  <span class="comment">// 使用对象展开运算符将 getter 混入 computed 对象中</span></span><br><span class="line">    ...<span class="title function_">mapGetters</span>(&#123;</span><br><span class="line">        <span class="attr">allName</span>:<span class="keyword">function</span>(<span class="params">getters</span>)&#123;</span><br><span class="line">            <span class="keyword">return</span> getters.<span class="property">allInfo</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul><h6 id="使用mapGetters如果在命名空间下要怎么使用mapGetters"><a href="#使用mapGetters如果在命名空间下要怎么使用mapGetters" class="headerlink" title="使用mapGetters如果在命名空间下要怎么使用mapGetters"></a>使用mapGetters如果在命名空间下要怎么使用mapGetters</h6><ul><li>只可以使用<code>mapGetters</code>对象的形式!</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">其他组件<span class="title class_">Index</span>.<span class="property">vue</span>内容</span><br><span class="line"><span class="comment">//使用mapGetters调用命名空间下的getters</span></span><br><span class="line"><span class="keyword">import</span> &#123; mapGetters &#125; <span class="keyword">from</span> <span class="string">&quot;vuex&quot;</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">  <span class="attr">computed</span>: &#123;</span><br><span class="line">    ...<span class="title function_">mapGetters</span>(&#123;</span><br><span class="line">      <span class="attr">allInfo</span>:<span class="string">&quot;One/allInfo&quot;</span></span><br><span class="line">    &#125;)</span><br><span class="line">  &#125;,</span><br><span class="line">&#125;;</span><br><span class="line">&lt;/script&gt;</span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">One</span>.<span class="property">js</span>内容</span><br><span class="line"><span class="keyword">var</span> state = &#123;...&#125;</span><br><span class="line"><span class="keyword">var</span> mutations = &#123;...&#125;</span><br><span class="line"><span class="keyword">var</span> actions = &#123;...&#125;</span><br><span class="line"><span class="keyword">var</span> getters = &#123;</span><br><span class="line">    <span class="title function_">allInfo</span>(<span class="params">state</span>)&#123;</span><br><span class="line">        <span class="keyword">return</span> state.<span class="property">name</span>+state.<span class="property">age</span>;</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line">    <span class="attr">namespaced</span>:<span class="literal">true</span>,</span><br><span class="line">    state,</span><br><span class="line">    mutations,</span><br><span class="line">    actions,</span><br><span class="line">    getters</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h6 id="vue-admin-template当中明明使用了mapGetters-为什么不是对象的写法-而依旧是数组的写法"><a href="#vue-admin-template当中明明使用了mapGetters-为什么不是对象的写法-而依旧是数组的写法" class="headerlink" title="vue-admin-template当中明明使用了mapGetters,为什么不是对象的写法,而依旧是数组的写法"></a>vue-admin-template当中明明使用了mapGetters,为什么不是对象的写法,而依旧是数组的写法</h6><p>正常来说,你肯定会以为自vue-admin-template的getters是写在对应的模块上的,比如<code>One.js</code>的<code>getters</code>就写在<code>One.js</code>里面,<code>Two.js</code>的<code>getters</code>就写在<code>Two.js</code>里面,那你就错了~</p><p>vue-admin-template模板作者是将**每一个模块的getters都写在了主入口文件src\index.js当中!**其他模板根本就没有getters这个配置对象!</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205190844298.png" alt="每一个模块的getters都写在了主入口文件src\index.js当中!"></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//getters.js内容</span></span><br><span class="line"><span class="keyword">const</span> getters = &#123;</span><br><span class="line">  <span class="attr">sidebar</span>: <span class="function"><span class="params">state</span> =&gt;</span> state.<span class="property">app</span>.<span class="property">sidebar</span>,</span><br><span class="line">  <span class="attr">device</span>: <span class="function"><span class="params">state</span> =&gt;</span> state.<span class="property">app</span>.<span class="property">device</span>,</span><br><span class="line">  <span class="attr">token</span>: <span class="function"><span class="params">state</span> =&gt;</span> state.<span class="property">user</span>.<span class="property">token</span>,</span><br><span class="line">  <span class="attr">avatar</span>: <span class="function"><span class="params">state</span> =&gt;</span> state.<span class="property">user</span>.<span class="property">avatar</span>,</span><br><span class="line">  <span class="attr">name</span>: <span class="function"><span class="params">state</span> =&gt;</span> state.<span class="property">user</span>.<span class="property">name</span>,</span><br><span class="line">  <span class="comment">//用户角色</span></span><br><span class="line">  <span class="attr">roles</span>: <span class="function"><span class="params">state</span> =&gt;</span> state.<span class="property">user</span>.<span class="property">roles</span>,</span><br><span class="line">  <span class="comment">//最终用户可拥有的路由</span></span><br><span class="line">  <span class="attr">currentAsyncRoutes</span>: <span class="function"><span class="params">state</span> =&gt;</span> state.<span class="property">user</span>.<span class="property">currentAsyncRoutes</span>,</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> getters</span><br></pre></td></tr></table></figure><p>所以为什么vue-admin-template依旧可以使用mapGetters的数组写法而使用对象写法,<strong>因为人家getters绑定在了主入口文件index.js里面,并且这个index.js是没有开启命名空间的~</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">vue-admin-template其他文件组件使用mapGetters的方法</span><br><span class="line"><span class="attr">computed</span>: &#123;</span><br><span class="line">    ...<span class="title function_">mapGetters</span>([</span><br><span class="line">    <span class="string">&#x27;sidebar&#x27;</span>,</span><br><span class="line">    <span class="string">&#x27;currentAsyncRoutes&#x27;</span></span><br><span class="line">    ])</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="vuex其他一些要点"><a href="#vuex其他一些要点" class="headerlink" title="vuex其他一些要点"></a>vuex其他一些要点</h4><h5 id="mutations不一定要大写-之前大写的因为这些变量是常量"><a href="#mutations不一定要大写-之前大写的因为这些变量是常量" class="headerlink" title="mutations不一定要大写,之前大写的因为这些变量是常量"></a>mutations不一定要大写,之前大写的因为这些变量是常量</h5><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202207162036507.png"></p><h5 id="为什么要通过三步actions-mutations-state来修改数据"><a href="#为什么要通过三步actions-mutations-state来修改数据" class="headerlink" title="为什么要通过三步actions-mutations-state来修改数据?"></a>为什么要通过三步actions-mutations-state来修改数据?</h5><p>异步修改数据会导致数据不可控,不知道谁先完成,所以要同步</p><ul><li>mutations是同步修改数据</li><li>actions是异步请求修改数据</li><li>当是同步的时候,就可以直接修改通过mutations修改state当中的数据,就可以不通过actions来修改</li></ul><h5 id="mapState-mapActions-mapMutations位置说明"><a href="#mapState-mapActions-mapMutations位置说明" class="headerlink" title="mapState,mapActions,mapMutations位置说明"></a>mapState,mapActions,mapMutations位置说明</h5><ul><li><p><code>mapActions</code>是映射vuex当中函数的,所以写在<code>methods</code>当中(这是本质)</p></li><li><p>并且<code>mapActions</code>是一个<strong>函数</strong>,不然怎么映射对吧?<code>mapActions</code>函数需要传入一个对象,不然它怎么知道要映射什么呢?</p><ul><li><code>mapActions([&quot;xxxx&quot;])</code></li></ul></li><li><p><code>mapState</code> 外部来的数据不可能定义在data当中,data当中只可以放自己定义的,也不是通过标签属性传递过来的,所以也不会出现在<code>props</code>当中,所以只能出现在<strong>watch当中</strong></p></li><li><p><del>现在watch当中指明在返回哪一个数据,因为你想想看,computed在vue是怎么用的,也是需要返回一个数据</del></p></li></ul><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202207162044874.png"></p><h3 id="路由组件和非路由组件"><a href="#路由组件和非路由组件" class="headerlink" title="路由组件和非路由组件"></a>路由组件和非路由组件</h3><h4 id="基本概念"><a href="#基本概念" class="headerlink" title="基本概念"></a>基本概念</h4><ul><li><strong>非路由组件</strong>:定义在其他组件当中的,就叫非路由组件(不一定要注册在App.vue当中)</li><li>**路由组件:**定义,注册在路由当中的,就叫路由组件(路由组件的创建和其他非路由组件一样,只不过最后注册的时候不一样)</li><li>一般情况下<ul><li>非路由组件放在components文件夹当中</li><li>路由组件放在views或者pages文件夹当中</li></ul></li><li><strong>路由组件在切换的时候会被销毁,显示的时候重新创建(所以路由组件的生命周期会被重新执行)</strong></li></ul><h4 id="使用-1"><a href="#使用-1" class="headerlink" title="使用"></a>使用</h4><ul><li>安装<ul><li><strong>vue2</strong>: <code>npm install vue-router@3 --save</code></li><li><strong>vue3</strong>: <code>npm install vue-router --save</code></li></ul></li><li>src当中建立router文件夹,里面含有<strong>主入口</strong>文件<code>index.js</code></li></ul><p>index.js内容(src&#x2F;router&#x2F;index.js)</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">VueRouter</span> <span class="keyword">from</span> <span class="string">&quot;vue-router&quot;</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">use</span>(<span class="title class_">VueRouter</span>);</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Home</span> <span class="keyword">from</span> <span class="string">&quot;@/src/views/Home&quot;</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> <span class="title class_">VueRouter</span>(&#123;</span><br><span class="line">    <span class="attr">routes</span>:[</span><br><span class="line">        ...</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">path</span>:<span class="string">&quot;/home&quot;</span>,</span><br><span class="line">            <span class="attr">component</span>:<span class="title class_">Home</span></span><br><span class="line">        &#125;,</span><br><span class="line">        ....</span><br><span class="line">        <span class="comment">//重定向</span></span><br><span class="line">        <span class="comment">//浏览器输入http://localhost/就会自动跳转到http://localhost/home</span></span><br><span class="line">        <span class="comment">//&#123;</span></span><br><span class="line">        <span class="comment">//   path:&quot;/&quot;,</span></span><br><span class="line">        <span class="comment">//    redirect:&quot;/home&quot;</span></span><br><span class="line">        <span class="comment">//&#125;</span></span><br><span class="line">    ]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><ul><li><code>main.js</code>当中配置对象添加index.js暴露出的内容</li></ul><p>main.js内容(项目主入口文件)</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&#x27;vue&#x27;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">App</span> <span class="keyword">from</span> <span class="string">&#x27;./App.vue&#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> router <span class="keyword">from</span> <span class="string">&quot;@/router&quot;</span></span><br><span class="line"></span><br><span class="line"><span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span><br><span class="line">  <span class="attr">render</span>: <span class="function"><span class="params">h</span> =&gt;</span> <span class="title function_">h</span>(<span class="title class_">App</span>),</span><br><span class="line">  router,</span><br><span class="line">&#125;).$mount(<span class="string">&#x27;#app&#x27;</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li><strong>别忘记了在<code>App.vue</code>添加<code>&lt;router-view&gt;&lt;/router-view&gt;</code>哦,不然你就算创建了路由没有设置这个也没有用~</strong></li></ul><p>App.vue内容</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">router-view</span>&gt;</span><span class="tag">&lt;/<span class="name">router-view</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="attr">name</span>: <span class="string">&#x27;App&#x27;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">&#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>Home.vue内容(src&#x2F;views&#x2F;Home.vue)</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span>我是Home<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="attr">name</span>: <span class="string">&#x27;Home&#x27;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">&#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>地址栏输入<code>xxxx/home就会显示</code></p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205182100618.png"></p><h4 id="二级路由-三级路由-四级路由-n级路由"><a href="#二级路由-三级路由-四级路由-n级路由" class="headerlink" title="二级路由,三级路由,四级路由,,,n级路由"></a>二级路由,三级路由,四级路由,,,n级路由</h4><p>关键在于配置对象当中<code>children:[]</code>,</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">routes</span>:[</span><br><span class="line">	<span class="comment">//一级路由</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="attr">path</span>:<span class="string">&quot;/home&quot;</span>,</span><br><span class="line">		<span class="attr">component</span>:<span class="title class_">Home</span>,</span><br><span class="line">		<span class="comment">//二级路由</span></span><br><span class="line">		<span class="attr">children</span>:[</span><br><span class="line">			&#123;</span><br><span class="line">				<span class="comment">// path:&quot;/home/messsage&quot;或者下面这一行</span></span><br><span class="line">				<span class="attr">path</span>:<span class="string">&quot;message&quot;</span>,<span class="comment">//注意: 不需要再写 &#x27;/&#x27;</span></span><br><span class="line">                <span class="attr">component</span>:<span class="title class_">Message</span>,</span><br><span class="line">                <span class="comment">//三级路由</span></span><br><span class="line">                <span class="attr">children</span>:[</span><br><span class="line">                    &#123;</span><br><span class="line">                        <span class="comment">// path:&quot;/home/messsage/info&quot;或者下面这一行</span></span><br><span class="line">                        <span class="attr">path</span>:<span class="string">&quot;info&quot;</span>,</span><br><span class="line">                        <span class="attr">component</span>:<span class="title class_">Info</span></span><br><span class="line">                    &#125;</span><br><span class="line">                ]</span><br><span class="line">			&#125;</span><br><span class="line">		]</span><br><span class="line">	&#125;,</span><br><span class="line">	&#123;</span><br><span class="line">		<span class="attr">path</span>:<span class="string">&quot;/about&quot;</span>,</span><br><span class="line">		<span class="attr">component</span>:<span class="title class_">About</span></span><br><span class="line">	&#125;,</span><br><span class="line"></span><br><span class="line">	<span class="comment">//重定向,默认路由</span></span><br><span class="line">	&#123;</span><br><span class="line">		<span class="attr">path</span>:<span class="string">&quot;/&quot;</span>,</span><br><span class="line">		<span class="attr">redirect</span>:<span class="string">&quot;/home&quot;</span></span><br><span class="line">	&#125;</span><br><span class="line">]</span><br></pre></td></tr></table></figure><h4 id="路由链接和路由切换标签-就是单击后切换路由组件和显示路由组件"><a href="#路由链接和路由切换标签-就是单击后切换路由组件和显示路由组件" class="headerlink" title="路由链接和路由切换标签(就是单击后切换路由组件和显示路由组件)"></a>路由链接和路由切换标签(就是单击后切换路由组件和显示路由组件)</h4><p><code>&lt;router-link to=&quot;切换的路由路径&quot;&gt;文本&lt;/router-link&gt;</code>用户点击的链接,经过vue编译后会生成一个超链接,会跳转到<code>to</code>内容</p><p><strong>例子:</strong> 单击标签就会跳转到<code>/food</code>路由</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//路由表</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">VueRouter</span> <span class="keyword">from</span> <span class="string">&quot;vue-router&quot;</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">use</span>(<span class="title class_">VueRouter</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Home</span> <span class="keyword">from</span> <span class="string">&quot;@/views/Home&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Food</span> <span class="keyword">from</span> <span class="string">&quot;@/views/Food&quot;</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> <span class="title class_">VueRouter</span>(&#123;</span><br><span class="line">    <span class="attr">routes</span>:[</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">path</span>:<span class="string">&quot;/home&quot;</span>,</span><br><span class="line">            <span class="attr">component</span>:<span class="title class_">Home</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">path</span>:<span class="string">&quot;/&quot;</span>,</span><br><span class="line">            <span class="attr">redirect</span>:<span class="string">&quot;/home&quot;</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">path</span>:<span class="string">&quot;/food&quot;</span>,</span><br><span class="line">            <span class="comment">// component:() =&gt; import(&quot;@/views/Food&quot;),</span></span><br><span class="line">            <span class="attr">component</span>:<span class="title class_">Food</span></span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//Home.vue</span></span><br><span class="line"></span><br><span class="line">&lt;template&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">h1</span>&gt;</span>我是Home<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">router-link</span> <span class="attr">to</span>=<span class="string">&quot;/food&quot;</span>&gt;</span>用户点击的链接 <span class="tag">&lt;/<span class="name">router-link</span>&gt;</span> </span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">  </span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">//Food.vue</span></span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">template</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">h1</span>&gt;</span>我是Food<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  </span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">template</span>&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="attr">name</span>: <span class="string">&#x27;Food&#x27;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">&#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="声明式导航和编程式导航"><a href="#声明式导航和编程式导航" class="headerlink" title="声明式导航和编程式导航"></a>声明式导航和编程式导航</h4><ul><li><p><strong>声明式导航:</strong> <code>&lt;router-link to=&quot;路径&quot;&gt;&lt;/router-link&gt;</code></p></li><li><p><strong>编程式导航:</strong> 运用<code>this.$router.push</code> 或者 <code>this.$router.replace</code>等实现跳转</p></li><li><p>声明式导航占用资源多,编程式导航占用资源少,所以推荐使用编程式导航</p></li><li><p><strong>this.$router代表路由器 - 我理解为统一管理路由的管理者</strong></p><ul><li><p>router是VueRouter的一个对象，通过Vue.use(VueRouter)和VueRouter构造函数得到一个router的实例对象，这个对象中是一个全局的对象，<strong>他(this.$router)包含了所有的路由和包含了许多关键的对象和属性</strong>。</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205182130028.png" alt="输出this.$router"></p></li><li><p><code>this.$router</code>一些常见的方法</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="number">1.</span> <span class="variable language_">this</span>.<span class="property">$router</span>.<span class="title function_">push</span>(path): 相当于点击路由链接(可以返回到当前路由界面)</span><br><span class="line"><span class="number">2.</span> <span class="variable language_">this</span>.<span class="property">$router</span>.<span class="title function_">replace</span>(path): 用新路由替换当前路由(不可以返回到当前路由界面)</span><br><span class="line"><span class="number">3.</span> <span class="variable language_">this</span>.<span class="property">$router</span>.<span class="title function_">back</span>(): 请求(返回)上一个记录路由</span><br><span class="line"><span class="number">4.</span> <span class="variable language_">this</span>.<span class="property">$router</span>.<span class="title function_">go</span>(-<span class="number">1</span>): 请求(返回)上一个记录路由</span><br><span class="line"><span class="number">5.</span> <span class="variable language_">this</span>.<span class="property">$router</span>.<span class="title function_">go</span>(<span class="number">1</span>): 请求下一个记录路由</span><br></pre></td></tr></table></figure></li></ul></li><li><p><strong>this.$route代表当前路由对象</strong></p><ul><li><p><code>$route</code>是当前激活的路由,包含了当前激活的路由状态信息,它包含了当前URL解析得到的信息.</p></li><li><p>在<code>http://localhost/home</code>下输出<code>this.$route</code></p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205182131472.png" alt="输出this.$route"></p></li></ul></li></ul><h5 id="使用编程式导航"><a href="#使用编程式导航" class="headerlink" title="使用编程式导航"></a>使用编程式导航</h5><ul><li>示例如下</li></ul><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">&lt;div&gt;</span><br><span class="line">   <span class="language-xml"><span class="tag">&lt;<span class="name">h1</span>&gt;</span>我是Home<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line">   <span class="language-xml"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;$router.push(&#x27;/food&#x27;)&quot;</span>&gt;</span>跳转到food<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line">&lt;/div&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">//等同于</span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">   <span class="tag">&lt;<span class="name">h1</span>&gt;</span>我是Home<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">   <span class="tag">&lt;<span class="name">router-link</span> <span class="attr">to</span>=<span class="string">&quot;/food&quot;</span>&gt;</span>跳转到food<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br></pre></td></tr></table></figure><h4 id="路由传参props和query和params"><a href="#路由传参props和query和params" class="headerlink" title="路由传参props和query和params"></a>路由传参props和query和params</h4><ul><li>在不同路由当中,可以存储一定的参数信息,比如下面这张图,就可以看到<code>/home</code>这个路由对象里面有很多参数,我们这里关注<code>query</code>和<code>params</code></li></ul><p>控制台输出this.$route,如下图</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205182131472.png" alt="输出this.$route"></p><h5 id="query方式传参"><a href="#query方式传参" class="headerlink" title="query方式传参"></a>query方式传参</h5><ol><li><p>直接在路径后面接上去,就如同发送ajax请求的时候后面携带的?aa&#x3D;bb&amp;cc&#x3D;dd一样</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//比如声明式导航跳转到/home的时候带了参数</span></span><br><span class="line">&lt;router-link :to=<span class="string">&quot;`/home/message/msgdetail?id=$&#123;ms.id&#125;&amp;msg=$&#123;ms.msg&#125;`&quot;</span>&gt;&#123;&#123;ms.<span class="property">msg</span>&#125;&#125;&lt;/router-link&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">router-link</span> <span class="attr">to</span>=<span class="string">&quot;/food?name=茄子&amp;weight=1&quot;</span>&gt;</span>跳转到food并且携带query参数<span class="tag">&lt;/<span class="name">router-link</span>&gt;</span></span></span><br><span class="line"><span class="comment">//编程式导航</span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;$router.push(&#x27;/food?name=茄子&amp;weight=1&#x27;)&quot;</span>&gt;</span>跳转到food并且携带query参<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br></pre></td></tr></table></figure></li><li><p>使用对象的形式传递query参数</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//声明式导航</span></span><br><span class="line">&lt;router-link :to=<span class="string">&quot;&#123;path:&#x27;/food&#x27;,query:&#123;name:&#x27;茄子&#x27;,weight:1&#125;&#125;&quot;</span>&gt;跳转到food并且携带query参数&lt;/router-link&gt;</span><br><span class="line"><span class="comment">//编程式导航</span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;$router.push(&#123;path:&#x27;/food&#x27;,query:&#123;name:&#x27;茄子&#x27;,weight:1&#125;&#125;)&quot;</span>&gt;</span>跳转到food并且携带query参数<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br></pre></td></tr></table></figure></li></ol><p>携带query参数后打印输出<code>food</code>的<code>this.$route</code></p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205182149645.png" alt="携带query参数后打印输出`food`的`this.$route`"></p><h5 id="params方式传参"><a href="#params方式传参" class="headerlink" title="params方式传参"></a>params方式传参</h5><p><strong>重要,重要!很重要!</strong></p><blockquote><p>必须要在路由当中提前占位,否者就是跳转到别的路由了!!!!!!!!!!!!!!!!!!!!!!!!!!!</p></blockquote><blockquote><p>特别注意：路由携带<a target="_blank" rel="noopener" href="https://so.csdn.net/so/search?q=params&spm=1001.2101.3001.7020">params</a>参数时，若使用to的对象写法，则不能使用path配置项，必须使用name配置！</p></blockquote><blockquote><p>path: “&#x2F;food&#x2F;:foodname&#x2F;:foodweight”,如果这样子填写了,后面访问这个路由就必须要添加这二个参数,比如&#x2F;food&#x2F;vegetable&#x2F;1</p><p>不可以少写也不可以漏写,否者访问不了参数</p><p>如果需要想写想不写,就可以在占位后面添加一个”?”,比如path: “&#x2F;food&#x2F;:foodname?&#x2F;:foodweight?”就代表这二个参数可写可不写,输入&#x2F;food&#x2F;vegetable或者&#x2F;food或者&#x2F;food&#x2F;vegetable&#x2F;1都可以跳转到指定路由</p></blockquote><p><strong>路由占位和name配置</strong></p><p>占位格式: <code>:key值</code></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">Home</span> <span class="keyword">from</span> <span class="string">&quot;@/views/Home&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Food</span> <span class="keyword">from</span> <span class="string">&quot;@/views/Food&quot;</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> <span class="title class_">VueRouter</span>(&#123;</span><br><span class="line">    <span class="attr">routes</span>:[</span><br><span class="line">        ...</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="comment">//使用params参数必须要写name,不可以使用path了!!!!</span></span><br><span class="line">            <span class="attr">name</span>:<span class="string">&quot;food&quot;</span>,</span><br><span class="line">            <span class="comment">//路由占位</span></span><br><span class="line">            <span class="comment">//对应路由组件的this.$route当中params对象的key值</span></span><br><span class="line">            <span class="attr">path</span>:<span class="string">&quot;/food/:foodname/:foodweight&quot;</span>,</span><br><span class="line">            <span class="attr">component</span>:<span class="title class_">Food</span>,</span><br><span class="line">        &#125;</span><br><span class="line">        ...</span><br><span class="line">    ]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><ol><li><p>格式就类似于<code>/food/茄子/1</code>这种</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 声明式导航</span></span><br><span class="line">&lt;router-link to=<span class="string">&quot;/food/qiezi/1/&quot;</span>&gt;跳转到food并且携带params参数&lt;/router-link&gt;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 编程式导航  注意这里是通过name跳转,使用了params传参,就必须要用name进行跳转</span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;$router.push(&#123;name:&#x27;food&#x27;,params:&#123;foodname:&#x27;qiezi&#x27;,foodweight:1&#125;&#125;)&quot;</span>&gt;</span>跳转到food并且携带params参数<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br></pre></td></tr></table></figure></li></ol><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205182206798.png" alt="携带params参数后打印输出`food`的`this.$route`"></p><h5 id="路由当中的meta"><a href="#路由当中的meta" class="headerlink" title="路由当中的meta"></a>路由当中的meta</h5><p>我们可以看到,输出<code>this.$route</code>的时候,除了可以看到<code>query</code>和 <code>params</code>这二个经常使用的对象,还可以看到<code>meta</code>这个对象</p><ul><li>作用如下</li></ul><blockquote><p>给每个路由添加一个自定义的meta对象，在meta对象中可以设置一些状态，来进行一些操作。经常用它来做登录校验</p></blockquote><p><strong>设置meta直接在注册路由组件的时候设置</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">VueRouter</span> <span class="keyword">from</span> <span class="string">&quot;vue-router&quot;</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">use</span>(<span class="title class_">VueRouter</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Home</span> <span class="keyword">from</span> <span class="string">&quot;@/views/Home&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Food</span> <span class="keyword">from</span> <span class="string">&quot;@/views/Food&quot;</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="keyword">new</span> <span class="title class_">VueRouter</span>(&#123;</span><br><span class="line">    <span class="attr">routes</span>:[</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">name</span>:<span class="string">&quot;food&quot;</span>,</span><br><span class="line">            <span class="attr">path</span>:<span class="string">&quot;/food/:foodname/:foodweight&quot;</span>,</span><br><span class="line">            <span class="attr">component</span>:<span class="title class_">Food</span>,</span><br><span class="line">            <span class="comment">//使用meta</span></span><br><span class="line">            <span class="attr">meta</span>:&#123;</span><br><span class="line">                <span class="attr">isShow</span>:<span class="literal">true</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p><strong>后面想要读取也很简单,就在当前路由组件输出<code>this.$route.meta</code>即可获取</strong></p><h4 id="路由props配置对象的配置"><a href="#路由props配置对象的配置" class="headerlink" title="路由props配置对象的配置"></a>路由props配置对象的配置</h4><p>使用路由props配置对象,可以使得组件可以更加方便的接收参数</p><h5 id="props配置对象传入一个对象-死数据"><a href="#props配置对象传入一个对象-死数据" class="headerlink" title="props配置对象传入一个对象(死数据)"></a>props配置对象传入一个对象(死数据)</h5><ul><li>只能映射传递额外的静态的数据,一般不用</li></ul><p><strong>src\index.js配置</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">VueRouter</span> <span class="keyword">from</span> <span class="string">&quot;vue-router&quot;</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">use</span>(<span class="title class_">VueRouter</span>);</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Food</span> <span class="keyword">from</span> <span class="string">&quot;@/views/Food&quot;</span></span><br><span class="line"><span class="keyword">const</span> router = <span class="keyword">new</span> <span class="title class_">VueRouter</span>(&#123;</span><br><span class="line">    <span class="attr">routes</span>: [</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">name</span>: <span class="string">&quot;food&quot;</span>,</span><br><span class="line">            <span class="attr">path</span>:<span class="string">&quot;/food&quot;</span>,</span><br><span class="line">            <span class="attr">component</span>: <span class="title class_">Food</span>,</span><br><span class="line">            <span class="comment">//props为一个对象</span></span><br><span class="line">            <span class="attr">props</span>:&#123;</span><br><span class="line">                <span class="attr">name</span>:<span class="string">&quot;李白&quot;</span>,</span><br><span class="line">                <span class="attr">sex</span>:<span class="string">&quot;男&quot;</span>,</span><br><span class="line">                <span class="attr">age</span>:<span class="string">&#x27;100&#x27;</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;);</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> router;</span><br></pre></td></tr></table></figure><p><strong>Food.vue接收</strong></p><p>对象当中有什么字段,Food.vue就使用props配置对象接收什么字段</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>我是Food<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="attr">name</span>: <span class="string">&quot;Food&quot;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="comment">//接收路由src\index.js为food配置的props参数</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="attr">props</span>:[<span class="string">&quot;name&quot;</span>,<span class="string">&quot;sex&quot;</span>,<span class="string">&quot;age&quot;</span>],</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">&#125;;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure><h5 id="props配置对象传入一个布尔值"><a href="#props配置对象传入一个布尔值" class="headerlink" title="props配置对象传入一个布尔值"></a>props配置对象传入一个布尔值</h5><ul><li><p>把路径<code>params</code>参数映射为要显示的组件内属性</p></li><li><p>布尔值为true，<strong>则把路由收到的所有params参数通过props传给对应组件</strong></p></li></ul><p><strong>src\index.js配置</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">VueRouter</span> <span class="keyword">from</span> <span class="string">&quot;vue-router&quot;</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">use</span>(<span class="title class_">VueRouter</span>);</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Food</span> <span class="keyword">from</span> <span class="string">&quot;@/views/Food&quot;</span></span><br><span class="line"><span class="keyword">const</span> router = <span class="keyword">new</span> <span class="title class_">VueRouter</span>(&#123;</span><br><span class="line">    <span class="attr">routes</span>: [</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">name</span>: <span class="string">&quot;food&quot;</span>,</span><br><span class="line">            <span class="attr">path</span>: <span class="string">&quot;/food/:foodname?/:foodweight?&quot;</span>,</span><br><span class="line">            <span class="attr">component</span>: <span class="title class_">Food</span>,</span><br><span class="line">            <span class="comment">//props为一个布尔值,且为true</span></span><br><span class="line">            <span class="attr">props</span>:<span class="literal">true</span></span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;);</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> router;</span><br></pre></td></tr></table></figure><p><strong>Food.vue接收</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>我是Food<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="attr">name</span>: <span class="string">&quot;Food&quot;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="comment">//接收food当中的params参数</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="comment">//字段必须要为路由当中占位的字段一样!!!</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="attr">props</span>:[<span class="string">&quot;foodname&quot;</span>,<span class="string">&quot;foodweight&quot;</span>],</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">&#125;;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure><h5 id="props配置对象传入一个函数"><a href="#props配置对象传入一个函数" class="headerlink" title="props配置对象传入一个函数"></a>props配置对象传入一个函数</h5><ul><li>自己手动映射<code>params</code>参数和<code>query</code>参数</li><li>该函数返回的对象中的每一组key-value都会通过props传给对应组件</li></ul><p><strong>src\index.js配置</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">Vue</span> <span class="keyword">from</span> <span class="string">&quot;vue&quot;</span></span><br><span class="line"><span class="keyword">import</span> <span class="title class_">VueRouter</span> <span class="keyword">from</span> <span class="string">&quot;vue-router&quot;</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">use</span>(<span class="title class_">VueRouter</span>);</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">Food</span> <span class="keyword">from</span> <span class="string">&quot;@/views/Food&quot;</span></span><br><span class="line"><span class="keyword">const</span> router = <span class="keyword">new</span> <span class="title class_">VueRouter</span>(&#123;</span><br><span class="line">    <span class="attr">routes</span>: [</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">name</span>: <span class="string">&quot;food&quot;</span>,</span><br><span class="line">            <span class="attr">path</span>: <span class="string">&quot;/food/:foodname?/:foodweight?&quot;</span>,</span><br><span class="line">            <span class="attr">component</span>: <span class="title class_">Food</span>,</span><br><span class="line">            <span class="comment">//props为一个布尔值,且为true</span></span><br><span class="line">            <span class="comment">//$route为默认传入的一个参数(名字可以随意,这里取名$route)</span></span><br><span class="line">            <span class="comment">//之所以取这个是因为这个参数代表着当前路由组件</span></span><br><span class="line">            <span class="comment">//this.$route === $route</span></span><br><span class="line">            <span class="attr">props</span>:($route)&#123;</span><br><span class="line">            	<span class="keyword">return</span> &#123;</span><br><span class="line">                    <span class="string">&#x27;蔬菜名称&#x27;</span>:$route.<span class="property">params</span>.<span class="property">foodname</span>,</span><br><span class="line">                    <span class="string">&#x27;蔬菜重量&#x27;</span>:$route.<span class="property">params</span>.<span class="property">foodweight</span>,</span><br><span class="line">                    <span class="string">&#x27;谁吃&#x27;</span>:$route.<span class="property">query</span>.<span class="property">user</span></span><br><span class="line">                &#125;</span><br><span class="line">	        &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;);</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> router;</span><br></pre></td></tr></table></figure><p><strong>Food.vue接收</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">h1</span>&gt;</span>我是Food<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="attr">name</span>: <span class="string">&quot;Food&quot;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="comment">//字段必须要为路由当中返回的字段名称一样!!!</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="attr">props</span>:[<span class="string">&quot;蔬菜名称&quot;</span>,<span class="string">&quot;蔬菜重量&quot;</span>,<span class="string">&quot;谁吃&quot;</span>],</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">&#125;;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure><blockquote><p>浏览器访问<a target="_blank" rel="noopener" href="http://localhost:8080/#/food/vegetable/1005?user=%E6%9D%8E%E7%99%BD">http://localhost:8080/#/food/vegetable/1005?user=李白</a></p></blockquote><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205190939051.png" alt="浏览器访问后"></p><p>其他</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205190940088.png" alt="其他"></p><h4 id="导航守卫"><a href="#导航守卫" class="headerlink" title="导航守卫"></a>导航守卫</h4><ul><li><p><strong>全局前置守卫beforeEach</strong>:</p><ul><li>为什么是单词是<code>Each</code>,那是因为全局前置守卫需要对来往的每一个路由进行过滤,所以就是单词<code>Each</code></li><li>进入任意一个路由前,必须要经过全局前置守卫(进入学校,需要经过保安审批~)</li></ul></li><li><p><strong>全局解析守卫beforeResolve</strong></p></li><li><p><strong>全局后置钩子afterEach</strong></p></li><li><p><strong>路由独享守卫beforeEnter</strong></p></li><li><p><strong>组件内的守卫(不经常使用)</strong></p><ul><li><code>beforeRouteEnter</code></li><li><code>beforeRouteUpdate</code></li><li><code>beforeRouteLeave</code></li></ul></li></ul><h5 id="全局前置守卫"><a href="#全局前置守卫" class="headerlink" title="全局前置守卫"></a>全局前置守卫</h5><p>要使用全局前置守卫,我们就需要使用到由VueRouter通过new生成的实例化对象,所以需要改改<code>store\index.js</code>,其他不用动</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">store\index.<span class="property">js</span></span><br><span class="line"><span class="comment">//本来是</span></span><br><span class="line"><span class="comment">//export default new VueRouter(&#123;...&#125;);</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//需要改为</span></span><br><span class="line"><span class="keyword">const</span> router =  <span class="keyword">new</span> <span class="title class_">VueRouter</span>(&#123;...&#125;);</span><br><span class="line"><span class="comment">//全局前置守卫</span></span><br><span class="line">router.<span class="title function_">beforeEach</span>(<span class="function">(<span class="params">to,<span class="keyword">from</span>,next</span>)=&gt;</span>&#123;</span><br><span class="line">    ...</span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> router;</span><br></pre></td></tr></table></figure><p><strong>beforeEach回调参数</strong></p><ul><li><strong>to:</strong> 是要去的某一个路由对象信息(目的地)</li><li>**from:**是来自的哪里的信息(起始点)</li><li><strong>next</strong>控制跳转<ul><li>中断当前路由next(false);</li><li>跳转到指定路由next(“&#x2F;“) 或者 next({path:”&#x2F;“}),会导致再次执行beforeEach进行判断</li><li>next();放行,不会再次经过beforeEach</li><li><a href="https://www.dreamlove.top/fce322fe.html">next()和next(“&#x2F;“)等其他next的区别可以看看这个文章</a></li></ul></li></ul><p><strong>beforEach例子</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line">router.<span class="title function_">beforeEach</span>(<span class="function">(<span class="params">to, <span class="keyword">from</span>, next</span>) =&gt;</span> &#123;</span><br><span class="line">    <span class="comment">//从sessionStorage获取token</span></span><br><span class="line">    <span class="keyword">let</span> token = <span class="variable language_">sessionStorage</span>.<span class="title function_">getItem</span>(<span class="string">&#x27;token&#x27;</span>);</span><br><span class="line">    <span class="comment">//如果目的地址不为&#x27;/login&#x27;并且token不存在</span></span><br><span class="line">    <span class="keyword">if</span> (to.<span class="property">path</span> != <span class="string">&#x27;/login&#x27;</span> &amp;&amp; !token) &#123;</span><br><span class="line">        <span class="comment">//跳转到&#x27;/login&#x27;</span></span><br><span class="line">        <span class="title function_">next</span>(&#123;</span><br><span class="line">            <span class="attr">path</span>: <span class="string">&#x27;/login&#x27;</span></span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//目的地址为&#x27;/login&#x27;并且token存在</span></span><br><span class="line">    <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="comment">//如果目的地址为&#x27;/login&#x27;并且token存在</span></span><br><span class="line">        <span class="keyword">if</span> (to.<span class="property">path</span> == <span class="string">&#x27;/login&#x27;</span> &amp;&amp; token) &#123;</span><br><span class="line">            <span class="comment">//跳转到&#x27;/dashboard&#x27;</span></span><br><span class="line">            <span class="title function_">next</span>(<span class="string">&#x27;/dashboard&#x27;</span>)</span><br><span class="line">        &#125; </span><br><span class="line">        <span class="comment">//目的地址不为为&#x27;/login&#x27;并且token存在</span></span><br><span class="line">        <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="title function_">next</span>()</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h5 id="路由独享守卫"><a href="#路由独享守卫" class="headerlink" title="路由独享守卫"></a>路由独享守卫</h5><p>前面的是全局前置守卫(也就是大老板router),这个是路由独享守卫,也就是属性每一个路由组件的,在进入路由组件之前进行判断是否符合条件,符合条件才让你走</p><p><strong>注意:</strong></p><p>beforeEnter 守卫 只在进入路由时触发，不会在 params、query 或 hash 改变时触发。例如，从 <code>/users/2</code> 进入到 <code>/users/3</code> 或者从 <code>/users/2#info</code> 进入到 <code>/users/2#projects</code>是不会触发的,它们只有在 <strong>从一个不同的 路由导航时，才会被触发</strong>。</p><p><strong>基本使用</strong></p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> router = <span class="keyword">new</span> <span class="title class_">VueRouter</span>(&#123;</span><br><span class="line">    <span class="attr">routes</span>: [</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">path</span>: <span class="string">&quot;/home/:id?&quot;</span>,</span><br><span class="line">            <span class="attr">component</span>: <span class="title class_">Home</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">path</span>: <span class="string">&quot;/&quot;</span>,</span><br><span class="line">            <span class="attr">redirect</span>: <span class="string">&quot;/home&quot;</span></span><br><span class="line">        &#125;,</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">name</span>: <span class="string">&quot;food&quot;</span>,</span><br><span class="line">            <span class="attr">path</span>: <span class="string">&quot;/food/:foodname?/:foodweight?&quot;</span>,</span><br><span class="line">            <span class="attr">component</span>: <span class="title class_">Food</span>,</span><br><span class="line">            <span class="attr">meta</span>: &#123;</span><br><span class="line">                <span class="attr">isShow</span>: <span class="literal">true</span></span><br><span class="line">            &#125;,</span><br><span class="line">            <span class="comment">//从http://localhost:8080/#/home?q=libai到http://localhost:8080/#/food</span></span><br><span class="line">            <span class="comment">//会自动帮我们分离参数到对应的路由对象当中,比如这个携带了query,就帮我们把参数写到了query对象里面,并且to.path依旧为/home</span></span><br><span class="line">            <span class="comment">//从http://localhost:8080/#/home/100到http://localhost:8080/#/food</span></span><br><span class="line">            <span class="comment">//params依旧也会分离参数到params对象里面,不过to.path不会改变,依旧为/home/100</span></span><br><span class="line">            <span class="attr">beforeEnter</span>:<span class="function">(<span class="params">to,<span class="keyword">from</span>,next</span>)=&gt;</span>&#123;</span><br><span class="line">				<span class="keyword">if</span>(<span class="keyword">from</span>.<span class="property">path</span> === <span class="string">&#x27;/home&#x27;</span>)&#123;</span><br><span class="line">                    <span class="title function_">next</span>();<span class="comment">//放行</span></span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span>&#123;</span><br><span class="line">                    <span class="title function_">next</span>(<span class="string">&quot;/home&quot;</span>);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h5 id="注意点"><a href="#注意点" class="headerlink" title="注意点"></a>注意点</h5><p><strong>query参数</strong>携带在路径后面不会影响到to.path或者from.path</p><p><strong>params参数</strong>携带在路径后面会影响到to.path或者from.path</p><figure class="highlight javascript"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">从<span class="attr">http</span>:<span class="comment">//localhost:8080/#/home?q=libai到http://localhost:8080/#/food</span></span><br><span class="line">会自动帮我们分离参数到对应的路由对象当中,比如这个携带了query,就帮我们把参数写到了query对象里面,并且to.<span class="property">path</span>依旧为/home</span><br><span class="line">从<span class="attr">http</span>:<span class="comment">//localhost:8080/#/home/100到http://localhost:8080/#/food</span></span><br><span class="line">params依旧也会分离参数到params对象里面,不过to.<span class="property">path</span>不会改变,依旧为/home/<span class="number">100</span></span><br></pre></td></tr></table></figure><p>其他</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205182207217.png" alt="路由组件和非路由组件的最大区别"></p><h3 id="生命周期钩子"><a href="#生命周期钩子" class="headerlink" title="生命周期钩子"></a>生命周期钩子</h3><ul><li><p>生命周期,就是组件从创建到销毁期间会自动执行的函数</p></li><li><p>钩子函数</p><ul><li>在生命周期的过程中我们又很多特殊的时间段,我们希望在这些特殊的时间段对vue做一些事情,所以出现了钩子函数</li><li>钩子函数就是作者在设计vue的时候,在vue从初始化到销毁这段时间内的特定时间段给我们一些定义函数的权利</li><li>如果我们定义了钩子函数,就会执行,不定义就不会执行</li></ul></li><li><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/weixin_42881768/article/details/105747563">这个大佬绘制的图</a></p></li></ul><p><strong>图</strong></p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205191017822.png" alt="大佬绘制的图"></p><h4 id="大佬说的太好了-我自己总结下自己"><a href="#大佬说的太好了-我自己总结下自己" class="headerlink" title="大佬说的太好了,我自己总结下自己~"></a>大佬说的太好了,我自己总结下自己~</h4><ul><li><p><code>data,methods,计算属性,event/watch事件回调</code>在<code>created</code>的时候就已经完成了初始化,但是dom树没有完成</p></li><li><p>然后到了<code>beforeMount</code> 这里的dom树并不是真实的dom,而是虚拟的(所以你获取节点返回的是undefined)</p><ul><li>比如this.$refs.a ;&#x2F;&#x2F;返回undefined</li></ul></li><li><p>然后到了<code>mounted</code>这里的dom已经生成,可以获取到dom节点了,可以对dom进行操作了</p><ul><li><strong>mounted 不会保证所有的子组件也都一起被挂载。如果你希望等到整个视图都渲染完毕，可以在 mounted 内部使用 vm.$nextTick</strong></li><li><del>发送请求获取数据在<code>mounted</code>生命周期当中发送,<a target="_blank" rel="noopener" href="https://www.bilibili.com/read/cv14696847">具体可以看看这篇文章</a></del></li><li><del>理解可能有误,删除-至于为什么需要在<code>mounted</code>当中发送,而不再<code>created</code>发送,这个博主总结的很好,<code>created</code>的时候,虽然数据和事件依旧完成了初始化操作,但是假如因为网络延迟发送的数据直到<code>mounted</code>生命周期完成后(也就是DOM生成后)才获取到,那么有什么意义呢(<strong>相当于我建房子的时候你没给我砖块,我建完了你才给我砖块去填充,没意义啊</strong>)</del></li><li>到底在哪里发送请求获取数据看了很多,说应该放在created当中,因为此时dom还没有渲染完成,这个时候发送数据就可以获取到数据用于构建dom,而说应该放mounted的说放在created当中会造成数据没有放回造成白屏,然后created的人又反驳说请求是异步的,怎么会白屏…还有人说created会产生分支,而mounted不会</li></ul><p>分支</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">//放在created</span><br><span class="line">created =&gt; API请求 =&gt; 获取数据 =&gt; 组件重新渲染</span><br><span class="line"></span><br><span class="line">           =&gt; mounted =&gt; 组件首次渲染</span><br><span class="line">//放在mounted</span><br><span class="line">created =&gt; mounted =&gt;  组件首次渲染 =&gt; API请求 =&gt; 获取到数据 =&gt; 组件重新渲染</span><br><span class="line"></span><br></pre></td></tr></table></figure></li></ul><h4 id="再次学习总结"><a href="#再次学习总结" class="headerlink" title="再次学习总结"></a>再次学习总结</h4><ul><li>我们知道,vue2的生命周期全部如下,我们重点关注前四个</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line">beforeCreate 创建前</span><br><span class="line">created	创建后</span><br><span class="line">beforeMounted 挂载前</span><br><span class="line">mounted 挂载后</span><br><span class="line"></span><br><span class="line">beforeUpdate 更新前</span><br><span class="line">updated 更新后</span><br><span class="line">beforeDestroy 销毁前</span><br><span class="line">destroy 销毁后</span><br></pre></td></tr></table></figure><h5 id="beforeCreate-创建前"><a href="#beforeCreate-创建前" class="headerlink" title="beforeCreate 创建前"></a>beforeCreate 创建前</h5><ul><li>刚执行new的操作,其他什么都没有做</li></ul><h5 id="created-创建后"><a href="#created-创建后" class="headerlink" title="created 创建后"></a>created 创建后</h5><ul><li>此时<strong>属性</strong>和<strong>方法</strong>都绑定在了实例身上,但是依旧获取不到DOM</li></ul><h5 id="beforeMount-挂载前"><a href="#beforeMount-挂载前" class="headerlink" title="beforeMount 挂载前"></a>beforeMount 挂载前</h5><ul><li>数据还没有进行替换操作<ul><li>也就是<code>&#123;&#123; title &#125;&#125;</code> 没有被替换为data当中的数据</li></ul></li><li>虚拟DOM存在了(但是注意,这是虚拟的DOM,所以不可以对节点进行操作)<ul><li>所以你获取节点返回的是undefined</li></ul></li></ul><h5 id="mounted-挂载后"><a href="#mounted-挂载后" class="headerlink" title="mounted 挂载后"></a>mounted 挂载后</h5><ul><li>数据已经完成了替换操作<ul><li>也就是<code>&#123;&#123;title &#125;&#125;</code> 被替换为data当中的数据了</li></ul></li><li>虚拟DOM被替换为了真实的DOM(可以对节点进行DOM操作了)<ul><li>所以你获取节点返回的是节点信息了</li></ul></li></ul><h3 id="vue自定义指令"><a href="#vue自定义指令" class="headerlink" title="vue自定义指令"></a>vue自定义指令</h3><h4 id="自定义全局指令"><a href="#自定义全局指令" class="headerlink" title="自定义全局指令"></a>自定义全局指令</h4><ul><li><code>Vue.directive(&quot;指令名称&quot;,回调函数)</code></li><li>指令名称只能小写</li><li>回调函数包含二个参数<ul><li>参数1: 为绑定指令的节点</li><li>参数2 :为绑定指令的节点的相关信息</li></ul></li></ul><p>示例,实现小写转化为大小</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">&lt;!<span class="variable constant_">DOCTYPE</span> html&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>自定义指令<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">p</span> <span class="attr">v-text</span>=<span class="string">&quot;msg&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">p</span> <span class="attr">v-upper</span>=<span class="string">&quot;msg&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.bootcdn.net/ajax/libs/vue/2.7.6/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="comment">//自定义全局指令</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="title class_">Vue</span>.<span class="title function_">directive</span>(<span class="string">&quot;upper&quot;</span>, <span class="keyword">function</span> (<span class="params">el, bindings</span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        el.<span class="property">textContent</span> = bindings.<span class="property">value</span>.<span class="title function_">toUpperCase</span>();</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      &#125;);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="attr">el</span>: <span class="string">&quot;#app&quot;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="attr">data</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="attr">msg</span>: <span class="string">&quot;i love you~ zhao li ying~&quot;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      &#125;);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure><p>如图,输出回调函数的二个参数</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="title class_">Vue</span>.<span class="title function_">directive</span>(<span class="string">&quot;upper&quot;</span>,<span class="keyword">function</span>(<span class="params">el,bindings</span>)&#123;</span><br><span class="line">	<span class="variable language_">console</span>.<span class="title function_">log</span>(el,bindings);</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202207181058691.png"></p><h4 id="自定义局部指令"><a href="#自定义局部指令" class="headerlink" title="自定义局部指令"></a>自定义局部指令</h4><ul><li>和全局指令不同的是在配置对象当中设置<code>directives</code>即可</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">&lt;!<span class="variable constant_">DOCTYPE</span> html&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;<span class="name">head</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">title</span>&gt;</span>自定义指令<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">head</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;<span class="name">body</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;app&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">p</span> <span class="attr">v-text</span>=<span class="string">&quot;msg&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">p</span> <span class="attr">v-upper</span>=<span class="string">&quot;msg&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">p</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">script</span> <span class="attr">src</span>=<span class="string">&quot;https://cdn.bootcdn.net/ajax/libs/vue/2.7.6/vue.js&quot;</span>&gt;</span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="keyword">new</span> <span class="title class_">Vue</span>(&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="attr">el</span>: <span class="string">&quot;#app&quot;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="attr">data</span>: &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="attr">msg</span>: <span class="string">&quot;i love you~ zhao li ying~&quot;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="comment">// 自定义局部指令</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        <span class="attr">directives</span>:&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          <span class="title function_">upper</span>(<span class="params">el,bindings</span>)&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">            el.<span class="property">textContent</span> = bindings.<span class="property">value</span>.<span class="title function_">toUpperCase</span>();</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">          &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">        &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      &#125;);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">body</span>&gt;</span></span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="vue自定义过滤器"><a href="#vue自定义过滤器" class="headerlink" title="vue自定义过滤器"></a>vue自定义过滤器</h3><p>示例效果图 上面为过滤前,下面为过滤后</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202207181108534.png"></p><h4 id="自定义全局过滤器"><a href="#自定义全局过滤器" class="headerlink" title="自定义全局过滤器"></a>自定义全局过滤器</h4><ul><li>通过<code>Vue.filter(&quot;自定义名称&quot;,回调函数)</code></li><li>自定义名称可以驼峰也可以全小写</li><li>回调函数传入一个参数为过滤器前的值,通过<code>return</code>返回一个新值完成过滤</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line">&lt;!<span class="variable constant_">DOCTYPE</span> html&gt;</span><br><span class="line">&lt;html lang=&quot;en&quot;&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">  &lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">  &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;</span><br><span class="line">  &lt;title&gt;Document&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">  &lt;div id=&quot;app&quot;&gt;</span><br><span class="line">    &lt;!-- 原始格式 --&gt;</span><br><span class="line">    &lt;p&gt;&#123;&#123;timeNow&#125;&#125;&lt;/p&gt;</span><br><span class="line">    &lt;!-- 经过过滤器 --&gt;</span><br><span class="line">    &lt;p&gt;&#123;&#123;timeNow | timeFormat&#125;&#125;&lt;/p&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">  &lt;script src=&quot;https://cdn.bootcdn.net/ajax/libs/vue/2.7.6/vue.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">  &lt;script src=&quot;https://cdn.bootcdn.net/ajax/libs/moment.js/2.29.1/moment.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">  &lt;script&gt;</span><br><span class="line"></span><br><span class="line">    //定义全局过滤器</span><br><span class="line">    Vue.filter(&quot;timeFormat&quot;,function(value)&#123;</span><br><span class="line">        //传入毫秒数对其格式化后再返回</span><br><span class="line">        return moment(value).format(&quot;YYYY-MM-DD hh:mm:ss&quot;);</span><br><span class="line">    &#125;); </span><br><span class="line"></span><br><span class="line">    //vue当中的过滤器可以理解成是为了让数据进一步的计算，得到最终的结果</span><br><span class="line">    new Vue(&#123;</span><br><span class="line">      el:&#x27;#app&#x27;,</span><br><span class="line">      data:&#123;</span><br><span class="line">        timeNow:Date.now()//当前时间 1970年1月1日0时分0秒到现在的毫秒数</span><br><span class="line">      &#125;,</span><br><span class="line"></span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">  &lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><h4 id="自定义局部过滤器"><a href="#自定义局部过滤器" class="headerlink" title="自定义局部过滤器"></a>自定义局部过滤器</h4><ul><li>注意别漏掉了<code>s</code></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line">&lt;!<span class="variable constant_">DOCTYPE</span> html&gt;</span><br><span class="line">&lt;html lang=&quot;en&quot;&gt;</span><br><span class="line">&lt;head&gt;</span><br><span class="line">  &lt;meta charset=&quot;UTF-8&quot;&gt;</span><br><span class="line">  &lt;meta name=&quot;viewport&quot; content=&quot;width=device-width, initial-scale=1.0&quot;&gt;</span><br><span class="line">  &lt;title&gt;Document&lt;/title&gt;</span><br><span class="line">&lt;/head&gt;</span><br><span class="line">&lt;body&gt;</span><br><span class="line">  &lt;div id=&quot;app&quot;&gt;</span><br><span class="line">    &lt;!-- 原始格式 --&gt;</span><br><span class="line">    &lt;p&gt;&#123;&#123;timeNow&#125;&#125;&lt;/p&gt;</span><br><span class="line">    &lt;!-- 经过过滤器 --&gt;</span><br><span class="line">    &lt;p&gt;&#123;&#123;timeNow | timeFormat&#125;&#125;&lt;/p&gt;</span><br><span class="line">  &lt;/div&gt;</span><br><span class="line">  &lt;script src=&quot;https://cdn.bootcdn.net/ajax/libs/vue/2.7.6/vue.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">  &lt;script src=&quot;https://cdn.bootcdn.net/ajax/libs/moment.js/2.29.1/moment.js&quot;&gt;&lt;/script&gt;</span><br><span class="line">  &lt;script&gt;</span><br><span class="line">    //vue当中的过滤器可以理解成是为了让数据进一步的计算，得到最终的结果</span><br><span class="line">    new Vue(&#123;</span><br><span class="line">      el:&#x27;#app&#x27;,</span><br><span class="line">      data:&#123;</span><br><span class="line">        timeNow:Date.now()//当前时间 1970年1月1日0时分0秒到现在的毫秒数</span><br><span class="line">      &#125;,</span><br><span class="line">      filters:&#123;</span><br><span class="line">        timeFormat(value)&#123;</span><br><span class="line">            return moment(value).format(&quot;YYYY-MM-DD hh:mm:ss&quot;);</span><br><span class="line">        &#125;</span><br><span class="line">      &#125;</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">  &lt;/script&gt;</span><br><span class="line">&lt;/body&gt;</span><br><span class="line">&lt;/html&gt;</span><br></pre></td></tr></table></figure><h3 id="mixin混入的基本使用"><a href="#mixin混入的基本使用" class="headerlink" title="mixin混入的基本使用"></a>mixin混入的基本使用</h3><ul><li><p><a target="_blank" rel="noopener" href="https://cn.vuejs.org/v2/guide/mixins.html">@官方API</a>:混入 (mixin) 提供了一种非常灵活的方式，来分发 Vue 组件中的可复用功能。一个混入对象可以包含任意组件选项。当组件使用混入对象时，所有混入对象的选项将被“混合”进入该组件本身的选项。</p></li><li><p>说通俗点就是混入就是将别人的东东变为自己的东东,这里的混入只说一些基本的使用</p></li><li><p>先来看示例吧</p></li></ul><p><strong>mixin&#x2F;test.js</strong>文件的代码</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> mixins = &#123;</span><br><span class="line">  <span class="title function_">data</span>(<span class="params"></span>)&#123;</span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">      <span class="attr">sex</span>:<span class="string">&quot;男&quot;</span>,</span><br><span class="line">      <span class="attr">age</span>:<span class="string">&quot;18&quot;</span>,</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;,</span><br><span class="line">  <span class="attr">methods</span>:&#123;</span><br><span class="line">    <span class="title function_">sayHello</span>(<span class="params"></span>)&#123;</span><br><span class="line">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;你好,世界&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">  &#125;</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> mixins;</span><br></pre></td></tr></table></figure><p><strong>App.vue</strong></p><p>使用mixin&#x2F;test.js的混入</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line">&lt;template&gt;</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">div</span>&gt;</span>姓名:&#123;&#123;name&#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">div</span>&gt;</span>年龄:&#123;&#123;sex&#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">div</span>&gt;</span>性别:&#123;&#123;age&#125;&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;sayHello&quot;</span>&gt;</span>单击我 - 说hello<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">button</span> @<span class="attr">click</span>=<span class="string">&quot;sayThankyou&quot;</span>&gt;</span>单击我 - 说谢谢<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">&lt;/template&gt;</span><br><span class="line"></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="comment">// 引入混入</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">import</span> myMixin <span class="keyword">from</span> <span class="string">&quot;@/mixin/test&quot;</span>;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="attr">name</span>: <span class="string">&quot;&quot;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="comment">//使用混入</span></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="attr">mixins</span>:[myMixin],</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="title function_">data</span>(<span class="params"></span>) &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="keyword">return</span> &#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="attr">name</span>:<span class="string">&quot;李白&quot;</span>,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;,</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  <span class="attr">methods</span>:&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    <span class="title function_">sayThankyou</span>(<span class="params"></span>)&#123;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">      <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&quot;谢谢你&quot;</span>);</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">    &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">  &#125;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml">&#125;;</span></span></span><br><span class="line"><span class="language-javascript"><span class="language-xml"></span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span></span><br></pre></td></tr></table></figure><p>功能测试是否正常,可以看到,可以正常显示和调用函数</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202208041520230.jpg"></p><ul><li>当然了,还有很多情况,比如说混入的时候,当<code>mixin/test.js</code>里面的数据或者方法和<code>App.vue</code>当中的数据或者方法冲突的时候要怎么解决之类的,具体看官网吧~ <a target="_blank" rel="noopener" href="https://cn.vuejs.org/v2/guide/mixins.html">@官网</a></li></ul><h3 id="其他一些问题"><a href="#其他一些问题" class="headerlink" title="其他一些问题"></a>其他一些问题</h3><h4 id="v-for为什么要用key"><a href="#v-for为什么要用key" class="headerlink" title="v.for为什么要用key"></a>v.for为什么要用key</h4><p>简单点说就是可以在后期dom发生变化的时候准确识别元素并更新,<a target="_blank" rel="noopener" href="https://www.cnblogs.com/mmsmd/p/15214100.html">具体可以看看这位博主写的</a></p><h4 id="Vue-component第一个参数命名规则"><a href="#Vue-component第一个参数命名规则" class="headerlink" title="Vue.component第一个参数命名规则"></a>Vue.component第一个参数命名规则</h4><ul><li><p>说通俗点就是,使用Vue.componet有多个单词,注册和使用都使用短横线!!!</p></li><li><p>组件命名方式：驼峰式，短横线</p></li><li><p><strong>注册组件</strong>使用<strong>驼峰式命名</strong>时,使用的时候必须要使用<strong>短横线</strong>对驼峰进行分割</p></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=<span class="string">&quot;app&quot;</span>&gt;</span><br><span class="line">        <span class="language-xml"><span class="tag">&lt;<span class="name">shop-center</span>&gt;</span><span class="tag">&lt;/<span class="name">shop-center</span>&gt;</span></span></span><br><span class="line">        &lt;!-- <span class="language-xml"><span class="tag">&lt;<span class="name">shopCenter</span>&gt;</span><span class="tag">&lt;/<span class="name">shopCenter</span>&gt;</span></span> 错误的 --&gt;</span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">Vue.component(&quot;shopCenter&quot;,&#123;</span></span><br><span class="line"><span class="language-xml">	template:`</span></span><br><span class="line"><span class="language-xml">		<span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">			<span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">				<span class="tag">&lt;<span class="name">slot</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">					<span class="tag">&lt;<span class="name">img</span> <span class="attr">src</span>=<span class="string">&quot;https://www.dreamlove.top/img/favicon.png&quot;</span>/&gt;</span></span></span><br><span class="line"><span class="language-xml">				<span class="tag">&lt;/<span class="name">slot</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">			<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">			<span class="tag">&lt;<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">				<span class="tag">&lt;<span class="name">slot</span> <span class="attr">name</span>=<span class="string">&quot;detail&quot;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">					<span class="tag">&lt;<span class="name">h1</span>&gt;</span>手机名称<span class="tag">&lt;/<span class="name">h1</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">					<span class="tag">&lt;<span class="name">h2</span> <span class="attr">style</span>=<span class="string">&quot;color:gray&quot;</span>&gt;</span>手机价格<span class="tag">&lt;/<span class="name">h2</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">				<span class="tag">&lt;/<span class="name">slot</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">			<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">		 <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">	`,</span></span><br><span class="line"><span class="language-xml"></span></span><br><span class="line"><span class="language-xml">&#125;);</span></span><br></pre></td></tr></table></figure><ul><li><strong>注册组件</strong>使用<strong>短横命名</strong>时,使用的时候必须要使用<strong>短横线</strong></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line">&lt;div id=<span class="string">&quot;app&quot;</span>&gt;</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">shop-center</span>&gt;</span><span class="tag">&lt;/<span class="name">shop-center</span>&gt;</span></span></span><br><span class="line">&lt;!-- <span class="language-xml"><span class="tag">&lt;<span class="name">shopCenter</span>&gt;</span><span class="tag">&lt;/<span class="name">shopCenter</span>&gt;</span></span> 错误的 --&gt;</span><br><span class="line">&lt;/div&gt;</span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">component</span>(<span class="string">&quot;shop-center&quot;</span>,&#123;</span><br><span class="line">	<span class="attr">template</span>:<span class="string">`</span></span><br><span class="line"><span class="string">		&lt;div&gt;</span></span><br><span class="line"><span class="string">			&lt;div&gt;</span></span><br><span class="line"><span class="string">				&lt;slot&gt;</span></span><br><span class="line"><span class="string">					&lt;img src=&quot;https://www.dreamlove.top/img/favicon.png&quot;/&gt;</span></span><br><span class="line"><span class="string">				&lt;/slot&gt;</span></span><br><span class="line"><span class="string">			&lt;/div&gt;</span></span><br><span class="line"><span class="string">			&lt;div&gt;</span></span><br><span class="line"><span class="string">				&lt;slot name=&quot;detail&quot;&gt;</span></span><br><span class="line"><span class="string">					&lt;h1&gt;手机名称&lt;/h1&gt;</span></span><br><span class="line"><span class="string">					&lt;h2 style=&quot;color:gray&quot;&gt;手机价格&lt;/h2&gt;</span></span><br><span class="line"><span class="string">				&lt;/slot&gt;</span></span><br><span class="line"><span class="string">			&lt;/div&gt;</span></span><br><span class="line"><span class="string">		 &lt;/div&gt;</span></span><br><span class="line"><span class="string">	`</span>,</span><br><span class="line"></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><ul><li>驼峰和短横</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//驼峰式</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">component</span>(<span class="string">&#x27;myComponent&#x27;</span>,&#123;</span><br><span class="line">	<span class="attr">template</span>:<span class="string">&#x27;&lt;h4&gt;组件命名&lt;/h4&gt;&#x27;</span></span><br><span class="line">&#125;);</span><br><span class="line"><span class="comment">//短横线</span></span><br><span class="line"><span class="title class_">Vue</span>.<span class="title function_">component</span>(<span class="string">&#x27;my-component1&#x27;</span>,&#123;</span><br><span class="line">	<span class="attr">template</span>:<span class="string">&#x27;&lt;h4&gt;组件命名&lt;/h4&gt;&#x27;</span></span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h4 id="方法-和computed-watch的区别"><a href="#方法-和computed-watch的区别" class="headerlink" title="方法,和computed,watch的区别"></a>方法,和computed,watch的区别</h4><ul><li>方法<ul><li>页面每次重新渲染都会重新执行,性能消耗大,除非不希望有缓存的时候用</li></ul></li><li>computed<ul><li>是计算属性,依赖其他属性来计算值,并且computed的值具有缓存,只有当依赖的其他属性发生变化的时候才会重新计算</li></ul></li><li>watch<ul><li>监听到值的变化就会执行回调,在回调中可以进行一些逻辑操作</li></ul></li><li>总结<ul><li>除非不希望有数据缓存,否者都不会用方法</li><li>一般来说需要依赖别的数据来动态获取值的时候可以使用computed</li><li>对于监听来说,需要做异步操作或开销比较大的时候可以用watch</li></ul></li><li>为什么computed不能异步操作?而watch却可以?</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line"> <span class="attr">computed</span>:&#123;</span><br><span class="line">     <span class="title function_">totalMoney</span>(<span class="params"></span>)&#123;</span><br><span class="line">         <span class="built_in">setTimeout</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">             <span class="comment">//这个return的是内部的,不是外部的,所以不能异步操作</span></span><br><span class="line">             <span class="keyword">return</span> <span class="number">100</span>;</span><br><span class="line">         &#125;,<span class="number">1000</span>)</span><br><span class="line">     &#125;</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>watch却可以</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> &#123;</span><br><span class="line"> <span class="attr">watch</span>:&#123;</span><br><span class="line">     <span class="attr">arr</span>:&#123;</span><br><span class="line">         <span class="title function_">handle</span>(<span class="params"></span>)&#123;</span><br><span class="line">             <span class="built_in">setTimeout</span>(<span class="function">()=&gt;</span>&#123;</span><br><span class="line">                 <span class="comment">//更新数据</span></span><br><span class="line">                 <span class="variable language_">this</span>.<span class="property">totalMoney</span> = <span class="number">1000</span>;</span><br><span class="line">             &#125;,<span class="number">1000</span>)</span><br><span class="line">         &#125;,</span><br><span class="line">         <span class="attr">deel</span>:<span class="literal">true</span>,</span><br><span class="line">         <span class="attr">immediate</span>:<span class="literal">true</span>,</span><br><span class="line">     &#125;</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h4 id="数据代理"><a href="#数据代理" class="headerlink" title="数据代理"></a>数据代理</h4><ul><li>什么是数据代理<ul><li>就是通过vm(vue的实例化对象来直接操作data当中的数据),而不用通过<code>this._data</code>来修改数据</li><li>比如data当中有一个name属性,那么如果没有数据代理的话,我们需要操作就需要通过<code>this._data.name</code>属性来获取和修改</li><li>微信小程序就是没有实现数据代理,每次我们读取里面的data,都需要通过<code>this.data</code>来进行读取</li><li>这样子就简化了我们的操作</li></ul></li><li>数据代理的原理是什么<ul><li>原理就是通过<code>defineProperty</code>来给vm(vue实例对象)身上添加data当中所有的属性</li><li>并设置<code>getter</code> 和 <code>setter</code></li><li>当获取的时候就调用<code>getter</code>方法</li><li>当修改的时候就调用<code>setter</code>方法</li></ul></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">data</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> &#123;</span><br><span class="line">    <span class="attr">name</span>: <span class="string">&quot;李白&quot;</span>,</span><br><span class="line">    <span class="attr">age</span>: <span class="string">&quot;18&quot;</span>,</span><br><span class="line">    <span class="attr">sex</span>: <span class="string">&quot;男&quot;</span>,</span><br><span class="line">  &#125;;</span><br><span class="line">&#125;,</span><br><span class="line"><span class="title function_">created</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="variable language_">this</span>);</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><p>输出查看this,可以看到,this里面有name,age,sex这些属性</p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202207172107928.png"></p></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="https://www.dreamlove.top">梦洁</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a href="https://www.dreamlove.top/cd8d332b.html">https://www.dreamlove.top/cd8d332b.html</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://www.dreamlove.top" target="_blank">梦洁小站-属于你我的小天地</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/vue/">vue</a><a class="post-meta__tags" href="/tags/HTML/">HTML</a><a class="post-meta__tags" href="/tags/javscript/">javscript</a></div><div class="post_share"><div class="social-share" data-image="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205221120658.jpg" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://lib.baomitu.com/butterfly-extsrc/1.1.3/sharejs/dist/css/share.min.css" media="print" onload='this.media="all"'><script src="https://lib.baomitu.com/butterfly-extsrc/1.1.3/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/cb27eea3.html" title="移动端前端的适配和rem,vm其他的一些的复习"><img class="cover" src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205242024668.jpg" onerror='onerror=null,src="/img/404.png"' alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">移动端前端的适配和rem,vm其他的一些的复习</div></div></a></div><div class="next-post pull-right"><a href="/be7ed336.html" title="vue后台的一个项目遇到的一些问题和解决办法的记录"><img class="cover" src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205212046971.jpg" onerror='onerror=null,src="/img/404.png"' alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">vue后台的一个项目遇到的一些问题和解决办法的记录</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="/75bf0d7.html" title="webpack构建工具的学习"><img class="cover" src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205291452280.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-05-28</div><div class="title">webpack构建工具的学习</div></div></a></div><div><a href="/e031a88b.html" title="前端面试可能会问到的知识点记录"><img class="cover" src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202207181536689.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-07-18</div><div class="title">前端面试可能会问到的知识点记录</div></div></a></div><div><a href="/7429306f.html" title="js正则匹配获取分组和正向反向的区别"><img class="cover" src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/20220228215037.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-11-13</div><div class="title">js正则匹配获取分组和正向反向的区别</div></div></a></div><div><a href="/be489729.html" title="navigator.clipboard.readtext开发的时候有用,编译后测试却不生效"><img class="cover" src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202210190919962.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-10-19</div><div class="title">navigator.clipboard.readtext开发的时候有用,编译后测试却不生效</div></div></a></div><div><a href="/cb27eea3.html" title="移动端前端的适配和rem,vm其他的一些的复习"><img class="cover" src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205242024668.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-05-23</div><div class="title">移动端前端的适配和rem,vm其他的一些的复习</div></div></a></div><div><a href="/a816b0a1.html" title="深入自定义事件和原生DOM事件($attr等)"><img class="cover" src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205061952720.jpg" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2022-05-06</div><div class="title">深入自定义事件和原生DOM事件($attr等)</div></div></a></div></div></div><hr class="custom-hr"><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div></div><div class="comment-wrap"><div><div id="artalk-wrap"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="https://oss.ypggb.com/i/2025/07/01/pk26bw.png" onerror='this.onerror=null,this.src="/img/404.png"' alt="avatar"></div><div class="author-info__name">梦洁</div><div class="author-info__description">小小的字,有大大的梦想~分享我的前端学习过程,经历,错误,和一些其他折腾过程</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">182</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">101</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">73</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/superBiuBiuMan"><i class="fab fa-github"></i><span>关注下我(*￣▽￣*)</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="mailto:zmqdream@qq.com" target="_blank" title="Email"><i class="fas fa-envelope" style="color:#4a7dbe"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">不断更新中,有问题请留言回复(会通过邮箱提醒~)</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-3"><a class="toc-link" href="#Vue%E7%9A%84MVVM%E6%A8%A1%E5%9E%8B"><span class="toc-number">1.</span> <span class="toc-text">Vue的MVVM模型</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%9F%A5%E9%81%93%E4%BB%80%E4%B9%88%E6%98%AFMVVM"><span class="toc-number">1.1.</span> <span class="toc-text">知道什么是MVVM</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#MVVM%E7%9A%84%E5%85%B3%E7%B3%BB"><span class="toc-number">1.2.</span> <span class="toc-text">MVVM的关系</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#MVVM%E4%BC%98%E7%82%B9"><span class="toc-number">1.3.</span> <span class="toc-text">MVVM优点</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%81%87%E5%A6%82%E9%9D%A2%E8%AF%95%E9%97%AE%E5%88%B0%E6%88%91%E8%AF%B4%E8%AF%B4%E7%9C%8BMVVM-%E6%88%91%E5%8F%AF%E8%83%BD%E4%BC%9A%E8%BF%99%E6%A0%B7%E5%AD%90%E5%9B%9E%E7%AD%94"><span class="toc-number">1.4.</span> <span class="toc-text">假如面试问到我说说看MVVM,我可能会这样子回答</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Vue%E7%9A%84%E7%BB%91%E5%AE%9A%E9%94%AE%E7%9B%98%E9%BC%A0%E6%A0%87%E6%93%8D%E4%BD%9C%E5%92%8C%E5%9C%A8%E7%BB%84%E4%BB%B6%E4%BD%BF%E7%94%A8%E4%B8%8A%E7%9A%84%E8%A6%81%E7%82%B9"><span class="toc-number">2.</span> <span class="toc-text">Vue的绑定键盘鼠标操作和在组件使用上的要点</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Vue%E7%9A%84%E4%BA%8B%E4%BB%B6%E6%93%8D%E4%BD%9C-v-on-click-%E2%80%9Dxxx%E2%80%9D%E6%88%96-click"><span class="toc-number">2.1.</span> <span class="toc-text">Vue的事件操作(v-on:click&#x3D;”xxx”或@click)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Vue%E7%9A%84%E6%8C%89%E9%94%AE%E6%93%8D%E4%BD%9C%E7%9A%84%E5%88%AB%E5%90%8D-%E8%BF%99%E6%A0%B7%E5%AD%90%E5%B0%B1%E4%B8%8D%E7%94%A8%E9%80%9A%E8%BF%87%E5%88%A4%E6%96%AD%E9%94%AE%E4%BB%A3%E7%A0%81%E6%9D%A5%E8%8E%B7%E5%8F%96%E7%94%A8%E6%88%B7%E6%98%AF%E5%93%AA%E4%B8%80%E4%B8%AA%E6%93%8D%E4%BD%9C%E4%BA%86"><span class="toc-number">2.2.</span> <span class="toc-text">Vue的按键操作的别名(这样子就不用通过判断键代码来获取用户是哪一个操作了)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%BB%84%E4%BB%B6%E4%BD%BF%E7%94%A8%E6%93%8D%E4%BD%9C%E6%8C%89%E9%92%AE%E6%B3%A8%E6%84%8F%E7%82%B9"><span class="toc-number">2.3.</span> <span class="toc-text">组件使用操作按钮注意点</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Vue%E7%9A%84%E6%95%B0%E6%8D%AE%E7%BB%91%E5%AE%9A%E5%93%8D%E5%BA%94%E5%BC%8F"><span class="toc-number">3.</span> <span class="toc-text">Vue的数据绑定响应式</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A6%82%E4%BD%95%E8%BF%BD%E8%B8%AA%E5%8F%98%E5%8C%96"><span class="toc-number">3.1.</span> <span class="toc-text">如何追踪变化</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E7%89%B9%E5%88%AB%E6%B3%A8%E6%84%8F"><span class="toc-number">3.2.</span> <span class="toc-text">特别注意</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%AF%B9%E4%BA%8E%E5%AF%B9%E8%B1%A1"><span class="toc-number">3.2.1.</span> <span class="toc-text">对于对象</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%AF%B9%E4%BA%8E%E6%95%B0%E7%BB%84"><span class="toc-number">3.2.2.</span> <span class="toc-text">对于数组</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#Vue%E7%BB%84%E4%BB%B6%E9%80%9A%E4%BF%A1%E7%9A%84%E5%85%AD%E7%A7%8D%E6%96%B9%E5%BC%8F"><span class="toc-number">4.</span> <span class="toc-text">Vue组件通信的六种方式</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#Props%E9%80%9A%E4%BF%A1"><span class="toc-number">4.1.</span> <span class="toc-text">Props通信</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#props%E9%80%9A%E4%BF%A1%E4%B8%BB%E8%A6%81%E6%9C%89"><span class="toc-number">4.1.1.</span> <span class="toc-text">props通信主要有</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#props%E7%9A%84%E7%B1%BB%E5%9E%8B"><span class="toc-number">4.1.2.</span> <span class="toc-text">props的类型</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#props%E9%80%9A%E4%BF%A1%E5%8F%98%E9%87%8F%E6%B3%A8%E6%84%8F%E7%82%B9"><span class="toc-number">4.1.3.</span> <span class="toc-text">props通信变量注意点</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E4%BA%8B%E4%BB%B6%E9%80%9A%E4%BF%A1"><span class="toc-number">4.2.</span> <span class="toc-text">自定义事件通信</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%9F%A5%E9%81%93%E8%87%AA%E5%AE%9A%E4%B9%89%E4%BA%8B%E4%BB%B6%E5%92%8C%E7%B3%BB%E7%BB%9F%E4%BA%8B%E4%BB%B6-%E5%8E%9F%E7%94%9F%E4%BA%8B%E4%BB%B6-%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-number">4.2.1.</span> <span class="toc-text">知道自定义事件和系统事件(原生事件)的区别</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%BB%91%E5%AE%9A%E5%92%8C%E8%A7%A6%E5%8F%91%E8%87%AA%E5%AE%9A%E4%B9%89%E4%BA%8B%E4%BB%B6"><span class="toc-number">4.2.2.</span> <span class="toc-text">绑定和触发自定义事件</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E4%BA%8B%E4%BB%B6%E5%A4%8D%E6%9D%82%E5%86%99%E6%B3%95"><span class="toc-number">4.2.2.1.</span> <span class="toc-text">自定义事件复杂写法</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E4%BA%8B%E4%BB%B6%E7%9A%84%E7%AE%80%E5%8D%95%E5%86%99%E6%B3%95"><span class="toc-number">4.2.2.2.</span> <span class="toc-text">自定义事件的简单写法</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E9%A1%BA%E5%B8%A6%E4%B8%80%E6%8F%90"><span class="toc-number">4.2.2.3.</span> <span class="toc-text">顺带一提</span></a></li></ol></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%85%A8%E5%B1%80%E4%BA%8B%E4%BB%B6%E6%80%BB%E7%BA%BF%E9%80%9A%E4%BF%A1"><span class="toc-number">4.3.</span> <span class="toc-text">全局事件总线通信</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%85%A8%E5%B1%80%E4%BA%8B%E4%BB%B6%E6%80%BB%E7%BA%BF%E4%BD%BF%E7%94%A8"><span class="toc-number">4.3.1.</span> <span class="toc-text">全局事件总线使用</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#Vue-prototype-bus-vm-%E4%B8%BA%E4%BB%80%E4%B9%88%E4%B8%8D%E8%83%BD%E7%94%A8-%E4%B8%BA%E4%BB%80%E4%B9%88%E4%B8%80%E5%AE%9A%E8%A6%81%E7%94%A8beforeCreate%E9%92%A9%E5%AD%90%E5%AE%9E%E7%8E%B0-%E5%8F%AF%E8%83%BD%E6%9C%89%E8%AF%AF"><span class="toc-number">4.3.2.</span> <span class="toc-text">Vue.prototype.$bus &#x3D; vm;为什么不能用,为什么一定要用beforeCreate钩子实现?(可能有误~)</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E9%A6%96%E5%85%88%E4%BA%86%E8%A7%A3%E4%B8%8BVue%E4%B8%8EVueComponent%E7%9A%84%E5%85%B3%E7%B3%BB"><span class="toc-number">4.3.2.1.</span> <span class="toc-text">首先了解下Vue与VueComponent的关系</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%8E%9F%E5%9B%A0%E8%A7%A3%E9%87%8A"><span class="toc-number">4.3.2.2.</span> <span class="toc-text">原因解释</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E8%87%B3%E4%BA%8E%E4%B8%BA%E4%BB%80%E4%B9%88%E6%8E%A7%E5%88%B6%E5%8F%B0console-log-%E5%8F%AF%E4%BB%A5%E8%BE%93%E5%87%BA%E6%9F%A5%E7%9C%8B%E5%88%B0"><span class="toc-number">4.3.2.3.</span> <span class="toc-text">至于为什么控制台console.log(可以输出查看到)</span></a></li></ol></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#pubsub-js%E9%80%9A%E4%BF%A1"><span class="toc-number">4.4.</span> <span class="toc-text">pubsub-js通信</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%89%8D%E7%BD%AE%E5%87%86%E5%A4%87"><span class="toc-number">4.4.1.</span> <span class="toc-text">前置准备</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E7%BB%91%E5%AE%9A%E4%BA%8B%E4%BB%B6%E7%9A%84%E5%BA%94%E7%94%A8-%E5%8F%AF%E4%BB%A5%E7%AB%8B%E5%8D%B3%E4%B8%BA%E4%B8%80%E9%A2%97%E5%AE%9A%E6%97%B6%E7%82%B8%E5%BC%B9"><span class="toc-number">4.4.2.</span> <span class="toc-text">绑定事件的应用(可以立即为一颗定时炸弹)</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%A7%A6%E5%8F%91%E4%BA%8B%E4%BB%B6-%E5%8F%AF%E4%BB%A5%E7%90%86%E8%A7%A3%E4%B8%BA%E7%82%B8%E5%BC%B9%E5%BC%95%E7%88%86%E5%99%A8-%E5%91%8A%E8%AF%89%E7%82%B8%E5%BC%B9%E6%98%AF%E5%90%A6%E5%BC%95%E7%88%86"><span class="toc-number">4.4.3.</span> <span class="toc-text">触发事件(可以理解为炸弹引爆器-告诉炸弹是否引爆)</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%B7%BB%E5%8A%A0%E8%AE%A2%E9%98%85-%E7%B1%BB%E4%BC%BC%E4%BA%8E-on"><span class="toc-number">4.4.4.</span> <span class="toc-text">添加订阅(类似于$on)</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%8F%91%E5%B8%83%E8%AE%A2%E9%98%85-%E7%B1%BB%E4%BC%BC%E4%BA%8E-emit"><span class="toc-number">4.4.5.</span> <span class="toc-text">发布订阅(类似于$emit)</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%95%88%E6%9E%9C"><span class="toc-number">4.4.6.</span> <span class="toc-text">效果</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8F%92%E6%A7%BD"><span class="toc-number">4.5.</span> <span class="toc-text">插槽</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E9%BB%98%E8%AE%A4%E6%8F%92%E6%A7%BD"><span class="toc-number">4.5.1.</span> <span class="toc-text">默认插槽</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%85%B7%E5%90%8D%E6%8F%92%E6%A7%BD"><span class="toc-number">4.5.2.</span> <span class="toc-text">具名插槽</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BD%9C%E7%94%A8%E5%9F%9F%E6%8F%92%E6%A7%BD"><span class="toc-number">4.5.3.</span> <span class="toc-text">作用域插槽</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#vuex-%E4%B8%8D%E4%BD%BF%E7%94%A8%E6%A8%A1%E5%9D%97%E5%8C%96"><span class="toc-number">4.6.</span> <span class="toc-text">vuex(不使用模块化)</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%AE%89%E8%A3%85"><span class="toc-number">4.6.1.</span> <span class="toc-text">安装</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8"><span class="toc-number">4.6.2.</span> <span class="toc-text">使用</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%AF%A6%E7%BB%86%E9%85%8D%E7%BD%AE%E5%AF%B9%E8%B1%A1%E5%8F%82%E6%95%B0"><span class="toc-number">4.6.3.</span> <span class="toc-text">详细配置对象参数</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E7%A4%BA%E4%BE%8B1-%E4%B8%8D%E4%BD%BF%E7%94%A8%E6%A8%A1%E5%9D%97%E5%8C%96"><span class="toc-number">4.6.4.</span> <span class="toc-text">使用示例1(不使用模块化)</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#vuex-%E4%BD%BF%E7%94%A8%E6%A8%A1%E5%9D%97%E5%8C%96"><span class="toc-number">4.7.</span> <span class="toc-text">vuex(使用模块化)</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E6%A8%A1%E5%9D%97%E5%8C%96%E4%B9%8B%E5%89%8D%E8%BE%93%E5%87%BAthis-store"><span class="toc-number">4.7.0.1.</span> <span class="toc-text">模块化之前输出this.$store</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E6%A8%A1%E5%9D%97%E5%8C%96%E4%B9%8B%E5%90%8E%E8%BE%93%E5%87%BAthis-store"><span class="toc-number">4.7.0.2.</span> <span class="toc-text">模块化之后输出this.$store</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E6%A8%A1%E5%9D%97%E5%8C%96%E9%9C%80%E8%A6%81%E6%B3%A8%E6%84%8F%E7%9A%84%E7%82%B9"><span class="toc-number">4.7.0.3.</span> <span class="toc-text">模块化需要注意的点</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E5%91%BD%E5%90%8D%E7%A9%BA%E9%97%B4-%E9%92%88%E5%AF%B9%E6%A8%A1%E5%9D%97%E5%8C%96"><span class="toc-number">4.7.0.4.</span> <span class="toc-text">使用命名空间(针对模块化)</span></a></li></ol></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#vuex%E4%BD%BF%E7%94%A8mapState%E5%92%8CmapGetters"><span class="toc-number">4.8.</span> <span class="toc-text">vuex使用mapState和mapGetters</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8mapState-%E4%B8%8D%E4%BD%BF%E7%94%A8%E6%A8%A1%E5%9D%97%E5%8C%96%E4%B8%8B"><span class="toc-number">4.8.1.</span> <span class="toc-text">使用mapState(不使用模块化下)</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E7%BB%93%E5%90%88%E5%AF%B9%E8%B1%A1%E5%B1%95%E5%BC%80%E7%AC%A6-%E4%B8%8D%E4%BD%BF%E7%94%A8%E6%A8%A1%E5%9D%97%E5%8C%96%E4%B8%8B-%E5%B8%B8%E7%94%A8"><span class="toc-number">4.8.1.1.</span> <span class="toc-text">结合对象展开符-不使用模块化下(常用)</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8mapState-%E4%BD%BF%E7%94%A8%E6%A8%A1%E5%9D%97%E5%8C%96%E4%B8%8B"><span class="toc-number">4.8.2.</span> <span class="toc-text">使用mapState(使用模块化下)</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E7%BB%93%E5%90%88%E5%AF%B9%E8%B1%A1%E5%B1%95%E5%BC%80%E7%AC%A6-%E4%BD%BF%E7%94%A8%E6%A8%A1%E5%9D%97%E5%8C%96%E4%B8%8B-%E5%B8%B8%E7%94%A8"><span class="toc-number">4.8.2.1.</span> <span class="toc-text">结合对象展开符-使用模块化下(常用)</span></a></li></ol></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8mapGetters"><span class="toc-number">4.8.3.</span> <span class="toc-text">使用mapGetters</span></a><ol class="toc-child"><li class="toc-item toc-level-6"><a class="toc-link" href="#%E5%85%88%E6%9D%A5%E4%BA%86%E8%A7%A3%E4%B8%8Bgetters"><span class="toc-number">4.8.3.1.</span> <span class="toc-text">先来了解下getters</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8mapGetters-%E7%94%A8%E4%B8%8D%E7%94%A8%E6%A8%A1%E5%9D%97%E9%83%BD%E6%98%AF%E8%BF%99%E4%B8%AA"><span class="toc-number">4.8.3.2.</span> <span class="toc-text">使用mapGetters(用不用模块都是这个)</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8mapGetters%E5%A6%82%E6%9E%9C%E5%9C%A8%E5%91%BD%E5%90%8D%E7%A9%BA%E9%97%B4%E4%B8%8B%E8%A6%81%E6%80%8E%E4%B9%88%E4%BD%BF%E7%94%A8mapGetters"><span class="toc-number">4.8.3.3.</span> <span class="toc-text">使用mapGetters如果在命名空间下要怎么使用mapGetters</span></a></li><li class="toc-item toc-level-6"><a class="toc-link" href="#vue-admin-template%E5%BD%93%E4%B8%AD%E6%98%8E%E6%98%8E%E4%BD%BF%E7%94%A8%E4%BA%86mapGetters-%E4%B8%BA%E4%BB%80%E4%B9%88%E4%B8%8D%E6%98%AF%E5%AF%B9%E8%B1%A1%E7%9A%84%E5%86%99%E6%B3%95-%E8%80%8C%E4%BE%9D%E6%97%A7%E6%98%AF%E6%95%B0%E7%BB%84%E7%9A%84%E5%86%99%E6%B3%95"><span class="toc-number">4.8.3.4.</span> <span class="toc-text">vue-admin-template当中明明使用了mapGetters,为什么不是对象的写法,而依旧是数组的写法</span></a></li></ol></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#vuex%E5%85%B6%E4%BB%96%E4%B8%80%E4%BA%9B%E8%A6%81%E7%82%B9"><span class="toc-number">4.9.</span> <span class="toc-text">vuex其他一些要点</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#mutations%E4%B8%8D%E4%B8%80%E5%AE%9A%E8%A6%81%E5%A4%A7%E5%86%99-%E4%B9%8B%E5%89%8D%E5%A4%A7%E5%86%99%E7%9A%84%E5%9B%A0%E4%B8%BA%E8%BF%99%E4%BA%9B%E5%8F%98%E9%87%8F%E6%98%AF%E5%B8%B8%E9%87%8F"><span class="toc-number">4.9.1.</span> <span class="toc-text">mutations不一定要大写,之前大写的因为这些变量是常量</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E9%80%9A%E8%BF%87%E4%B8%89%E6%AD%A5actions-mutations-state%E6%9D%A5%E4%BF%AE%E6%94%B9%E6%95%B0%E6%8D%AE"><span class="toc-number">4.9.2.</span> <span class="toc-text">为什么要通过三步actions-mutations-state来修改数据?</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#mapState-mapActions-mapMutations%E4%BD%8D%E7%BD%AE%E8%AF%B4%E6%98%8E"><span class="toc-number">4.9.3.</span> <span class="toc-text">mapState,mapActions,mapMutations位置说明</span></a></li></ol></li></ol><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%B7%AF%E7%94%B1%E7%BB%84%E4%BB%B6%E5%92%8C%E9%9D%9E%E8%B7%AF%E7%94%B1%E7%BB%84%E4%BB%B6"><span class="toc-number">5.</span> <span class="toc-text">路由组件和非路由组件</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%9F%BA%E6%9C%AC%E6%A6%82%E5%BF%B5"><span class="toc-number">5.1.</span> <span class="toc-text">基本概念</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8-1"><span class="toc-number">5.2.</span> <span class="toc-text">使用</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E4%BA%8C%E7%BA%A7%E8%B7%AF%E7%94%B1-%E4%B8%89%E7%BA%A7%E8%B7%AF%E7%94%B1-%E5%9B%9B%E7%BA%A7%E8%B7%AF%E7%94%B1-n%E7%BA%A7%E8%B7%AF%E7%94%B1"><span class="toc-number">5.3.</span> <span class="toc-text">二级路由,三级路由,四级路由,,,n级路由</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%B7%AF%E7%94%B1%E9%93%BE%E6%8E%A5%E5%92%8C%E8%B7%AF%E7%94%B1%E5%88%87%E6%8D%A2%E6%A0%87%E7%AD%BE-%E5%B0%B1%E6%98%AF%E5%8D%95%E5%87%BB%E5%90%8E%E5%88%87%E6%8D%A2%E8%B7%AF%E7%94%B1%E7%BB%84%E4%BB%B6%E5%92%8C%E6%98%BE%E7%A4%BA%E8%B7%AF%E7%94%B1%E7%BB%84%E4%BB%B6"><span class="toc-number">5.4.</span> <span class="toc-text">路由链接和路由切换标签(就是单击后切换路由组件和显示路由组件)</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A3%B0%E6%98%8E%E5%BC%8F%E5%AF%BC%E8%88%AA%E5%92%8C%E7%BC%96%E7%A8%8B%E5%BC%8F%E5%AF%BC%E8%88%AA"><span class="toc-number">5.5.</span> <span class="toc-text">声明式导航和编程式导航</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8%E7%BC%96%E7%A8%8B%E5%BC%8F%E5%AF%BC%E8%88%AA"><span class="toc-number">5.5.1.</span> <span class="toc-text">使用编程式导航</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%B7%AF%E7%94%B1%E4%BC%A0%E5%8F%82props%E5%92%8Cquery%E5%92%8Cparams"><span class="toc-number">5.6.</span> <span class="toc-text">路由传参props和query和params</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#query%E6%96%B9%E5%BC%8F%E4%BC%A0%E5%8F%82"><span class="toc-number">5.6.1.</span> <span class="toc-text">query方式传参</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#params%E6%96%B9%E5%BC%8F%E4%BC%A0%E5%8F%82"><span class="toc-number">5.6.2.</span> <span class="toc-text">params方式传参</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%B7%AF%E7%94%B1%E5%BD%93%E4%B8%AD%E7%9A%84meta"><span class="toc-number">5.6.3.</span> <span class="toc-text">路由当中的meta</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%B7%AF%E7%94%B1props%E9%85%8D%E7%BD%AE%E5%AF%B9%E8%B1%A1%E7%9A%84%E9%85%8D%E7%BD%AE"><span class="toc-number">5.7.</span> <span class="toc-text">路由props配置对象的配置</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#props%E9%85%8D%E7%BD%AE%E5%AF%B9%E8%B1%A1%E4%BC%A0%E5%85%A5%E4%B8%80%E4%B8%AA%E5%AF%B9%E8%B1%A1-%E6%AD%BB%E6%95%B0%E6%8D%AE"><span class="toc-number">5.7.1.</span> <span class="toc-text">props配置对象传入一个对象(死数据)</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#props%E9%85%8D%E7%BD%AE%E5%AF%B9%E8%B1%A1%E4%BC%A0%E5%85%A5%E4%B8%80%E4%B8%AA%E5%B8%83%E5%B0%94%E5%80%BC"><span class="toc-number">5.7.2.</span> <span class="toc-text">props配置对象传入一个布尔值</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#props%E9%85%8D%E7%BD%AE%E5%AF%B9%E8%B1%A1%E4%BC%A0%E5%85%A5%E4%B8%80%E4%B8%AA%E5%87%BD%E6%95%B0"><span class="toc-number">5.7.3.</span> <span class="toc-text">props配置对象传入一个函数</span></a></li></ol></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%AF%BC%E8%88%AA%E5%AE%88%E5%8D%AB"><span class="toc-number">5.8.</span> <span class="toc-text">导航守卫</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#%E5%85%A8%E5%B1%80%E5%89%8D%E7%BD%AE%E5%AE%88%E5%8D%AB"><span class="toc-number">5.8.1.</span> <span class="toc-text">全局前置守卫</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E8%B7%AF%E7%94%B1%E7%8B%AC%E4%BA%AB%E5%AE%88%E5%8D%AB"><span class="toc-number">5.8.2.</span> <span class="toc-text">路由独享守卫</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#%E6%B3%A8%E6%84%8F%E7%82%B9"><span class="toc-number">5.8.3.</span> <span class="toc-text">注意点</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E7%94%9F%E5%91%BD%E5%91%A8%E6%9C%9F%E9%92%A9%E5%AD%90"><span class="toc-number">6.</span> <span class="toc-text">生命周期钩子</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%A4%A7%E4%BD%AC%E8%AF%B4%E7%9A%84%E5%A4%AA%E5%A5%BD%E4%BA%86-%E6%88%91%E8%87%AA%E5%B7%B1%E6%80%BB%E7%BB%93%E4%B8%8B%E8%87%AA%E5%B7%B1"><span class="toc-number">6.1.</span> <span class="toc-text">大佬说的太好了,我自己总结下自己~</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E5%86%8D%E6%AC%A1%E5%AD%A6%E4%B9%A0%E6%80%BB%E7%BB%93"><span class="toc-number">6.2.</span> <span class="toc-text">再次学习总结</span></a><ol class="toc-child"><li class="toc-item toc-level-5"><a class="toc-link" href="#beforeCreate-%E5%88%9B%E5%BB%BA%E5%89%8D"><span class="toc-number">6.2.1.</span> <span class="toc-text">beforeCreate 创建前</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#created-%E5%88%9B%E5%BB%BA%E5%90%8E"><span class="toc-number">6.2.2.</span> <span class="toc-text">created 创建后</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#beforeMount-%E6%8C%82%E8%BD%BD%E5%89%8D"><span class="toc-number">6.2.3.</span> <span class="toc-text">beforeMount 挂载前</span></a></li><li class="toc-item toc-level-5"><a class="toc-link" href="#mounted-%E6%8C%82%E8%BD%BD%E5%90%8E"><span class="toc-number">6.2.4.</span> <span class="toc-text">mounted 挂载后</span></a></li></ol></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#vue%E8%87%AA%E5%AE%9A%E4%B9%89%E6%8C%87%E4%BB%A4"><span class="toc-number">7.</span> <span class="toc-text">vue自定义指令</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E5%85%A8%E5%B1%80%E6%8C%87%E4%BB%A4"><span class="toc-number">7.1.</span> <span class="toc-text">自定义全局指令</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E5%B1%80%E9%83%A8%E6%8C%87%E4%BB%A4"><span class="toc-number">7.2.</span> <span class="toc-text">自定义局部指令</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#vue%E8%87%AA%E5%AE%9A%E4%B9%89%E8%BF%87%E6%BB%A4%E5%99%A8"><span class="toc-number">8.</span> <span class="toc-text">vue自定义过滤器</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E5%85%A8%E5%B1%80%E8%BF%87%E6%BB%A4%E5%99%A8"><span class="toc-number">8.1.</span> <span class="toc-text">自定义全局过滤器</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E5%B1%80%E9%83%A8%E8%BF%87%E6%BB%A4%E5%99%A8"><span class="toc-number">8.2.</span> <span class="toc-text">自定义局部过滤器</span></a></li></ol></li><li class="toc-item toc-level-3"><a class="toc-link" href="#mixin%E6%B7%B7%E5%85%A5%E7%9A%84%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8"><span class="toc-number">9.</span> <span class="toc-text">mixin混入的基本使用</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%85%B6%E4%BB%96%E4%B8%80%E4%BA%9B%E9%97%AE%E9%A2%98"><span class="toc-number">10.</span> <span class="toc-text">其他一些问题</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#v-for%E4%B8%BA%E4%BB%80%E4%B9%88%E8%A6%81%E7%94%A8key"><span class="toc-number">10.1.</span> <span class="toc-text">v.for为什么要用key</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#Vue-component%E7%AC%AC%E4%B8%80%E4%B8%AA%E5%8F%82%E6%95%B0%E5%91%BD%E5%90%8D%E8%A7%84%E5%88%99"><span class="toc-number">10.2.</span> <span class="toc-text">Vue.component第一个参数命名规则</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%96%B9%E6%B3%95-%E5%92%8Ccomputed-watch%E7%9A%84%E5%8C%BA%E5%88%AB"><span class="toc-number">10.3.</span> <span class="toc-text">方法,和computed,watch的区别</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%95%B0%E6%8D%AE%E4%BB%A3%E7%90%86"><span class="toc-number">10.4.</span> <span class="toc-text">数据代理</span></a></li></ol></li></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/31d04109.html" title="java枚举和mybaits-plus结合实现映射输出和存储">java枚举和mybaits-plus结合实现映射输出和存储</a><time datetime="2025-05-26T20:23:14.000Z" title="发表于 2025-05-26 20:23:14">2025-05-26</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/dc4ed705.html" title="qq农场,牧场解包查看导出swf文件内容图片"><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202503251433885.png" onerror='this.onerror=null,this.src="/img/404.png"' alt="qq农场,牧场解包查看导出swf文件内容图片"></a><div class="content"><a class="title" href="/dc4ed705.html" title="qq农场,牧场解包查看导出swf文件内容图片">qq农场,牧场解包查看导出swf文件内容图片</a><time datetime="2025-03-25T14:28:01.000Z" title="发表于 2025-03-25 14:28:01">2025-03-25</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/ed2e6c27.html" title="移动云盘加密分析-以链接有消息检查为例子"><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202503251433302.png" onerror='this.onerror=null,this.src="/img/404.png"' alt="移动云盘加密分析-以链接有消息检查为例子"></a><div class="content"><a class="title" href="/ed2e6c27.html" title="移动云盘加密分析-以链接有消息检查为例子">移动云盘加密分析-以链接有消息检查为例子</a><time datetime="2025-03-22T12:24:10.000Z" title="发表于 2025-03-22 12:24:10">2025-03-22</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/3cde95bc.html" title="mstsc使用proxifier走clash代理降低延迟"><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202503030912164.png" onerror='this.onerror=null,this.src="/img/404.png"' alt="mstsc使用proxifier走clash代理降低延迟"></a><div class="content"><a class="title" href="/3cde95bc.html" title="mstsc使用proxifier走clash代理降低延迟">mstsc使用proxifier走clash代理降低延迟</a><time datetime="2025-03-03T09:11:01.000Z" title="发表于 2025-03-03 09:11:01">2025-03-03</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/d6a2907d.html" title="适配FASTGPT基础AI模板-适合对付领导突发AI-奇想而生的模板"><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202502201550402.png" onerror='this.onerror=null,this.src="/img/404.png"' alt="适配FASTGPT基础AI模板-适合对付领导突发AI-奇想而生的模板"></a><div class="content"><a class="title" href="/d6a2907d.html" title="适配FASTGPT基础AI模板-适合对付领导突发AI-奇想而生的模板">适配FASTGPT基础AI模板-适合对付领导突发AI-奇想而生的模板</a><time datetime="2025-02-20T15:45:25.000Z" title="发表于 2025-02-20 15:45:25">2025-02-20</time></div></div></div></div></div></div></main><footer id="footer" style="background-image:url(https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202205221120658.jpg)"><div id="footer-wrap"><div class="copyright">&copy;2021 - 2025 By 梦洁</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js?v=4.13.0"></script><script src="/js/main.js?v=4.13.0"></script><script src="https://lib.baomitu.com/fancyapps-ui/5.0.33/fancybox/fancybox.umd.min.js"></script><div class="js-pjax"><script>(()=>{let t=null;const e=()=>{if(t=Artalk.init(Object.assign({el:"#artalk-wrap",server:"https://artalk.dreamlove.top",site:"梦洁小站",pageKey:location.pathname,darkMode:"dark"===document.documentElement.getAttribute("data-theme")},null)),"null"===GLOBAL_CONFIG.lightbox)return;t.on("list-loaded",()=>{t.ctx.get("list").getCommentNodes().forEach(t=>{const e=t.getRender().$content;btf.loadLightbox(e.querySelectorAll("img:not([atk-emoticon])"))})});btf.addGlobalFn("pjax",()=>{t.destroy()},"destroyArtalk")},a=async()=>{"object"==typeof Artalk||(await getCSS("https://lib.baomitu.com/artalk/2.8.2/Artalk.min.css"),await getScript("https://lib.baomitu.com/artalk/2.8.2/Artalk.min.js")),e()};btf.addGlobalFn("themeChange",e=>{const a=document.getElementById("artalk-wrap");if(!a||!a.children.length)return;const l="dark"===e;t.setDarkMode(l)},"artalk"),a()})()</script></div><script id="canvas_nest" defer color="0,0,255" opacity="0.7" zindex="-1" count="99" mobile="false" src="https://lib.baomitu.com/butterfly-extsrc/1.1.3/canvas-nest.min.js"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="algolia-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="search-wrap"><div id="algolia-search-input"></div><hr><div id="algolia-search-results"><div id="algolia-hits"></div><div id="algolia-pagination"></div><div id="algolia-info"><div class="algolia-stats"></div><div class="algolia-poweredBy"></div></div></div></div></div><div id="search-mask"></div><script src="https://lib.baomitu.com/algoliasearch/4.22.1/algoliasearch-lite.umd.min.js"></script><script src="https://lib.baomitu.com/instantsearch.js/4.65.0/instantsearch.production.min.js"></script><script src="/js/search/algolia.js?v=4.13.0"></script></div></div></body></html>