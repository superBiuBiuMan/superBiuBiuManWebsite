<!DOCTYPE html><html lang="zh-CN" data-theme="light"><head><meta charset="UTF-8"><meta http-equiv="X-UA-Compatible" content="IE=edge"><meta name="viewport" content="width=device-width,initial-scale=1,viewport-fit=cover"><title>知乎日报项目学习笔记 | 梦洁小站-属于你我的小天地</title><meta name="author" content="梦洁"><meta name="copyright" content="梦洁"><meta name="format-detection" content="telephone=no"><meta name="theme-color" content="#ffffff"><meta name="description" content="项目完工 前端源码地址:https:&#x2F;&#x2F;github.com&#x2F;superBiuBiuMan&#x2F;-zhuhu_daily 后端源码地址:https:&#x2F;&#x2F;github.com&#x2F;superBiuBiuMan&#x2F;zhihu-daily-admin 学习地址:Bilibili https:&#x2F;&#x2F;www.bilibili.com&#x2F;video&#x2F;BV1wx4y157Gu    初始化项目ts方式(此项目以ts运行)1c"><meta property="og:type" content="article"><meta property="og:title" content="知乎日报项目学习笔记"><meta property="og:url" content="https://www.dreamlove.top/d2befc3c.html"><meta property="og:site_name" content="梦洁小站-属于你我的小天地"><meta property="og:description" content="项目完工 前端源码地址:https:&#x2F;&#x2F;github.com&#x2F;superBiuBiuMan&#x2F;-zhuhu_daily 后端源码地址:https:&#x2F;&#x2F;github.com&#x2F;superBiuBiuMan&#x2F;zhihu-daily-admin 学习地址:Bilibili https:&#x2F;&#x2F;www.bilibili.com&#x2F;video&#x2F;BV1wx4y157Gu    初始化项目ts方式(此项目以ts运行)1c"><meta property="og:locale" content="zh_CN"><meta property="og:image" content="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202304091722157.png"><meta property="article:published_time" content="2023-04-03T20:55:49.000Z"><meta property="article:modified_time" content="2023-04-03T20:55:49.000Z"><meta property="article:author" content="梦洁"><meta property="article:tag" content="react"><meta name="twitter:card" content="summary"><meta name="twitter:image" content="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202304091722157.png"><link rel="shortcut icon" href="https://oss.ypggb.com/i/2025/07/01/pk26bw.png"><link rel="canonical" href="https://www.dreamlove.top/d2befc3c.html"><link rel="preconnect" href="https://lib.baomitu.com"><link rel="preconnect" href="//busuanzi.ibruce.info"><link rel="stylesheet" href="/css/index.css?v=4.13.0"><link rel="stylesheet" href="https://lib.baomitu.com/font-awesome/6.5.1/css/all.min.css"><link rel="stylesheet" href="https://lib.baomitu.com/fancyapps-ui/5.0.33/fancybox/fancybox.min.css" media="print" onload='this.media="all"'><script>const GLOBAL_CONFIG={root:"/",algolia:{appId:"G7A2D1SYPY",apiKey:"49056313a9be02852c7dbedfcb772831",indexName:"blog",hits:{per_page:20},languages:{input_placeholder:"搜索文章",hits_empty:"找不到您查询的内容：${query}",hits_stats:"找到 ${hits} 条结果，用时 ${time} 毫秒"}},localSearch:void 0,translate:void 0,noticeOutdate:void 0,highlight:{plugin:"highlight.js",highlightCopy:!0,highlightLang:!0,highlightHeightLimit:!1},copy:{success:"复制成功",error:"复制错误",noSupport:"浏览器不支持"},relativeDate:{homepage:!1,post:!1},runtime:"天",dateSuffix:{just:"刚刚",min:"分钟前",hour:"小时前",day:"天前",month:"个月前"},copyright:void 0,lightbox:"fancybox",Snackbar:void 0,infinitegrid:{js:"https://lib.baomitu.com/egjs-infinitegrid/4.11.1/infinitegrid.min.js",buttonText:"加载更多"},isPhotoFigcaption:!1,islazyload:!1,isAnchor:!1,percent:{toc:!0,rightside:!1},autoDarkmode:!1}</script><script id="config-diff">var GLOBAL_CONFIG_SITE={title:"知乎日报项目学习笔记",isPost:!0,isHome:!1,isHighlightShrink:!1,isToc:!0,postUpdate:"2023-04-03 20:55:49"}</script><script>(e=>{e.saveToLocal={set:(e,t,o)=>{if(0===o)return;const a={value:t,expiry:Date.now()+864e5*o};localStorage.setItem(e,JSON.stringify(a))},get:e=>{const t=localStorage.getItem(e);if(!t)return;const o=JSON.parse(t);if(!(Date.now()>o.expiry))return o.value;localStorage.removeItem(e)}},e.getScript=(e,t={})=>new Promise((o,a)=>{const n=document.createElement("script");n.src=e,n.async=!0,n.onerror=a,n.onload=n.onreadystatechange=function(){const e=this.readyState;e&&"loaded"!==e&&"complete"!==e||(n.onload=n.onreadystatechange=null,o())},Object.keys(t).forEach(e=>{n.setAttribute(e,t[e])}),document.head.appendChild(n)}),e.getCSS=(e,t=!1)=>new Promise((o,a)=>{const n=document.createElement("link");n.rel="stylesheet",n.href=e,t&&(n.id=t),n.onerror=a,n.onload=n.onreadystatechange=function(){const e=this.readyState;e&&"loaded"!==e&&"complete"!==e||(n.onload=n.onreadystatechange=null,o())},document.head.appendChild(n)}),e.activateDarkMode=()=>{document.documentElement.setAttribute("data-theme","dark"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","#0d0d0d")},e.activateLightMode=()=>{document.documentElement.setAttribute("data-theme","light"),null!==document.querySelector('meta[name="theme-color"]')&&document.querySelector('meta[name="theme-color"]').setAttribute("content","#ffffff")};const t=saveToLocal.get("theme");"dark"===t?activateDarkMode():"light"===t&&activateLightMode();const o=saveToLocal.get("aside-status");void 0!==o&&("hide"===o?document.documentElement.classList.add("hide-aside"):document.documentElement.classList.remove("hide-aside"));/iPad|iPhone|iPod|Macintosh/.test(navigator.userAgent)&&document.documentElement.classList.add("apple")})(window)</script><meta name="generator" content="Hexo 7.1.1"></head><body><div id="sidebar"><div id="menu-mask"></div><div id="sidebar-menus"><div class="avatar-img is-center"><img src="https://oss.ypggb.com/i/2025/07/01/pk26bw.png" onerror='onerror=null,src="/img/404.png"' alt="avatar"></div><div class="sidebar-site-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">182</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">101</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">73</div></a></div><hr class="custom-hr"><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友情和链接</span></a></div><div class="menus_item"><a class="site-page" href="/navigation/"><i class="fa-fw fas fa-link"></i><span> 链接导航</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 私有化导航</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" target="_blank" rel="noopener" href="https://mark.123916.xyz/"><i class="fa-fw fas fa-database"></i><span> 导航</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="https://cloud.reassurehome.com/"><i class="fa-fw fas fa-hippo"></i><span> Alist(私有)</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 工具</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" target="_blank" rel="noopener" href="https://short.123916.xyz/027a2"><i class="fa-fw fas fa-paperclip"></i><span> clash免费订阅地址</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="https://short.123916.xyz/admin/"><i class="fa-fw fas fa-paperclip"></i><span> 短链接生成</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 好玩的</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" target="_blank" rel="noopener" href="https://make.girls.moe/#/"><i class="fa-fw fas fa-database"></i><span> 动漫头像制作</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="http://dfqshy.ysepan.com/"><i class="fa-fw fas fa-database"></i><span> FC游戏大全网盘</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="https://www.yikm.net/"><i class="fa-fw fas fa-database"></i><span> 小霸王</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="https://www.return8090.com/"><i class="fa-fw fas fa-database"></i><span> 小霸王(广告多)</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="http://farm.dreamlove.top"><i class="fa-fw fas fa-database"></i><span> QQ农场经典版</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="https://codepip.com/"><i class="fa-fw fas fa-database"></i><span> CssGame</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="https://photo.123916.xyz/"><i class="fa-fw fas fa-database"></i><span> 有趣的照片</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 其他</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></li><li><a class="site-page child" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="https://buy.dreamlove.top/"><i class="fa-fw fas fa-heart"></i><span> 购物</span></a></li></ul></div></div></div></div><div class="post" id="body-wrap"><header class="post-bg" id="page-header" style="background-image:url(https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202304091722157.png)"><nav id="nav"><span id="blog-info"><a href="/" title="梦洁小站-属于你我的小天地"><span class="site-name">梦洁小站-属于你我的小天地</span></a></span><div id="menus"><div id="search-button"><a class="site-page social-icon search" href="javascript:void(0);"><i class="fas fa-search fa-fw"></i><span> 搜索</span></a></div><div class="menus_items"><div class="menus_item"><a class="site-page" href="/"><i class="fa-fw fas fa-home"></i><span> 首页</span></a></div><div class="menus_item"><a class="site-page" href="/link/"><i class="fa-fw fas fa-link"></i><span> 友情和链接</span></a></div><div class="menus_item"><a class="site-page" href="/navigation/"><i class="fa-fw fas fa-link"></i><span> 链接导航</span></a></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 私有化导航</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" target="_blank" rel="noopener" href="https://mark.123916.xyz/"><i class="fa-fw fas fa-database"></i><span> 导航</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="https://cloud.reassurehome.com/"><i class="fa-fw fas fa-hippo"></i><span> Alist(私有)</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 工具</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" target="_blank" rel="noopener" href="https://short.123916.xyz/027a2"><i class="fa-fw fas fa-paperclip"></i><span> clash免费订阅地址</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="https://short.123916.xyz/admin/"><i class="fa-fw fas fa-paperclip"></i><span> 短链接生成</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 好玩的</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" target="_blank" rel="noopener" href="https://make.girls.moe/#/"><i class="fa-fw fas fa-database"></i><span> 动漫头像制作</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="http://dfqshy.ysepan.com/"><i class="fa-fw fas fa-database"></i><span> FC游戏大全网盘</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="https://www.yikm.net/"><i class="fa-fw fas fa-database"></i><span> 小霸王</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="https://www.return8090.com/"><i class="fa-fw fas fa-database"></i><span> 小霸王(广告多)</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="http://farm.dreamlove.top"><i class="fa-fw fas fa-database"></i><span> QQ农场经典版</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="https://codepip.com/"><i class="fa-fw fas fa-database"></i><span> CssGame</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="https://photo.123916.xyz/"><i class="fa-fw fas fa-database"></i><span> 有趣的照片</span></a></li></ul></div><div class="menus_item"><a class="site-page group" href="javascript:void(0);"><i class="fa-fw fas fa-list"></i><span> 其他</span><i class="fas fa-chevron-down"></i></a><ul class="menus_item_child"><li><a class="site-page child" href="/archives/"><i class="fa-fw fas fa-archive"></i><span> 归档</span></a></li><li><a class="site-page child" href="/about/"><i class="fa-fw fas fa-heart"></i><span> 关于</span></a></li><li><a class="site-page child" target="_blank" rel="noopener" href="https://buy.dreamlove.top/"><i class="fa-fw fas fa-heart"></i><span> 购物</span></a></li></ul></div></div><div id="toggle-menu"><a class="site-page" href="javascript:void(0);"><i class="fas fa-bars fa-fw"></i></a></div></div></nav><div id="post-info"><h1 class="post-title">知乎日报项目学习笔记</h1><div id="post-meta"><div class="meta-firstline"><span class="post-meta-date"><i class="far fa-calendar-alt fa-fw post-meta-icon"></i><span class="post-meta-label">发表于</span><time class="post-meta-date-created" datetime="2023-04-03T20:55:49.000Z" title="发表于 2023-04-03 20:55:49">2023-04-03</time><span class="post-meta-separator">|</span><i class="fas fa-history fa-fw post-meta-icon"></i><span class="post-meta-label">更新于</span><time class="post-meta-date-updated" datetime="2023-04-03T20:55:49.000Z" title="更新于 2023-04-03 20:55:49">2023-04-03</time></span><span class="post-meta-categories"><span class="post-meta-separator">|</span><i class="fas fa-inbox fa-fw post-meta-icon"></i><a class="post-meta-categories" href="/categories/react/">react</a></span></div><div class="meta-secondline"><span class="post-meta-separator">|</span><span class="post-meta-wordcount"><i class="far fa-file-word fa-fw post-meta-icon"></i><span class="post-meta-label">字数总计:</span><span class="word-count">5.2k</span><span class="post-meta-separator">|</span><i class="far fa-clock fa-fw post-meta-icon"></i><span class="post-meta-label">阅读时长:</span><span>23分钟</span></span><span class="post-meta-separator">|</span><span class="post-meta-pv-cv" data-flag-title="知乎日报项目学习笔记"><i class="far fa-eye fa-fw post-meta-icon"></i><span class="post-meta-label">阅读量:</span><span id="busuanzi_value_page_pv"><i class="fa-solid fa-spinner fa-spin"></i></span></span></div></div></div></header><main class="layout" id="content-inner"><div id="post"><article class="post-content" id="article-container"><h2 id="项目完工"><a href="#项目完工" class="headerlink" title="项目完工"></a>项目完工</h2><ul><li>前端源码地址:<a target="_blank" rel="noopener" href="https://github.com/superBiuBiuMan/-zhuhu_daily">https://github.com/superBiuBiuMan/-zhuhu_daily</a></li><li>后端源码地址:<a target="_blank" rel="noopener" href="https://github.com/superBiuBiuMan/zhihu-daily-admin">https://github.com/superBiuBiuMan/zhihu-daily-admin</a></li><li>学习地址:Bilibili<ul><li><a target="_blank" rel="noopener" href="https://www.bilibili.com/video/BV1wx4y157Gu">https://www.bilibili.com/video/BV1wx4y157Gu</a></li></ul></li></ul><h2 id="初始化项目"><a href="#初始化项目" class="headerlink" title="初始化项目"></a>初始化项目</h2><h3 id="ts方式-此项目以ts运行"><a href="#ts方式-此项目以ts运行" class="headerlink" title="ts方式(此项目以ts运行)"></a>ts方式(此项目以ts运行)</h3><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">create-react-app zhihu-daily --template typescript</span><br></pre></td></tr></table></figure><ul><li>没有安装create-react-app的同学，请使用npx命令</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npx create-react-app zhihu-daily --template typescript</span><br></pre></td></tr></table></figure><h3 id="js方式"><a href="#js方式" class="headerlink" title="js方式"></a>js方式</h3><ul><li>删除后面的<code>typescript</code>即可</li></ul><h2 id="Rem响应式处理"><a href="#Rem响应式处理" class="headerlink" title="Rem响应式处理"></a>Rem响应式处理</h2><h3 id="手动处理"><a href="#手动处理" class="headerlink" title="手动处理"></a>手动处理</h3><ul><li><p>我们制作移动端网页的时候,需要考虑兼容性,比如我们UI给出的原型图是以<code>iPhone5/6</code>或者其他手机尺寸为参考的,这里就设置设计稿的宽度为<code>375px</code>,同时为了方便计算,我们设置<code>1rem = 100px</code></p></li><li><p>然后我们测量UI图的尺寸的时候,就**默认除以100,**这样子就得到了rem单位</p></li></ul><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202303121405991.png"></p><ul><li>但是呢,每一人的手机不一定是<code>375px</code>宽度,我们在<code>375</code>宽度下设置了<code>1rem = 100px</code>,其他手机宽度的转换公式就如下</li></ul><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202303121407578.png"></p><ul><li>最后就可以得到在不同手机上<code>1rem</code>应该等于多少px计算公式<code>( 设备宽度 x 100 / 375 = ?px )</code></li></ul><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202303121409771.png"></p><ul><li>知道了原理,书写下代码</li></ul><figure class="highlight html"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">html</span> <span class="attr">lang</span>=<span class="string">&quot;en&quot;</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">head</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">charset</span>=<span class="string">&quot;UTF-8&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">http-equiv</span>=<span class="string">&quot;X-UA-Compatible&quot;</span> <span class="attr">content</span>=<span class="string">&quot;IE=edge&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">meta</span> <span class="attr">name</span>=<span class="string">&quot;viewport&quot;</span> <span class="attr">content</span>=<span class="string">&quot;width=device-width, initial-scale=1.0&quot;</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">title</span>&gt;</span>Document<span class="tag">&lt;/<span class="name">title</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">style</span>&gt;</span><span class="language-css"></span></span><br><span class="line"><span class="language-css">    *&#123;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">margin</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">padding</span>: <span class="number">0</span>;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css">    <span class="selector-tag">html</span>&#123;</span></span><br><span class="line"><span class="language-css">      <span class="comment">/* 默认设置为100px */</span></span></span><br><span class="line"><span class="language-css">      <span class="attribute">font-size</span>: <span class="number">100px</span>;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css">    <span class="selector-id">#abc</span>&#123;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">width</span>: <span class="number">2rem</span>;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">height</span>: <span class="number">1rem</span>;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">font-size</span>:<span class="number">0.18rem</span> ;</span></span><br><span class="line"><span class="language-css">      <span class="attribute">background-color</span>: rebeccapurple;</span></span><br><span class="line"><span class="language-css">    &#125;</span></span><br><span class="line"><span class="language-css">  </span><span class="tag">&lt;/<span class="name">style</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">head</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">body</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">div</span> <span class="attr">id</span>=<span class="string">&quot;abc&quot;</span>&gt;</span></span><br><span class="line">      你好</span><br><span class="line">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span><br><span class="line">  <span class="tag">&lt;<span class="name">script</span>&gt;</span><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">    (<span class="function">() =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-javascript">      <span class="keyword">const</span> <span class="title function_">computed</span> = (<span class="params"></span>) =&gt; &#123;</span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> html = <span class="variable language_">document</span>.<span class="property">documentElement</span>;<span class="comment">//获取html元素</span></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> deviceWidth = html.<span class="property">clientWidth</span>;<span class="comment">//获取设备宽度</span></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> designWidth = <span class="number">375</span>;<span class="comment">//设计图的宽度</span></span></span><br><span class="line"><span class="language-javascript">        <span class="keyword">const</span> ratio = deviceWidth * <span class="number">100</span> / designWidth;</span></span><br><span class="line"><span class="language-javascript"></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">/* 这里你可以默认缩放,也可以设置超出设计图不进行扩展 */</span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// if(deviceWidth &gt; designWidth) &#123;</span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">//   html.style.fontSize = &#x27;100px&#x27;;</span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">//   return;</span></span></span><br><span class="line"><span class="language-javascript">        <span class="comment">// &#125;</span></span></span><br><span class="line"><span class="language-javascript">        html.<span class="property">style</span>.<span class="property">fontSize</span> = ratio + <span class="string">&#x27;px&#x27;</span>;</span></span><br><span class="line"><span class="language-javascript">      &#125;</span></span><br><span class="line"><span class="language-javascript">      <span class="title function_">computed</span>();</span></span><br><span class="line"><span class="language-javascript">      <span class="variable language_">window</span>.<span class="title function_">addEventListener</span>(<span class="string">&#x27;resize&#x27;</span>,computed);</span></span><br><span class="line"><span class="language-javascript">    &#125;)();</span></span><br><span class="line"><span class="language-javascript">  </span><span class="tag">&lt;/<span class="name">script</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">body</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">html</span>&gt;</span></span><br></pre></td></tr></table></figure><h3 id="自动处理"><a href="#自动处理" class="headerlink" title="自动处理"></a>自动处理</h3><ul><li>postcss-pxtorem：将px转换为px</li><li>amfe-flexible：为html、body添加font-size，窗口调整时候重新设置font-size</li></ul><ul><li>安装</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">npm install amfe-flexible -S</span><br><span class="line">npm install postcss-pxtorem -D</span><br></pre></td></tr></table></figure><ul><li>在主入口文件引入<code>amfe-flexible</code></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">React</span> <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">ReactDOM</span> <span class="keyword">from</span> <span class="string">&#x27;react-dom/client&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="title class_">App</span> <span class="keyword">from</span> <span class="string">&#x27;./App&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> <span class="string">&quot;amfe-flexible&quot;</span></span><br><span class="line"><span class="keyword">const</span> root = <span class="title class_">ReactDOM</span>.<span class="title function_">createRoot</span>(<span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;root&#x27;</span>));</span><br><span class="line">root.<span class="title function_">render</span>(</span><br><span class="line">  <span class="language-xml"><span class="tag">&lt;<span class="name">React.StrictMode</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;<span class="name">App</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">  <span class="tag">&lt;/<span class="name">React.StrictMode</span>&gt;</span></span></span><br><span class="line">);</span><br></pre></td></tr></table></figure><ul><li><p>配置postcss-pxtorem，可<code>vue.config.js</code>、<code>.postcssrc.js</code>、<code>postcss.config.js</code>其中之一配置，权重从左到右降低，没有则新建文件，只需要设置其中一个即可：</p></li><li><p>如果是react项目一开始没有eject,就需要安装下<code>CRACO</code>,这里就以这个为例子(好像还有<code>react-app-rewired</code>)</p></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install  @craco/craco --save</span><br></pre></td></tr></table></figure><ul><li>在项目根目录下创建配置文件craco.config.js,并根据实际情况完善配置</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">    <span class="attr">style</span>: &#123;</span><br><span class="line">        <span class="attr">postcss</span>: &#123;</span><br><span class="line">            <span class="attr">mode</span>: <span class="string">&#x27;extends&#x27;</span>,</span><br><span class="line">            <span class="attr">loaderOptions</span>: &#123;</span><br><span class="line">                <span class="attr">postcssOptions</span>: &#123;</span><br><span class="line">                    <span class="attr">ident</span>: <span class="string">&#x27;postcss&#x27;</span>,</span><br><span class="line">                    <span class="attr">plugins</span>: [</span><br><span class="line">                       [</span><br><span class="line">                           <span class="string">&#x27;postcss-pxtorem&#x27;</span>,</span><br><span class="line">                           &#123;</span><br><span class="line">                               <span class="attr">rootValue</span>: <span class="number">750</span>/<span class="number">10</span>, <span class="comment">// (Number | Function) 表示根元素字体大小或根据input参数返回根元素字体大小</span></span><br><span class="line">                               <span class="comment">//unitPrecision: 5, // （数字）允许 REM 单位增长到的十进制数字</span></span><br><span class="line">                               <span class="attr">propList</span>: [<span class="string">&#x27;*&#x27;</span>], <span class="comment">// 可以从 px 更改为 rem 的属性 使用通配符*启用所有属性</span></span><br><span class="line">                               <span class="comment">//selectorBlackList: [],// （数组）要忽略并保留为 px 的选择器。</span></span><br><span class="line">                               <span class="comment">//replace: true, // 替换包含 rems 的规则，而不是添加回退。</span></span><br><span class="line">                               <span class="comment">//mediaQuery: false,  // 允许在媒体查询中转换 px</span></span><br><span class="line">                               <span class="comment">//minPixelValue: 0, // 最小的转化单位</span></span><br><span class="line">                               <span class="attr">exclude</span>: <span class="regexp">/node_modules/i</span> <span class="comment">// 要忽略并保留为 px 的文件路径</span></span><br><span class="line">                           &#125;</span><br><span class="line">                       ]</span><br><span class="line">                    ],</span><br><span class="line">                &#125;,</span><br><span class="line">            &#125;,</span><br><span class="line">        &#125;,</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;;</span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li>修改 <code>package.json</code> 中的 <code>scripts</code></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="string">&quot;scripts&quot;</span>: &#123;</span><br><span class="line">    <span class="string">&quot;start&quot;</span>: <span class="string">&quot;craco start&quot;</span>,</span><br><span class="line">    <span class="string">&quot;build&quot;</span>: <span class="string">&quot;craco build&quot;</span>,</span><br><span class="line">    <span class="string">&quot;test&quot;</span>: <span class="string">&quot;craco test&quot;</span>,</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><ul><li>最终可以看到进行了更改</li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="selector-class">.App</span> &#123;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">250px</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">100px</span>;</span><br><span class="line">  <span class="attribute">background-color</span>: red;</span><br><span class="line">&#125;</span><br><span class="line">//自动转化为了</span><br><span class="line"><span class="selector-class">.App</span> &#123;</span><br><span class="line">    <span class="attribute">width</span>: <span class="number">3.33333rem</span>;</span><br><span class="line">    <span class="attribute">height</span>: <span class="number">1.33333rem</span>;</span><br><span class="line">    <span class="attribute">background-color</span>: red</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202303121502963.png"></p><h3 id="package-json列表"><a href="#package-json列表" class="headerlink" title="package.json列表"></a>package.json列表</h3><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">  <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;zhihu-daily&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;version&quot;</span><span class="punctuation">:</span> <span class="string">&quot;0.1.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;private&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;dependencies&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;@craco/craco&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^7.1.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;@testing-library/jest-dom&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^5.16.5&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;@testing-library/react&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^13.4.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;@testing-library/user-event&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^13.5.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;amfe-flexible&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^2.2.1&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;react&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^18.2.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;react-dom&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^18.2.0&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;react-scripts&quot;</span><span class="punctuation">:</span> <span class="string">&quot;5.0.1&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;web-vitals&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^2.1.4&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;scripts&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;start&quot;</span><span class="punctuation">:</span> <span class="string">&quot;craco start&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;build&quot;</span><span class="punctuation">:</span> <span class="string">&quot;craco build&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;test&quot;</span><span class="punctuation">:</span> <span class="string">&quot;craco test&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;eject&quot;</span><span class="punctuation">:</span> <span class="string">&quot;react-scripts eject&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;eslintConfig&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;extends&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">      <span class="string">&quot;react-app&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="string">&quot;react-app/jest&quot;</span></span><br><span class="line">    <span class="punctuation">]</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;browserslist&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;production&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">      <span class="string">&quot;&gt;0.2%&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="string">&quot;not dead&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="string">&quot;not op_mini all&quot;</span></span><br><span class="line">    <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;development&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">      <span class="string">&quot;last 1 chrome version&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="string">&quot;last 1 firefox version&quot;</span><span class="punctuation">,</span></span><br><span class="line">      <span class="string">&quot;last 1 safari version&quot;</span></span><br><span class="line">    <span class="punctuation">]</span></span><br><span class="line">  <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">  <span class="attr">&quot;devDependencies&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;postcss-pxtorem&quot;</span><span class="punctuation">:</span> <span class="string">&quot;^6.0.0&quot;</span></span><br><span class="line">  <span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h3 id="参考"><a href="#参考" class="headerlink" title="参考"></a>参考</h3><ul><li><p><a target="_blank" rel="noopener" href="https://www.jianshu.com/p/e69a96e85603">https://www.jianshu.com/p/e69a96e85603</a></p></li><li><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_39223195/article/details/106287522">https://blog.csdn.net/qq_39223195/article/details/106287522</a></p></li><li><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/guxin_duyin/article/details/127048203">万字长文详解react项目使用craco进行配置并集成Prettier、Eslint、husky、lint-staged</a></p></li><li><p><a target="_blank" rel="noopener" href="https://zhuanlan.zhihu.com/p/528295053?utm_id=0">https://zhuanlan.zhihu.com/p/528295053?utm_id=0</a></p><ul><li>好像提到了<code>CRA5</code>版本</li></ul></li><li><p><a target="_blank" rel="noopener" href="https://blog.csdn.net/m0_59093266/article/details/123656569">create-react-app使用craco.config.js完成rem适配 postcss-pxtorem</a></p></li></ul><h2 id="使用reduxjs-toolkit"><a href="#使用reduxjs-toolkit" class="headerlink" title="使用reduxjs&#x2F;toolkit"></a>使用reduxjs&#x2F;toolkit</h2><ul><li>安装</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yarn add reduxjs/toolkit react-redux</span><br></pre></td></tr></table></figure><ul><li><p>使用起来也很方便,先抛弃一切redux的,这里只有切片,我们除了创建切片和一个主入口文件,其他什么都没有了</p></li><li><p>创建切片</p><ul><li><code>src\store/slice/base/index.ts</code></li></ul></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; createSlice &#125; <span class="keyword">from</span> <span class="string">&quot;@reduxjs/toolkit&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title class_">Info</span> = &#123;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title class_">Base</span> = <span class="title function_">createSlice</span>(&#123;</span><br><span class="line">    <span class="attr">name</span>:<span class="string">&#x27;base&#x27;</span>,</span><br><span class="line">    <span class="attr">initialState</span>:<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="title class_">Info</span>;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">reducers</span>:&#123;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title class_">BaseSliceAction</span> = <span class="title class_">Base</span>.<span class="property">actions</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title class_">BaseSliceReducer</span> = <span class="title class_">Base</span>.<span class="property">reducer</span>;</span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li>主入口文件<ul><li><code>src\store/index.ts</code></li></ul></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; configureStore &#125; <span class="keyword">from</span> <span class="string">&quot;@reduxjs/toolkit&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">BaseSliceReducer</span> &#125; <span class="keyword">from</span> <span class="string">&quot;@/store/slice/base&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">Store</span> = <span class="title function_">configureStore</span>(&#123;</span><br><span class="line">    <span class="attr">reducer</span>:&#123;</span><br><span class="line">        <span class="attr">base</span>:<span class="title class_">BaseSliceReducer</span>,</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title class_">Store</span>;</span><br></pre></td></tr></table></figure><ul><li>传递各个组件</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">Provider</span> &#125; <span class="keyword">from</span> <span class="string">&quot;react-redux&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> store <span class="keyword">from</span> <span class="string">&quot;@/store&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> root = <span class="title class_">ReactDOM</span>.<span class="title function_">createRoot</span>(</span><br><span class="line">  <span class="variable language_">document</span>.<span class="title function_">getElementById</span>(<span class="string">&#x27;root&#x27;</span>) <span class="keyword">as</span> <span class="title class_">HTMLElement</span></span><br><span class="line">);</span><br><span class="line">root.<span class="title function_">render</span>(</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">ConfigProvider</span> <span class="attr">locale</span>=<span class="string">&#123;zhCN&#125;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;<span class="name">Provider</span> <span class="attr">store</span>=<span class="string">&#123;store&#125;</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">            <span class="tag">&lt;<span class="name">App</span> /&gt;</span></span></span><br><span class="line"><span class="language-xml">        <span class="tag">&lt;/<span class="name">Provider</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">ConfigProvider</span>&gt;</span></span></span><br><span class="line">);</span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li><p>组件使用</p><ul><li>获取设置的state参数<code>const &#123; useSelector &#125; from &quot;react-redux&quot;</code></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;useSelector&#125; <span class="keyword">from</span> <span class="string">&quot;react-redux&quot;</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">selectProjectModalOpen</span> = state =&gt; state.<span class="property">projectList</span>.<span class="property">projectModalOpen</span>;</span><br><span class="line"><span class="keyword">const</span> showModal = <span class="title function_">useSelector</span>(selectProjectModalOpen);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//等同于 const showModal = useSelector((state) =&gt; state.projectList.projectModalOpen)</span></span><br></pre></td></tr></table></figure><ul><li>调用设置的方法<code>const &#123; useDispatch &#125; from &quot;react-redux&quot;</code></li></ul><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123; useDispatch &#125; <span class="keyword">from</span> <span class="string">&quot;react-redux&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123;projectListSliceActions&#125; <span class="keyword">from</span> <span class="string">&quot;../projectList/projectList.slice&quot;</span>;</span><br><span class="line"><span class="keyword">const</span> dispatch = <span class="title function_">useDispatch</span>();<span class="comment">//不需要传入任何参数,react-redux会自动去处理store</span></span><br><span class="line"><span class="language-xml"><span class="tag">&lt;<span class="name">button</span> <span class="attr">onClick</span>=<span class="string">&#123;()</span> =&gt;</span> dispatch(projectListSliceActions.closeProjectModal())&#125;&gt;点击我关闭<span class="tag">&lt;/<span class="name">button</span>&gt;</span></span></span><br></pre></td></tr></table></figure></li></ul><h2 id="元素隐藏-显示"><a href="#元素隐藏-显示" class="headerlink" title="元素隐藏&#x2F;显示"></a>元素隐藏&#x2F;显示</h2><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202303191612447.png"></p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202303191612913.png"></p><h2 id="详情页"><a href="#详情页" class="headerlink" title="详情页"></a>详情页</h2><h3 id="可以利用useEffect来实现并发操作"><a href="#可以利用useEffect来实现并发操作" class="headerlink" title="可以利用useEffect来实现并发操作"></a>可以利用useEffect来实现并发操作</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">useEffect</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      (<span class="keyword">async</span> () =&gt; &#123;</span><br><span class="line">          <span class="comment">//获取详情图</span></span><br><span class="line">          <span class="keyword">const</span> result = <span class="keyword">await</span> api.<span class="title function_">queryNewsInfo</span>(id ?? <span class="string">&#x27;&#x27;</span>);</span><br><span class="line">          <span class="variable language_">console</span>.<span class="title function_">log</span>(result)</span><br><span class="line">      &#125;)()</span><br><span class="line">  &#125;,[])</span><br><span class="line">  <span class="title function_">useEffect</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      (<span class="keyword">async</span> () =&gt; &#123;</span><br><span class="line">          <span class="comment">//获取点赞信息</span></span><br><span class="line">          <span class="keyword">const</span> result = <span class="keyword">await</span> api.<span class="title function_">queryStoryExtra</span>(id ?? <span class="string">&#x27;&#x27;</span>);</span><br><span class="line">      &#125;)()</span><br><span class="line">  &#125;)</span><br></pre></td></tr></table></figure><h3 id="React渲染html字符串"><a href="#React渲染html字符串" class="headerlink" title="React渲染html字符串"></a>React渲染html字符串</h3><ul><li><code>dangerouslySetInnerHTML=&#123;&#123; __html: 内容 &#125;&#125;</code></li><li><a target="_blank" rel="noopener" href="https://legacy.reactjs.org/docs/dom-elements.html#dangerouslysetinnerhtml">@官网介绍</a></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">function</span> <span class="title function_">createMarkup</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> &#123;<span class="attr">__html</span>: <span class="string">&#x27;First &amp;middot; Second&#x27;</span>&#125;;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">function</span> <span class="title function_">MyComponent</span>(<span class="params"></span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> <span class="language-xml"><span class="tag">&lt;<span class="name">div</span> <span class="attr">dangerouslySetInnerHTML</span>=<span class="string">&#123;createMarkup()&#125;</span> /&gt;</span></span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="创建的css样式放置到document-head当中"><a href="#创建的css样式放置到document-head当中" class="headerlink" title="创建的css样式放置到document.head当中"></a>创建的css样式放置到document.head当中</h3><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title function_">handleStyle</span> = (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">    <span class="keyword">const</span> &#123; css &#125; = info;</span><br><span class="line">    <span class="keyword">if</span>(!<span class="title class_">Array</span>.<span class="title function_">isArray</span>(css)) <span class="keyword">return</span>;</span><br><span class="line">    <span class="keyword">const</span> cssLink = css[<span class="number">0</span>];<span class="comment">//获取css链接</span></span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(cssLink)</span><br><span class="line">    <span class="keyword">const</span> linkDOM = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&#x27;link&#x27;</span>);</span><br><span class="line">    linkDOM.<span class="property">rel</span> = <span class="string">&#x27;stylesheet&#x27;</span>;</span><br><span class="line">    linkDOM.<span class="property">href</span> = cssLink;</span><br><span class="line">    <span class="variable language_">document</span>.<span class="property">head</span>.<span class="title function_">append</span>(linkDOM);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="使用flushSync"><a href="#使用flushSync" class="headerlink" title="使用flushSync"></a>使用flushSync</h3><ul><li>通俗来说这里的用法就是插队更新,让其更新完毕在执行后续代码</li><li>可以看看这篇文章<ul><li><a target="_blank" rel="noopener" href="https://juejin.cn/post/7094037148088664078#heading-12">@React18 新特性解读 &amp; 完整版升级指南</a></li></ul></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="title class_">React</span>, &#123; useState &#125; <span class="keyword">from</span> <span class="string">&#x27;react&#x27;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; flushSync &#125; <span class="keyword">from</span> <span class="string">&#x27;react-dom&#x27;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">App</span>: <span class="title class_">React</span>.<span class="property">FC</span> = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">  <span class="keyword">const</span> [count1, setCount1] = <span class="title function_">useState</span>(<span class="number">0</span>);</span><br><span class="line">  <span class="keyword">const</span> [count2, setCount2] = <span class="title function_">useState</span>(<span class="number">0</span>);</span><br><span class="line">  <span class="keyword">return</span> (</span><br><span class="line">    <span class="language-xml"><span class="tag">&lt;<span class="name">div</span></span></span></span><br><span class="line"><span class="tag"><span class="language-xml">      <span class="attr">onClick</span>=<span class="string">&#123;()</span> =&gt;</span> &#123;</span></span><br><span class="line"><span class="language-xml">        flushSync(() =&gt; &#123;</span></span><br><span class="line"><span class="language-xml">          setCount1(count =&gt; count + 1);</span></span><br><span class="line"><span class="language-xml">        &#125;);</span></span><br><span class="line"><span class="language-xml">        // 第一次更新</span></span><br><span class="line"><span class="language-xml">        flushSync(() =&gt; &#123;</span></span><br><span class="line"><span class="language-xml">          setCount2(count =&gt; count + 1);</span></span><br><span class="line"><span class="language-xml">        &#125;);</span></span><br><span class="line"><span class="language-xml">        // 第二次更新</span></span><br><span class="line"><span class="language-xml">      &#125;&#125;</span></span><br><span class="line"><span class="language-xml">    &gt;</span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">div</span>&gt;</span>count1： &#123;count1&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">      <span class="tag">&lt;<span class="name">div</span>&gt;</span>count2： &#123;count2&#125;<span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line"><span class="language-xml">    <span class="tag">&lt;/<span class="name">div</span>&gt;</span></span></span><br><span class="line">  );</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title class_">App</span>;</span><br></pre></td></tr></table></figure><ul><li><p>需要注意的是,如果通过<code>useEffect</code>来,且依赖收集为一个空数组,那么就需要注意函数调用的state值的问题了</p><ul><li>初次渲染的时候,函数指向的是初始化时候的值,当有数据重新渲染的时候,如果不进行依赖收集去更新<code>useEffect</code>当中函数的指向,那么就会导致<code>useEffect</code>指向的永远是初始化时候的函数,<strong>从而导致函数内部的state值永远为初始化时候的值</strong></li><li>所以老师的解决办法如下<ul><li>也就是传入参数的方式</li></ul></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//老师解决办法</span></span><br><span class="line"><span class="title function_">useEffect</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">	(<span class="keyword">async</span> () =&gt; &#123;</span><br><span class="line">		<span class="comment">//获取详情图</span></span><br><span class="line">		<span class="keyword">const</span> result = <span class="keyword">await</span> api.<span class="title function_">queryNewsInfo</span>(id ?? <span class="string">&#x27;&#x27;</span>);</span><br><span class="line">		<span class="title function_">flushSync</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">			<span class="title function_">setInfo</span>(result)</span><br><span class="line">			<span class="title function_">handleStyle</span>(result);</span><br><span class="line">		&#125;)</span><br><span class="line">		</span><br><span class="line">		<span class="title function_">handleImage</span>(result);</span><br><span class="line">	&#125;)()</span><br><span class="line">&#125;,[])</span><br><span class="line"></span><br><span class="line"><span class="comment">//下面这种是错误的,handleStyle和handleImage无法获取到最新的state值</span></span><br><span class="line"><span class="title function_">useEffect</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">	(<span class="keyword">async</span> () =&gt; &#123;</span><br><span class="line">		<span class="comment">//获取详情图</span></span><br><span class="line">		<span class="keyword">const</span> result = <span class="keyword">await</span> api.<span class="title function_">queryNewsInfo</span>(id ?? <span class="string">&#x27;&#x27;</span>);</span><br><span class="line">		<span class="title function_">flushSync</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">			<span class="title function_">setInfo</span>(result)</span><br><span class="line">			<span class="title function_">handleStyle</span>();</span><br><span class="line">		&#125;)</span><br><span class="line">		<span class="comment">//保证DOM可以获取到</span></span><br><span class="line">		<span class="title function_">handleImage</span>();</span><br><span class="line">	&#125;)()</span><br><span class="line">&#125;,[])</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//顺带一提,输出结果为 1,2,3,4</span></span><br><span class="line"><span class="title function_">useEffect</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">	(<span class="keyword">async</span> () =&gt; &#123;</span><br><span class="line">		<span class="comment">//获取详情图</span></span><br><span class="line">		<span class="keyword">const</span> result = <span class="keyword">await</span> api.<span class="title function_">queryNewsInfo</span>(id ?? <span class="string">&#x27;&#x27;</span>);</span><br><span class="line">		<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">1</span>)</span><br><span class="line">		<span class="title function_">flushSync</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">			<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">2</span>)</span><br><span class="line">			<span class="title function_">setInfo</span>(result)</span><br><span class="line">			<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">3</span>)</span><br><span class="line">		&#125;)</span><br><span class="line">		<span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="number">4</span>,info)</span><br><span class="line">		<span class="title function_">handleStyle</span>(result);</span><br><span class="line">		<span class="comment">//保证DOM可以获取到</span></span><br><span class="line">		<span class="title function_">handleImage</span>(result);</span><br><span class="line">	&#125;)()</span><br><span class="line">&#125;,[])</span><br></pre></td></tr></table></figure></li></ul><h3 id="设置图片"><a href="#设置图片" class="headerlink" title="设置图片"></a>设置图片</h3><ul><li>图片设置<ul><li>为了更加好的体验,加入了<code>onload</code>和<code>onerror</code>事件</li></ul></li></ul><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* 处理大图 */</span></span><br><span class="line"><span class="keyword">const</span> <span class="title function_">handleImage</span> = (<span class="params">info:<span class="built_in">any</span></span>) =&gt; &#123;</span><br><span class="line">    <span class="keyword">const</span> &#123; image &#125; = info;</span><br><span class="line">    <span class="keyword">if</span>(!image) <span class="keyword">return</span>;</span><br><span class="line">    <span class="keyword">const</span> picDOM = <span class="variable language_">document</span>.<span class="property">querySelector</span>&lt;<span class="title class_">HTMLElement</span>&gt;(<span class="string">&#x27;.img-place-holder&#x27;</span>);</span><br><span class="line">    <span class="keyword">const</span> imgDOM = <span class="variable language_">document</span>.<span class="title function_">createElement</span>(<span class="string">&#x27;img&#x27;</span>);</span><br><span class="line">    imgDOM.<span class="property">src</span> = image;</span><br><span class="line">    imgDOM.<span class="property">onload</span> = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="comment">//完成加载</span></span><br><span class="line">        imgDOM.<span class="property">style</span>.<span class="property">cssText</span> = <span class="string">&#x27;width:100%&#x27;</span></span><br><span class="line">        <span class="comment">//@ts-ignore;</span></span><br><span class="line">        picDOM.<span class="property">style</span>.<span class="property">cssText</span> = <span class="string">&#x27;overflow:hidden&#x27;</span>;</span><br><span class="line">        picDOM?.<span class="title function_">appendChild</span>(imgDOM);</span><br><span class="line">    &#125;</span><br><span class="line">    imgDOM.<span class="property">onerror</span> = <span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="comment">//移除外层容器</span></span><br><span class="line">        <span class="keyword">const</span> parent = picDOM?.<span class="property">parentElement</span>;</span><br><span class="line">        parent?.<span class="title function_">removeChild</span>(picDOM <span class="keyword">as</span> <span class="built_in">any</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="登录页面"><a href="#登录页面" class="headerlink" title="登录页面"></a>登录页面</h2><ul><li>reduxjs&#x2F;toolkit</li></ul><h3 id="reduxjs-toolkit使用异步-方法1"><a href="#reduxjs-toolkit使用异步-方法1" class="headerlink" title="reduxjs&#x2F;toolkit使用异步-方法1"></a>reduxjs&#x2F;toolkit使用异步-方法1</h3><ul><li><p>缺点是需要使用<code>@ts-ignore</code>,否者会报<code>A computed property name must be of type &#39;string&#39;, &#39;number&#39;, &#39;symbol&#39;, or &#39;any&#39;.</code>警告</p></li><li><p>异步函数</p></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">import &#123;createAsyncThunk&#125; from &quot;@reduxjs/toolkit&quot;;</span><br><span class="line"></span><br><span class="line">export const fetchUserDataAction = createAsyncThunk(&#x27;fetch/fetchUserDataAction&#x27;,() =&gt; &#123;</span><br><span class="line">    console.log(&#x27;执行了我&#x27;)</span><br><span class="line">    //将作为payload值</span><br><span class="line">    return &#123;</span><br><span class="line">        age:&#x27;18888&#x27;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li>store基本步骤</li></ul><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;fetchUserDataAction&#125; <span class="keyword">from</span> <span class="string">&quot;./actions&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; createSlice&#125; <span class="keyword">from</span> <span class="string">&quot;@reduxjs/toolkit&quot;</span>;</span><br><span class="line"><span class="comment">//创建</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title class_">Base</span> = <span class="title function_">createSlice</span>(&#123;</span><br><span class="line">    <span class="attr">name</span>:<span class="string">&#x27;base&#x27;</span>,</span><br><span class="line">    <span class="attr">initialState</span>:<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="title class_">Info</span>;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">reducers</span>:&#123;</span><br><span class="line">        <span class="attr">userInfo</span>: <span class="function">(<span class="params">state, action</span>) =&gt;</span> &#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(state,action)</span><br><span class="line">            state.<span class="property">other</span> = &#123;</span><br><span class="line">                <span class="attr">name</span>:<span class="string">&#x27;我是新名称&#x27;</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line"></span><br><span class="line">    <span class="attr">extraReducers</span>:&#123;</span><br><span class="line">        <span class="comment">//@ts-ignore</span></span><br><span class="line">        [fetchUserData.<span class="property">fulfilled</span>](state,&#123;payload&#125;)&#123;</span><br><span class="line">   				 <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;请看下图&#x27;</span>,action)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//主入口</span></span><br><span class="line"><span class="keyword">import</span> &#123; configureStore &#125; <span class="keyword">from</span> <span class="string">&quot;@reduxjs/toolkit&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">BaseSliceReducer</span> &#125; <span class="keyword">from</span> <span class="string">&quot;@/store/slice/base&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">Store</span> = <span class="title function_">configureStore</span>(&#123;</span><br><span class="line">    <span class="attr">reducer</span>:&#123;</span><br><span class="line">        <span class="attr">base</span>:<span class="title class_">BaseSliceReducer</span>,</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title class_">Store</span>;</span><br><span class="line"></span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li>使用</li></ul><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;fetchUserDataAction&#125; <span class="keyword">from</span> <span class="string">&quot;@/store/slice/base/actions&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123;useDispatch&#125; <span class="keyword">from</span> <span class="string">&quot;react-redux&quot;</span>;</span><br><span class="line"><span class="keyword">const</span> dispatch = <span class="title function_">useDispatch</span>()</span><br><span class="line"><span class="comment">//调用异步</span></span><br><span class="line"><span class="title function_">dispatch</span>(<span class="title function_">fetchUserDataAction</span>() <span class="keyword">as</span> <span class="built_in">any</span>);</span><br></pre></td></tr></table></figure><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202303261919333.png" alt="执行输出"></p><h3 id="reduxjs-toolkit使用异步-方法2"><a href="#reduxjs-toolkit使用异步-方法2" class="headerlink" title="reduxjs&#x2F;toolkit使用异步-方法2"></a>reduxjs&#x2F;toolkit使用异步-方法2</h3><ul><li>异步函数</li></ul><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;createAsyncThunk&#125; <span class="keyword">from</span> <span class="string">&quot;@reduxjs/toolkit&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> fetchUserDataAction = <span class="title function_">createAsyncThunk</span>(<span class="string">&#x27;fetch/fetchUserDataAction&#x27;</span>,<span class="function">() =&gt;</span> &#123;</span><br><span class="line">    <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;执行了我&#x27;</span>)</span><br><span class="line">    <span class="comment">//将作为payload值</span></span><br><span class="line">    <span class="keyword">return</span> &#123;</span><br><span class="line">        <span class="attr">age</span>:<span class="string">&#x27;18888&#x27;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><ul><li>store基本步骤</li></ul><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;fetchUserDataAction&#125; <span class="keyword">from</span> <span class="string">&quot;./actions&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; createSlice&#125; <span class="keyword">from</span> <span class="string">&quot;@reduxjs/toolkit&quot;</span>;</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title class_">Base</span> = <span class="title function_">createSlice</span>(&#123;</span><br><span class="line">    <span class="attr">name</span>:<span class="string">&#x27;base&#x27;</span>,</span><br><span class="line">    <span class="attr">initialState</span>:<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="title class_">Info</span>;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="attr">reducers</span>:&#123;</span><br><span class="line">        <span class="attr">userInfo</span>: <span class="function">(<span class="params">state, action</span>) =&gt;</span> &#123;</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(state,action)</span><br><span class="line">            state.<span class="property">other</span> = &#123;</span><br><span class="line">                <span class="attr">name</span>:<span class="string">&#x27;我是新名称&#x27;</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    <span class="title function_">extraReducers</span>(<span class="params">builder</span>)&#123;</span><br><span class="line">        builder</span><br><span class="line">            .<span class="title function_">addCase</span>(fetchUserDataAction.<span class="property">fulfilled</span>,<span class="function">(<span class="params">state, action</span>) =&gt;</span> &#123;</span><br><span class="line">                <span class="variable language_">console</span>.<span class="title function_">log</span>(<span class="string">&#x27;执行了我&#x27;</span>,action)</span><br><span class="line">            &#125;)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//主入口</span></span><br><span class="line"><span class="keyword">import</span> &#123; configureStore &#125; <span class="keyword">from</span> <span class="string">&quot;@reduxjs/toolkit&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123; <span class="title class_">BaseSliceReducer</span> &#125; <span class="keyword">from</span> <span class="string">&quot;@/store/slice/base&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">Store</span> = <span class="title function_">configureStore</span>(&#123;</span><br><span class="line">    <span class="attr">reducer</span>:&#123;</span><br><span class="line">        <span class="attr">base</span>:<span class="title class_">BaseSliceReducer</span>,</span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title class_">Store</span>;</span><br></pre></td></tr></table></figure><ul><li>使用</li></ul><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;fetchUserDataAction&#125; <span class="keyword">from</span> <span class="string">&quot;@/store/slice/base/actions&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123;useDispatch&#125; <span class="keyword">from</span> <span class="string">&quot;react-redux&quot;</span>;</span><br><span class="line"><span class="keyword">const</span> dispatch = <span class="title function_">useDispatch</span>()</span><br><span class="line"><span class="comment">//调用异步</span></span><br><span class="line"><span class="title function_">dispatch</span>(<span class="title function_">fetchUserDataAction</span>() <span class="keyword">as</span> <span class="built_in">any</span>);</span><br></pre></td></tr></table></figure><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202303261919333.png" alt="执行输出"></p><h3 id="需要做的跳转处理"><a href="#需要做的跳转处理" class="headerlink" title="需要做的跳转处理"></a>需要做的跳转处理</h3><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202303271722119.png"></p><h2 id="路由设置"><a href="#路由设置" class="headerlink" title="路由设置"></a>路由设置</h2><ul><li>类似于Vued的路由前置守卫</li><li>做法<ul><li>看下图</li></ul></li></ul><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202303292131394.png" alt="自己绘制说明"></p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202303292131276.png" alt="老师说明"></p><ul><li>代码这里借助一个hooks来书写</li></ul><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line">* 路由校验-判断是否需要登录 */</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">const</span> <span class="title function_">useCheckNeedAuth</span> = (<span class="params">path:<span class="built_in">string</span></span>) =&gt; &#123;</span><br><span class="line">    <span class="keyword">const</span> [,setRandomValue] = useState&lt;<span class="built_in">string</span>&gt;(<span class="string">&#x27;&#x27;</span>);</span><br><span class="line">    <span class="keyword">const</span> &#123; info &#125;: <span class="built_in">any</span> = useSelector&lt;<span class="built_in">any</span>&gt;(<span class="function">(<span class="params">state</span>) =&gt;</span> state.<span class="property">base</span>);</span><br><span class="line">    <span class="keyword">const</span> needAuth = !info &amp;&amp; needAuthPath.<span class="title function_">includes</span>(path)<span class="comment">//登录信息不存在,并且访问的路径在需要认证的路由路径就需要认证;</span></span><br><span class="line">    <span class="keyword">const</span> dispatch = <span class="title function_">useDispatch</span>();</span><br><span class="line">    <span class="keyword">const</span> navigate = <span class="title function_">useNavigate</span>();</span><br><span class="line">    <span class="keyword">const</span> location = <span class="title function_">useLocation</span>();</span><br><span class="line">    <span class="title function_">useEffect</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">        (<span class="keyword">async</span> () =&gt; &#123;</span><br><span class="line">            <span class="comment">//不需要校验,直接返回</span></span><br><span class="line">            <span class="keyword">if</span>(!needAuth) <span class="keyword">return</span>;</span><br><span class="line">            <span class="comment">//需要校验,请求获取用户信息(因为redux刷新后状态就没有了,需要重新请求)</span></span><br><span class="line">            <span class="keyword">const</span> &#123;<span class="attr">payload</span>:info&#125; = <span class="keyword">await</span> <span class="title function_">dispatch</span>(<span class="title function_">fetchUserDataAction</span>() <span class="keyword">as</span> <span class="built_in">any</span>).<span class="title function_">catch</span>(<span class="function">() =&gt;</span> &#123;&#125;)</span><br><span class="line">            <span class="keyword">if</span>(!info)&#123;</span><br><span class="line">                <span class="title class_">Toast</span>.<span class="title function_">show</span>(&#123;</span><br><span class="line">                    <span class="attr">icon</span>:<span class="string">&#x27;fail&#x27;</span>,</span><br><span class="line">                    <span class="attr">content</span>:<span class="string">&#x27;请先登录&#x27;</span></span><br><span class="line">                &#125;)</span><br><span class="line">                <span class="comment">//console.log(&#x27;执行跳转&#x27;);</span></span><br><span class="line">                <span class="title function_">navigate</span>(&#123;</span><br><span class="line">                    <span class="attr">pathname</span>:<span class="string">&#x27;/login&#x27;</span>,</span><br><span class="line">                    <span class="attr">search</span>:<span class="string">`redirect=<span class="subst">$&#123;location.pathname&#125;</span>`</span>,</span><br><span class="line">                &#125;)</span><br><span class="line">                <span class="keyword">return</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//console.log(&#x27;获取到了信息&#x27;)</span></span><br><span class="line">            <span class="comment">//这里采用的方法就是更新一个值,从而去触发重新渲染,老师用的是时间戳,我这里就用uuid</span></span><br><span class="line">            <span class="title function_">setRandomValue</span>(<span class="title function_">uuidv4</span>());</span><br><span class="line">        &#125;)();</span><br><span class="line">    &#125;)</span><br><span class="line">    <span class="keyword">return</span> [</span><br><span class="line">        needAuth,</span><br><span class="line">    ]</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>顺带一提,直接在<code>useEffect</code>当中使用<code>async</code>也是不被允许的</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 错误写法</span></span><br><span class="line"><span class="comment">// useEffect(async () =&gt; &#123;</span></span><br><span class="line"><span class="comment">//     const result = await axios(</span></span><br><span class="line"><span class="comment">//         &#x27;https://hn.algolia.com/api/v1/search?query=redux&#x27;,</span></span><br><span class="line"><span class="comment">//     );</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//     setData(result.data);</span></span><br><span class="line"><span class="comment">// &#125;);</span></span><br><span class="line"> </span><br><span class="line"><span class="comment">// 正确写法</span></span><br><span class="line"><span class="title function_">useEffect</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line"><span class="keyword">const</span> <span class="title function_">fetchData</span> = <span class="keyword">async</span> (<span class="params"></span>) =&gt; &#123;</span><br><span class="line">	<span class="keyword">const</span> result = <span class="keyword">await</span> <span class="title function_">axios</span>(</span><br><span class="line">		<span class="string">&#x27;https://hn.algolia.com/api/v1/search?query=redux&#x27;</span>,</span><br><span class="line">	);</span><br><span class="line"></span><br><span class="line">	<span class="title function_">setData</span>(result.<span class="property">data</span>);</span><br><span class="line">&#125;;</span><br><span class="line"></span><br><span class="line"><span class="title function_">fetchData</span>();</span><br><span class="line">&#125;, []);</span><br></pre></td></tr></table></figure><h2 id="收藏-取消收藏"><a href="#收藏-取消收藏" class="headerlink" title="收藏&#x2F;取消收藏"></a>收藏&#x2F;取消收藏</h2><ul><li>需要注意的是,如果我们想携带params参数和search参数,就需要自己组合了<ul><li>当然,你也可以使用<code>window.location.href</code>获取完整的路径信息,不过需要自己对<code>http://localhost</code>做处理</li></ul></li></ul><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202303300851421.png"></p><ul><li>所以我解决办法就是,使用组合</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">props.<span class="title function_">navigate</span>(&#123;</span><br><span class="line">    <span class="attr">pathname</span>:<span class="string">&#x27;/login&#x27;</span>,</span><br><span class="line">    <span class="attr">search</span>:props.<span class="property">location</span>.<span class="property">pathname</span> + props.<span class="property">location</span>.<span class="property">search</span>,</span><br><span class="line">&#125;)</span><br></pre></td></tr></table></figure><h2 id="收藏夹"><a href="#收藏夹" class="headerlink" title="收藏夹"></a>收藏夹</h2><ul><li>就添加了确认弹窗操作</li></ul><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202304031533927.png"></p><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202304031531623.png"></p><h2 id="实现组件的缓存"><a href="#实现组件的缓存" class="headerlink" title="实现组件的缓存"></a>实现组件的缓存</h2><ul><li>缓存的方式</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">主流思想上:</span><br><span class="line">1.不是标准的组件缓存，只是数据缓存A-&gt;B在A组件路由跳转的时候，把A组件中需要的数据「或者A组件的全部虚拟DOM」存储到redux中! !A组件释放，B组件加载! !当从B回到A的时候，A开始加载首先判断redux中是否存储了数据(或者虚拟DOM)，如果没存储，就是第一次加载逻辑的处理; 如果存储了，则把存储的数据拿来渲染! ! </span><br><span class="line"></span><br><span class="line">2.修改路由的跳转机制，在路由跳转的时候，把指定的组件不销毁，只是控制display:none隐藏;后期从B回到A的时候，直接让A组件display:block! !</span><br><span class="line"></span><br><span class="line">3.把A组件的真实DOM等信息，直接缓存起来;从B跳转回A的时候，直接把A之前缓存的信息拿出来用! !</span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li><del>老师用的是一个老师的组件,这里就使用cjy0208大佬的<code>react-activation</code>(毕竟下载人数多嘛)</del><ul><li>好吧,此组件react18当中bug太多了………………并且需要使用老的ReactDOM.render写法,就不使用了</li></ul></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">yarn add react-activation</span><br><span class="line"># 或者</span><br><span class="line">npm install react-activation</span><br></pre></td></tr></table></figure><ul><li>跳过……………..</li></ul><h2 id="修改个人信息-文件上传"><a href="#修改个人信息-文件上传" class="headerlink" title="修改个人信息-文件上传"></a>修改个人信息-文件上传</h2><ul><li>一开始纠结文件上传失败后还显示图片,后面解决办法很简单</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">在uplod中上传失败之后抛出异常</span><br><span class="line"></span><br><span class="line">throw new Error(&#x27;上传失败，请重新上传&#x27;)</span><br><span class="line"></span><br><span class="line">然后在ImageUpload中加入属性 showFailed: false</span><br></pre></td></tr></table></figure><h2 id="遇到的问题"><a href="#遇到的问题" class="headerlink" title="遇到的问题"></a>遇到的问题</h2><h3 id="无法解析scss-sass提示create-react-app-Cannot-find-module-‘sass’"><a href="#无法解析scss-sass提示create-react-app-Cannot-find-module-‘sass’" class="headerlink" title="无法解析scss&#x2F;sass提示create-react-app Cannot find module ‘sass’"></a>无法解析scss&#x2F;sass提示create-react-app Cannot find module ‘sass’</h3><ul><li>使用 create-react-app 的创建的项目，其默认的 webpack.config.js （这个文件默认隐藏，要查看需要运行 npm run eject，运行这个命令前需要本地 commit 代码）的文件中，可以看到是默认配置了 sass-loader 的选项的，所以在 react 项目中使用 sass 还是比较方便的。虽然默认配置了 sass-loader，但要使用 sass 还是需要先安装一下的,不然就会像我一样出现<code>create-react-app Cannot find module &#39;sass&#39;</code></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">npm install sass -D </span><br><span class="line">or</span><br><span class="line">yarn add sass -D </span><br></pre></td></tr></table></figure><h3 id="无法解析less或提示Cannot-find-module-‘-index-module-less’-or-its-corresponding-type-declarations"><a href="#无法解析less或提示Cannot-find-module-‘-index-module-less’-or-its-corresponding-type-declarations" class="headerlink" title="无法解析less或提示Cannot find module ‘.&#x2F;index.module.less’ or its corresponding type declarations"></a>无法解析less或提示Cannot find module ‘.&#x2F;index.module.less’ or its corresponding type declarations</h3><ul><li>安装</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">npm install craco-less -D</span><br><span class="line">or</span><br><span class="line">yarn add craco-less -D </span><br></pre></td></tr></table></figure><ul><li>编辑<code>craco.config.js</code></li></ul><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> <span class="title class_">CracoLessPlugin</span> = <span class="built_in">require</span>(<span class="string">&#x27;craco-less&#x27;</span>);</span><br><span class="line"></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">  	</span><br><span class="line">    <span class="attr">plugins</span>: [</span><br><span class="line">        &#123;</span><br><span class="line">            <span class="attr">plugin</span>: <span class="title class_">CracoLessPlugin</span>,</span><br><span class="line">            <span class="attr">options</span>: &#123;</span><br><span class="line">                <span class="comment">// 此处根据 less-loader 版本的不同会有不同的配置，详见 less-loader 官方文档</span></span><br><span class="line">                <span class="attr">lessLoaderOptions</span>: &#123;</span><br><span class="line">                    <span class="attr">lessOptions</span>: &#123;</span><br><span class="line">                        <span class="attr">modifyVars</span>: &#123;&#125;,</span><br><span class="line">                        <span class="attr">javascriptEnabled</span>: <span class="literal">true</span></span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    ]</span><br><span class="line">&#125;;</span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li>这样我们就可以使用下面命令来使用less了</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">import &quot;./index.less&quot;</span><br></pre></td></tr></table></figure><ul><li>可能会出现下面问题<code>Cannot find module &#39;./index.module.less&#39; or its corresponding type declarations.</code></li></ul><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202303131217786.png"></p><ul><li>找到<code>src\react-app-env.d.ts</code>,添加如下内容</li></ul><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">declare</span> <span class="variable language_">module</span> <span class="string">&quot;*.less&quot;</span> &#123;</span><br><span class="line">    <span class="keyword">const</span> <span class="attr">content</span>: &#123; [<span class="attr">className</span>: <span class="built_in">string</span>]: <span class="built_in">string</span> &#125;;</span><br><span class="line">    <span class="keyword">export</span> <span class="keyword">default</span> content;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202303131220845.png"></p><h3 id="配置别名"><a href="#配置别名" class="headerlink" title="配置别名"></a>配置别名</h3><ul><li>更改<code>craco.config.js</code></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> path = <span class="built_in">require</span>(<span class="string">&#x27;path&#x27;</span>);</span><br><span class="line"><span class="keyword">const</span> <span class="title function_">resolve</span> = dir =&gt; path.<span class="title function_">resolve</span>(__dirname,dir);<span class="comment">/* 计算路径 */</span></span><br><span class="line"><span class="variable language_">module</span>.<span class="property">exports</span> = &#123;</span><br><span class="line">   </span><br><span class="line">    <span class="attr">webpack</span>:&#123;</span><br><span class="line">        <span class="attr">alias</span>:&#123;</span><br><span class="line">            <span class="string">&quot;@&quot;</span>:<span class="title function_">resolve</span>(<span class="string">&#x27;src&#x27;</span>),</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li>然后就可以使用了</li></ul><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//component:lazy(() =&gt; import(&quot;../views/Login&quot;)),</span></span><br><span class="line"><span class="attr">component</span>:<span class="title function_">lazy</span>(<span class="function">() =&gt;</span> <span class="keyword">import</span>(<span class="string">&quot;@/views/Login&quot;</span>)),</span><br></pre></td></tr></table></figure><ul><li>不过可能会出现<code>Cannot find module &#39;@/views/Login&#39; or its corresponding type declarations.</code><ul><li>可以在 项目的根目录创建一个<code>jsconfig.json</code>或者<code>tsconfig.json</code>,添加如下内容即可</li></ul></li></ul><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">	<span class="attr">&quot;compilerOptions&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">		    <span class="attr">&quot;baseUrl&quot;</span><span class="punctuation">:</span> <span class="string">&quot;./&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;paths&quot;</span><span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">              <span class="attr">&quot;@/*&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span><span class="string">&quot;src/*&quot;</span><span class="punctuation">]</span></span><br><span class="line">            <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">	<span class="punctuation">&#125;</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><ul><li>更改完成记得重启服务,如果上述服务都没有用,可以试试看<code>craco-alias</code>(不过这个库已经被废弃了)<ul><li><a target="_blank" rel="noopener" href="https://www.npmjs.com/package/craco-alias">@craco-alias</a></li></ul></li></ul><h3 id="依赖收集导致无法获取到最新state值"><a href="#依赖收集导致无法获取到最新state值" class="headerlink" title="依赖收集导致无法获取到最新state值"></a>依赖收集导致无法获取到最新state值</h3><ul><li>在做下拉加载组件的时候,下面的代码有问题</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123; onBottom,options,style &#125; = props;</span><br><span class="line">   <span class="keyword">const</span> loadRef = useRef&lt;any&gt;();</span><br><span class="line"></span><br><span class="line">   <span class="title function_">useEffect</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">       <span class="keyword">const</span> loadRefCurrent = loadRef.<span class="property">current</span>;</span><br><span class="line">       <span class="keyword">const</span> observer = <span class="keyword">new</span> <span class="title class_">IntersectionObserver</span>(<span class="function">(<span class="params">change</span>) =&gt;</span> &#123;</span><br><span class="line">           <span class="keyword">const</span> &#123;isIntersecting&#125; = change[<span class="number">0</span>];</span><br><span class="line">           <span class="keyword">if</span>(isIntersecting)&#123;</span><br><span class="line">               onBottom &amp;&amp; <span class="title function_">onBottom</span>();</span><br><span class="line">           &#125;</span><br><span class="line">       &#125;,options ?? &#123;&#125;);</span><br><span class="line">       observer.<span class="title function_">observe</span>(loadRef.<span class="property">current</span>);</span><br><span class="line">       <span class="keyword">return</span> <span class="function">() =&gt;</span> &#123;</span><br><span class="line">           <span class="comment">//移除监听</span></span><br><span class="line">           observer.<span class="title function_">unobserve</span>(loadRefCurrent);</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="comment">//这里有问题,依赖未写入</span></span><br><span class="line">   &#125;,[])</span><br></pre></td></tr></table></figure><ul><li>导致父组件当中</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">/* 执行到底部的回调 */</span><br><span class="line">const handleOnBottom = () =&gt; &#123;</span><br><span class="line">	//子组件未添加依赖收集,导致newList永远是初始阶段的值</span><br><span class="line">	console.log(newList)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>所以需要添加依赖</li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> &#123; onBottom,options,style &#125; = props;</span><br><span class="line">  <span class="keyword">const</span> loadRef = useRef&lt;any&gt;();</span><br><span class="line"></span><br><span class="line">  <span class="title function_">useEffect</span>(<span class="function">() =&gt;</span> &#123;</span><br><span class="line">      <span class="keyword">const</span> loadRefCurrent = loadRef.<span class="property">current</span>;</span><br><span class="line">      <span class="keyword">const</span> observer = <span class="keyword">new</span> <span class="title class_">IntersectionObserver</span>(<span class="function">(<span class="params">change</span>) =&gt;</span> &#123;</span><br><span class="line">          <span class="keyword">const</span> &#123;isIntersecting&#125; = change[<span class="number">0</span>];</span><br><span class="line">          <span class="keyword">if</span>(isIntersecting)&#123;</span><br><span class="line">              onBottom &amp;&amp; <span class="title function_">onBottom</span>();</span><br><span class="line">          &#125;</span><br><span class="line">      &#125;,options ?? &#123;&#125;);</span><br><span class="line">      observer.<span class="title function_">observe</span>(loadRef.<span class="property">current</span>);</span><br><span class="line">      <span class="keyword">return</span> <span class="function">() =&gt;</span> &#123;</span><br><span class="line">          <span class="comment">//移除监听</span></span><br><span class="line">          observer.<span class="title function_">unobserve</span>(loadRefCurrent);</span><br><span class="line">      &#125;</span><br><span class="line">      <span class="comment">//注意添加依赖</span></span><br><span class="line">  &#125;,[onBottom,options,style])</span><br></pre></td></tr></table></figure><h3 id="dispatch出现Argument-of-type-‘AsyncThunkAction-age-string-void-AsyncThunkConfig-’-is-not-assignable-to-parameter-of-type-‘AnyAction’"><a href="#dispatch出现Argument-of-type-‘AsyncThunkAction-age-string-void-AsyncThunkConfig-’-is-not-assignable-to-parameter-of-type-‘AnyAction’" class="headerlink" title="dispatch出现Argument of type ‘AsyncThunkAction{ age: string; }, void, AsyncThunkConfig&gt;’ is not assignable to parameter of type ‘AnyAction’"></a>dispatch出现Argument of type ‘AsyncThunkAction{ age: string; }, void, AsyncThunkConfig&gt;’ is not assignable to parameter of type ‘AnyAction’</h3><ul><li>方法1：设置为any</li></ul><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123;fetchUserDataAction&#125; <span class="keyword">from</span> <span class="string">&quot;@/store/slice/base/actions&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123;useDispatch&#125; <span class="keyword">from</span> <span class="string">&quot;react-redux&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> dispatch = <span class="title function_">useDispatch</span>()</span><br><span class="line"><span class="title function_">dispatch</span>(<span class="title function_">fetchUserDataAction</span>() <span class="keyword">as</span> <span class="built_in">any</span>)</span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li>方法2：暴露Store当中的dispatch类型</li></ul><figure class="highlight ts"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> &#123; configureStore &#125; <span class="keyword">from</span> <span class="string">&quot;@reduxjs/toolkit&quot;</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="keyword">const</span> <span class="title class_">Store</span> = <span class="title function_">configureStore</span>(&#123;</span><br><span class="line">    <span class="attr">reducer</span>:&#123;</span><br><span class="line">        </span><br><span class="line">    &#125;</span><br><span class="line">&#125;)</span><br><span class="line"><span class="keyword">export</span> <span class="keyword">type</span> <span class="title class_">AppDispatch</span> =  <span class="keyword">typeof</span> <span class="title class_">Store</span>.<span class="property">dispatch</span></span><br><span class="line"><span class="keyword">export</span> <span class="keyword">default</span> <span class="title class_">Store</span>;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">//使用</span></span><br><span class="line"><span class="keyword">import</span> &#123;<span class="title class_">AppDispatch</span>&#125; <span class="keyword">from</span> <span class="string">&quot;@/store&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123;useDispatch&#125; <span class="keyword">from</span> <span class="string">&quot;react-redux&quot;</span>;</span><br><span class="line"><span class="keyword">import</span> &#123;fetchUserDataAction&#125; <span class="keyword">from</span> <span class="string">&quot;@/store/slice/base/actions&quot;</span>;</span><br><span class="line"><span class="keyword">const</span> dispatch = useDispatch&lt;<span class="title class_">AppDispatch</span>&gt;()</span><br><span class="line"><span class="title function_">dispatch</span>(<span class="title function_">fetchUserDataAction</span>())</span><br></pre></td></tr></table></figure><h2 id="小知识点"><a href="#小知识点" class="headerlink" title="小知识点"></a>小知识点</h2><h4 id="stylesheet引入html文档的外部样式表"><a href="#stylesheet引入html文档的外部样式表" class="headerlink" title="stylesheet引入html文档的外部样式表"></a>stylesheet引入html文档的外部样式表</h4><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">rel=&quot;styleSheet&quot; </span><br><span class="line">打个比喻：就好比你带了个妞去一个party，虽然你知道这个妞是谁，但是你没给别人介绍啊，谁知道这个妞是干嘛的。</span><br><span class="line">于是你加上rel=&quot;stylesheet&quot;，然后人们就知道了，哦......原来这个妞是你带来蹭饭的！</span><br><span class="line"></span><br><span class="line">那么type=&quot;text/css&quot; 也是一个道理，都是用来告诉浏览器的，我这个是一个css的文本，你要是不认识就别乱搞。</span><br><span class="line"></span><br><span class="line">对于一些特殊浏览器 不能识别css的，会将代码认为text，从而不显示也不报错。</span><br><span class="line"></span><br><span class="line">不过根据官方建议 ，一般还是加上比较好。</span><br><span class="line"></span><br><span class="line">因为这个表示的是浏览器的解释方式，如果不定义的话，有些CSS效果浏览器解释得不一样。</span><br></pre></td></tr></table></figure><h4 id="React默认Event类型可以使用React-MouseEvent来指明"><a href="#React默认Event类型可以使用React-MouseEvent来指明" class="headerlink" title="React默认Event类型可以使用React.MouseEvent来指明"></a>React默认Event类型可以使用React.MouseEvent来指明</h4><h4 id="解构赋值省略掉部分参数"><a href="#解构赋值省略掉部分参数" class="headerlink" title="解构赋值省略掉部分参数"></a>解构赋值省略掉部分参数</h4><ul><li>笔记摘录:<a target="_blank" rel="noopener" href="https://blog.csdn.net/qq_43379916/article/details/115632238">https://blog.csdn.net/qq_43379916/article/details/115632238</a></li></ul><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 解构赋值省略掉部分参数</span></span><br><span class="line"><span class="keyword">let</span> obj  = &#123;</span><br><span class="line">    <span class="attr">name</span>:<span class="string">&#x27;法外狂徒&#x27;</span>,</span><br><span class="line">    <span class="attr">age</span>:<span class="number">18</span>,</span><br><span class="line">    <span class="attr">sex</span>:<span class="string">&#x27;男&#x27;</span>,</span><br><span class="line">    <span class="attr">qq</span>:<span class="string">&#x27;15946875963&#x27;</span>,</span><br><span class="line">    <span class="attr">phone</span>:<span class="string">&#x27;15689784598&#x27;</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 利用解构得rest语法收集那些尚未被解构模式拾取的剩余可枚举属性键</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment"> rest语法：剩余参数语法</span></span><br><span class="line"><span class="comment"> 官网：https://developer.mozilla.org/zh-CN/docs/Web/JavaScript/Reference/Functions/Rest_parameters</span></span><br><span class="line"><span class="comment"> 如果函数(对象)的最后一个命名参数以...为前缀，则它将成为一个由剩余参数组成的真数组(对象)</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"> <span class="comment">//remaining参数可以随意命名</span></span><br><span class="line"><span class="keyword">let</span> &#123;name,...remaining&#125; = obj;</span><br><span class="line"><span class="variable language_">console</span>.<span class="title function_">log</span>(remaining) <span class="comment">//&#123; age: 18, sex: &#x27;男&#x27;, qq: &#x27;15946875963&#x27;, phone: &#x27;15689784598&#x27; &#125;</span></span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="才发现注释可以标明类型"><a href="#才发现注释可以标明类型" class="headerlink" title="才发现注释可以标明类型"></a>才发现注释可以标明类型</h4><ul><li>在非ts的情况下</li></ul><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202303261017564.png"></p><h4 id="标准React组件的类型"><a href="#标准React组件的类型" class="headerlink" title="标准React组件的类型"></a>标准React组件的类型</h4><ul><li>可以使用<code>React.ReactNode</code></li></ul><h4 id="老师正则的意思"><a href="#老师正则的意思" class="headerlink" title="老师正则的意思"></a>老师正则的意思</h4><ul><li>老师写了一个正则<code>let reg = /\/api(\/[^/?#]+)/</code></li><li>如果不考虑转义的问题和首尾固定的<code>/ /</code>这二个符号,这个正则就可以简写为下面这种</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/api(/[^/?#])</span><br></pre></td></tr></table></figure><ul><li>如果不考虑分组捕获,可以再简化<ul><li>含义: 匹配字符串当中具有<code>/api</code>内容的,并且获取后面内容不是<code>?</code>或者是<code>#</code>或者是<code>/</code>的字符内容</li></ul></li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">/api/[^/?#]</span><br></pre></td></tr></table></figure><ul><li>图示</li></ul><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202303261600638.png" alt=" "></p><ul><li>分组捕获添加上去后老师的演示代码</li></ul><p><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202303261602363.png"></p><h4 id="less文件引入图片"><a href="#less文件引入图片" class="headerlink" title="less文件引入图片"></a>less文件引入图片</h4><ul><li>前提有别名~才可以这样子,否者要一层一层找下去</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">background-image: url(&quot;~@/assets/images/personBg.png&quot;);</span><br></pre></td></tr></table></figure><h4 id="自定义虚线"><a href="#自定义虚线" class="headerlink" title="自定义虚线"></a>自定义虚线</h4><ul><li>示例1</li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">//自定义虚线</span><br><span class="line">&amp;_dashed&#123;</span><br><span class="line">  <span class="attribute">position</span>: absolute;</span><br><span class="line">  <span class="attribute">bottom</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">left</span>: <span class="number">0</span>;</span><br><span class="line">  <span class="attribute">width</span>: <span class="number">100%</span>;</span><br><span class="line">  <span class="attribute">height</span>: <span class="number">1px</span>;</span><br><span class="line">  <span class="attribute">background-image</span>: <span class="built_in">linear-gradient</span>(</span><br><span class="line">    to right,</span><br><span class="line">    <span class="number">#ccc</span> <span class="number">0%</span>,</span><br><span class="line">    <span class="number">#ccc</span> <span class="number">50%</span>,</span><br><span class="line">    transparent <span class="number">50%</span></span><br><span class="line">  );</span><br><span class="line">  //可以设置此值大小来改变间距</span><br><span class="line">  <span class="attribute">background-size</span>: <span class="number">14px</span> <span class="number">1Px</span>;</span><br><span class="line">  <span class="attribute">background-repeat</span>: repeat-x;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>示例2</li></ul><figure class="highlight css"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="attribute">background</span>: <span class="built_in">linear-gradient</span>(</span><br><span class="line">  to right,</span><br><span class="line">  transparent <span class="number">0%</span>,</span><br><span class="line">  transparent <span class="number">50%</span>,</span><br><span class="line">  <span class="number">#ccc</span> <span class="number">50%</span>,</span><br><span class="line">  <span class="number">#ccc</span> <span class="number">100%</span></span><br><span class="line">);</span><br><span class="line"><span class="attribute">background-size</span>: <span class="number">50px</span> <span class="number">1px</span>;</span><br><span class="line"><span class="attribute">background-repeat</span>: repeat-x;</span><br></pre></td></tr></table></figure><h4 id="指明传入props当中的回调类型提示-Type-‘Function’-is-not-assignable-to-type-‘MouseEventHandler‘"><a href="#指明传入props当中的回调类型提示-Type-‘Function’-is-not-assignable-to-type-‘MouseEventHandler‘" class="headerlink" title="指明传入props当中的回调类型提示: Type ‘Function’ is not assignable to type ‘MouseEventHandler&lt;HTMLDivElement&gt;‘."></a>指明传入props当中的回调类型提示: Type ‘Function’ is not assignable to type ‘MouseEventHandler&lt;HTMLDivElement&gt;‘.</h4></article><div class="post-copyright"><div class="post-copyright__author"><span class="post-copyright-meta"><i class="fas fa-circle-user fa-fw"></i>文章作者: </span><span class="post-copyright-info"><a href="https://www.dreamlove.top">梦洁</a></span></div><div class="post-copyright__type"><span class="post-copyright-meta"><i class="fas fa-square-arrow-up-right fa-fw"></i>文章链接: </span><span class="post-copyright-info"><a href="https://www.dreamlove.top/d2befc3c.html">https://www.dreamlove.top/d2befc3c.html</a></span></div><div class="post-copyright__notice"><span class="post-copyright-meta"><i class="fas fa-circle-exclamation fa-fw"></i>版权声明: </span><span class="post-copyright-info">本博客所有文章除特别声明外，均采用 <a href="https://creativecommons.org/licenses/by-nc-sa/4.0/" target="_blank">CC BY-NC-SA 4.0</a> 许可协议。转载请注明来自 <a href="https://www.dreamlove.top" target="_blank">梦洁小站-属于你我的小天地</a>！</span></div></div><div class="tag_share"><div class="post-meta__tag-list"><a class="post-meta__tags" href="/tags/react/">react</a></div><div class="post_share"><div class="social-share" data-image="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202304091722157.png" data-sites="facebook,twitter,wechat,weibo,qq"></div><link rel="stylesheet" href="https://lib.baomitu.com/butterfly-extsrc/1.1.3/sharejs/dist/css/share.min.css" media="print" onload='this.media="all"'><script src="https://lib.baomitu.com/butterfly-extsrc/1.1.3/sharejs/dist/js/social-share.min.js" defer></script></div></div><nav class="pagination-post" id="pagination"><div class="prev-post pull-left"><a href="/d2cac383.html" title="知乎日报项目前端+后端-React18 + React-Router6 + React-redux + reduxtoolkit"><img class="cover" src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/124124124.png" onerror='onerror=null,src="/img/404.png"' alt="cover of previous post"><div class="pagination-info"><div class="label">上一篇</div><div class="prev_info">知乎日报项目前端+后端-React18 + React-Router6 + React-redux + reduxtoolkit</div></div></a></div><div class="next-post pull-right"><a href="/92310ed8.html" title="微信小程序渐进式骨架屏的写法"><img class="cover" src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202304091725162.png" onerror='onerror=null,src="/img/404.png"' alt="cover of next post"><div class="pagination-info"><div class="label">下一篇</div><div class="next_info">微信小程序渐进式骨架屏的写法</div></div></a></div></nav><div class="relatedPosts"><div class="headline"><i class="fas fa-thumbs-up fa-fw"></i><span>相关推荐</span></div><div class="relatedPosts-list"><div><a href="/d2cac383.html" title="知乎日报项目前端+后端-React18 + React-Router6 + React-redux + reduxtoolkit"><img class="cover" src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/124124124.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-04-03</div><div class="title">知乎日报项目前端+后端-React18 + React-Router6 + React-redux + reduxtoolkit</div></div></a></div><div><a href="/53b29abd.html" title="antd3和dva-自定义组件初始化值的操作演示和自定义组件校验"><img class="cover" src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202403181435851.png" alt="cover"><div class="content is-center"><div class="date"><i class="far fa-calendar-alt fa-fw"></i> 2023-06-07</div><div class="title">antd3和dva-自定义组件初始化值的操作演示和自定义组件校验</div></div></a></div></div></div><hr class="custom-hr"><div id="post-comment"><div class="comment-head"><div class="comment-headline"><i class="fas fa-comments fa-fw"></i><span> 评论</span></div></div><div class="comment-wrap"><div><div id="artalk-wrap"></div></div></div></div></div><div class="aside-content" id="aside-content"><div class="card-widget card-info"><div class="is-center"><div class="avatar-img"><img src="https://oss.ypggb.com/i/2025/07/01/pk26bw.png" onerror='this.onerror=null,this.src="/img/404.png"' alt="avatar"></div><div class="author-info__name">梦洁</div><div class="author-info__description">小小的字,有大大的梦想~分享我的前端学习过程,经历,错误,和一些其他折腾过程</div></div><div class="card-info-data site-data is-center"><a href="/archives/"><div class="headline">文章</div><div class="length-num">182</div></a><a href="/tags/"><div class="headline">标签</div><div class="length-num">101</div></a><a href="/categories/"><div class="headline">分类</div><div class="length-num">73</div></a></div><a id="card-info-btn" target="_blank" rel="noopener" href="https://github.com/superBiuBiuMan"><i class="fab fa-github"></i><span>关注下我(*￣▽￣*)</span></a><div class="card-info-social-icons is-center"><a class="social-icon" href="mailto:zmqdream@qq.com" target="_blank" title="Email"><i class="fas fa-envelope" style="color:#4a7dbe"></i></a></div></div><div class="card-widget card-announcement"><div class="item-headline"><i class="fas fa-bullhorn fa-shake"></i><span>公告</span></div><div class="announcement_content">不断更新中,有问题请留言回复(会通过邮箱提醒~)</div></div><div class="sticky_layout"><div class="card-widget" id="card-toc"><div class="item-headline"><i class="fas fa-stream"></i><span>目录</span><span class="toc-percentage"></span></div><div class="toc-content"><ol class="toc"><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%A1%B9%E7%9B%AE%E5%AE%8C%E5%B7%A5"><span class="toc-number">1.</span> <span class="toc-text">项目完工</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%88%9D%E5%A7%8B%E5%8C%96%E9%A1%B9%E7%9B%AE"><span class="toc-number">2.</span> <span class="toc-text">初始化项目</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#ts%E6%96%B9%E5%BC%8F-%E6%AD%A4%E9%A1%B9%E7%9B%AE%E4%BB%A5ts%E8%BF%90%E8%A1%8C"><span class="toc-number">2.1.</span> <span class="toc-text">ts方式(此项目以ts运行)</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#js%E6%96%B9%E5%BC%8F"><span class="toc-number">2.2.</span> <span class="toc-text">js方式</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#Rem%E5%93%8D%E5%BA%94%E5%BC%8F%E5%A4%84%E7%90%86"><span class="toc-number">3.</span> <span class="toc-text">Rem响应式处理</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%89%8B%E5%8A%A8%E5%A4%84%E7%90%86"><span class="toc-number">3.1.</span> <span class="toc-text">手动处理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%87%AA%E5%8A%A8%E5%A4%84%E7%90%86"><span class="toc-number">3.2.</span> <span class="toc-text">自动处理</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#package-json%E5%88%97%E8%A1%A8"><span class="toc-number">3.3.</span> <span class="toc-text">package.json列表</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%82%E8%80%83"><span class="toc-number">3.4.</span> <span class="toc-text">参考</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8reduxjs-toolkit"><span class="toc-number">4.</span> <span class="toc-text">使用reduxjs&#x2F;toolkit</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%85%83%E7%B4%A0%E9%9A%90%E8%97%8F-%E6%98%BE%E7%A4%BA"><span class="toc-number">5.</span> <span class="toc-text">元素隐藏&#x2F;显示</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%AF%A6%E6%83%85%E9%A1%B5"><span class="toc-number">6.</span> <span class="toc-text">详情页</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%8F%AF%E4%BB%A5%E5%88%A9%E7%94%A8useEffect%E6%9D%A5%E5%AE%9E%E7%8E%B0%E5%B9%B6%E5%8F%91%E6%93%8D%E4%BD%9C"><span class="toc-number">6.1.</span> <span class="toc-text">可以利用useEffect来实现并发操作</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#React%E6%B8%B2%E6%9F%93html%E5%AD%97%E7%AC%A6%E4%B8%B2"><span class="toc-number">6.2.</span> <span class="toc-text">React渲染html字符串</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E5%88%9B%E5%BB%BA%E7%9A%84css%E6%A0%B7%E5%BC%8F%E6%94%BE%E7%BD%AE%E5%88%B0document-head%E5%BD%93%E4%B8%AD"><span class="toc-number">6.3.</span> <span class="toc-text">创建的css样式放置到document.head当中</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BD%BF%E7%94%A8flushSync"><span class="toc-number">6.4.</span> <span class="toc-text">使用flushSync</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E8%AE%BE%E7%BD%AE%E5%9B%BE%E7%89%87"><span class="toc-number">6.5.</span> <span class="toc-text">设置图片</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E7%99%BB%E5%BD%95%E9%A1%B5%E9%9D%A2"><span class="toc-number">7.</span> <span class="toc-text">登录页面</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#reduxjs-toolkit%E4%BD%BF%E7%94%A8%E5%BC%82%E6%AD%A5-%E6%96%B9%E6%B3%951"><span class="toc-number">7.1.</span> <span class="toc-text">reduxjs&#x2F;toolkit使用异步-方法1</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#reduxjs-toolkit%E4%BD%BF%E7%94%A8%E5%BC%82%E6%AD%A5-%E6%96%B9%E6%B3%952"><span class="toc-number">7.2.</span> <span class="toc-text">reduxjs&#x2F;toolkit使用异步-方法2</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%9C%80%E8%A6%81%E5%81%9A%E7%9A%84%E8%B7%B3%E8%BD%AC%E5%A4%84%E7%90%86"><span class="toc-number">7.3.</span> <span class="toc-text">需要做的跳转处理</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E8%B7%AF%E7%94%B1%E8%AE%BE%E7%BD%AE"><span class="toc-number">8.</span> <span class="toc-text">路由设置</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%94%B6%E8%97%8F-%E5%8F%96%E6%B6%88%E6%94%B6%E8%97%8F"><span class="toc-number">9.</span> <span class="toc-text">收藏&#x2F;取消收藏</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E6%94%B6%E8%97%8F%E5%A4%B9"><span class="toc-number">10.</span> <span class="toc-text">收藏夹</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%AE%9E%E7%8E%B0%E7%BB%84%E4%BB%B6%E7%9A%84%E7%BC%93%E5%AD%98"><span class="toc-number">11.</span> <span class="toc-text">实现组件的缓存</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E4%BF%AE%E6%94%B9%E4%B8%AA%E4%BA%BA%E4%BF%A1%E6%81%AF-%E6%96%87%E4%BB%B6%E4%B8%8A%E4%BC%A0"><span class="toc-number">12.</span> <span class="toc-text">修改个人信息-文件上传</span></a></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E9%81%87%E5%88%B0%E7%9A%84%E9%97%AE%E9%A2%98"><span class="toc-number">13.</span> <span class="toc-text">遇到的问题</span></a><ol class="toc-child"><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%97%A0%E6%B3%95%E8%A7%A3%E6%9E%90scss-sass%E6%8F%90%E7%A4%BAcreate-react-app-Cannot-find-module-%E2%80%98sass%E2%80%99"><span class="toc-number">13.1.</span> <span class="toc-text">无法解析scss&#x2F;sass提示create-react-app Cannot find module ‘sass’</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E6%97%A0%E6%B3%95%E8%A7%A3%E6%9E%90less%E6%88%96%E6%8F%90%E7%A4%BACannot-find-module-%E2%80%98-index-module-less%E2%80%99-or-its-corresponding-type-declarations"><span class="toc-number">13.2.</span> <span class="toc-text">无法解析less或提示Cannot find module ‘.&#x2F;index.module.less’ or its corresponding type declarations</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E9%85%8D%E7%BD%AE%E5%88%AB%E5%90%8D"><span class="toc-number">13.3.</span> <span class="toc-text">配置别名</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#%E4%BE%9D%E8%B5%96%E6%94%B6%E9%9B%86%E5%AF%BC%E8%87%B4%E6%97%A0%E6%B3%95%E8%8E%B7%E5%8F%96%E5%88%B0%E6%9C%80%E6%96%B0state%E5%80%BC"><span class="toc-number">13.4.</span> <span class="toc-text">依赖收集导致无法获取到最新state值</span></a></li><li class="toc-item toc-level-3"><a class="toc-link" href="#dispatch%E5%87%BA%E7%8E%B0Argument-of-type-%E2%80%98AsyncThunkAction-age-string-void-AsyncThunkConfig-%E2%80%99-is-not-assignable-to-parameter-of-type-%E2%80%98AnyAction%E2%80%99"><span class="toc-number">13.5.</span> <span class="toc-text">dispatch出现Argument of type ‘AsyncThunkAction{ age: string; }, void, AsyncThunkConfig&gt;’ is not assignable to parameter of type ‘AnyAction’</span></a></li></ol></li><li class="toc-item toc-level-2"><a class="toc-link" href="#%E5%B0%8F%E7%9F%A5%E8%AF%86%E7%82%B9"><span class="toc-number">14.</span> <span class="toc-text">小知识点</span></a><ol class="toc-child"><li class="toc-item toc-level-4"><a class="toc-link" href="#stylesheet%E5%BC%95%E5%85%A5html%E6%96%87%E6%A1%A3%E7%9A%84%E5%A4%96%E9%83%A8%E6%A0%B7%E5%BC%8F%E8%A1%A8"><span class="toc-number">14.0.1.</span> <span class="toc-text">stylesheet引入html文档的外部样式表</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#React%E9%BB%98%E8%AE%A4Event%E7%B1%BB%E5%9E%8B%E5%8F%AF%E4%BB%A5%E4%BD%BF%E7%94%A8React-MouseEvent%E6%9D%A5%E6%8C%87%E6%98%8E"><span class="toc-number">14.0.2.</span> <span class="toc-text">React默认Event类型可以使用React.MouseEvent来指明</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%A7%A3%E6%9E%84%E8%B5%8B%E5%80%BC%E7%9C%81%E7%95%A5%E6%8E%89%E9%83%A8%E5%88%86%E5%8F%82%E6%95%B0"><span class="toc-number">14.0.3.</span> <span class="toc-text">解构赋值省略掉部分参数</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%89%8D%E5%8F%91%E7%8E%B0%E6%B3%A8%E9%87%8A%E5%8F%AF%E4%BB%A5%E6%A0%87%E6%98%8E%E7%B1%BB%E5%9E%8B"><span class="toc-number">14.0.4.</span> <span class="toc-text">才发现注释可以标明类型</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%A0%87%E5%87%86React%E7%BB%84%E4%BB%B6%E7%9A%84%E7%B1%BB%E5%9E%8B"><span class="toc-number">14.0.5.</span> <span class="toc-text">标准React组件的类型</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%80%81%E5%B8%88%E6%AD%A3%E5%88%99%E7%9A%84%E6%84%8F%E6%80%9D"><span class="toc-number">14.0.6.</span> <span class="toc-text">老师正则的意思</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#less%E6%96%87%E4%BB%B6%E5%BC%95%E5%85%A5%E5%9B%BE%E7%89%87"><span class="toc-number">14.0.7.</span> <span class="toc-text">less文件引入图片</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E8%87%AA%E5%AE%9A%E4%B9%89%E8%99%9A%E7%BA%BF"><span class="toc-number">14.0.8.</span> <span class="toc-text">自定义虚线</span></a></li><li class="toc-item toc-level-4"><a class="toc-link" href="#%E6%8C%87%E6%98%8E%E4%BC%A0%E5%85%A5props%E5%BD%93%E4%B8%AD%E7%9A%84%E5%9B%9E%E8%B0%83%E7%B1%BB%E5%9E%8B%E6%8F%90%E7%A4%BA-Type-%E2%80%98Function%E2%80%99-is-not-assignable-to-type-%E2%80%98MouseEventHandler%E2%80%98"><span class="toc-number">14.0.9.</span> <span class="toc-text">指明传入props当中的回调类型提示: Type ‘Function’ is not assignable to type ‘MouseEventHandler&lt;HTMLDivElement&gt;‘.</span></a></li></ol></li></ol></div></div><div class="card-widget card-recent-post"><div class="item-headline"><i class="fas fa-history"></i><span>最新文章</span></div><div class="aside-list"><div class="aside-list-item no-cover"><div class="content"><a class="title" href="/31d04109.html" title="java枚举和mybaits-plus结合实现映射输出和存储">java枚举和mybaits-plus结合实现映射输出和存储</a><time datetime="2025-05-26T20:23:14.000Z" title="发表于 2025-05-26 20:23:14">2025-05-26</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/dc4ed705.html" title="qq农场,牧场解包查看导出swf文件内容图片"><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202503251433885.png" onerror='this.onerror=null,this.src="/img/404.png"' alt="qq农场,牧场解包查看导出swf文件内容图片"></a><div class="content"><a class="title" href="/dc4ed705.html" title="qq农场,牧场解包查看导出swf文件内容图片">qq农场,牧场解包查看导出swf文件内容图片</a><time datetime="2025-03-25T14:28:01.000Z" title="发表于 2025-03-25 14:28:01">2025-03-25</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/ed2e6c27.html" title="移动云盘加密分析-以链接有消息检查为例子"><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202503251433302.png" onerror='this.onerror=null,this.src="/img/404.png"' alt="移动云盘加密分析-以链接有消息检查为例子"></a><div class="content"><a class="title" href="/ed2e6c27.html" title="移动云盘加密分析-以链接有消息检查为例子">移动云盘加密分析-以链接有消息检查为例子</a><time datetime="2025-03-22T12:24:10.000Z" title="发表于 2025-03-22 12:24:10">2025-03-22</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/3cde95bc.html" title="mstsc使用proxifier走clash代理降低延迟"><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202503030912164.png" onerror='this.onerror=null,this.src="/img/404.png"' alt="mstsc使用proxifier走clash代理降低延迟"></a><div class="content"><a class="title" href="/3cde95bc.html" title="mstsc使用proxifier走clash代理降低延迟">mstsc使用proxifier走clash代理降低延迟</a><time datetime="2025-03-03T09:11:01.000Z" title="发表于 2025-03-03 09:11:01">2025-03-03</time></div></div><div class="aside-list-item"><a class="thumbnail" href="/d6a2907d.html" title="适配FASTGPT基础AI模板-适合对付领导突发AI-奇想而生的模板"><img src="https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202502201550402.png" onerror='this.onerror=null,this.src="/img/404.png"' alt="适配FASTGPT基础AI模板-适合对付领导突发AI-奇想而生的模板"></a><div class="content"><a class="title" href="/d6a2907d.html" title="适配FASTGPT基础AI模板-适合对付领导突发AI-奇想而生的模板">适配FASTGPT基础AI模板-适合对付领导突发AI-奇想而生的模板</a><time datetime="2025-02-20T15:45:25.000Z" title="发表于 2025-02-20 15:45:25">2025-02-20</time></div></div></div></div></div></div></main><footer id="footer" style="background-image:url(https://dreamos.oss-cn-beijing.aliyuncs.com/gitblog/202304091722157.png)"><div id="footer-wrap"><div class="copyright">&copy;2021 - 2025 By 梦洁</div><div class="framework-info"><span>框架 </span><a target="_blank" rel="noopener" href="https://hexo.io">Hexo</a><span class="footer-separator">|</span><span>主题 </span><a target="_blank" rel="noopener" href="https://github.com/jerryc127/hexo-theme-butterfly">Butterfly</a></div></div></footer></div><div id="rightside"><div id="rightside-config-hide"><button id="readmode" type="button" title="阅读模式"><i class="fas fa-book-open"></i></button><button id="darkmode" type="button" title="浅色和深色模式转换"><i class="fas fa-adjust"></i></button><button id="hide-aside-btn" type="button" title="单栏和双栏切换"><i class="fas fa-arrows-alt-h"></i></button></div><div id="rightside-config-show"><button id="rightside-config" type="button" title="设置"><i class="fas fa-cog fa-spin"></i></button><button class="close" id="mobile-toc-button" type="button" title="目录"><i class="fas fa-list-ul"></i></button><a id="to_comment" href="#post-comment" title="直达评论"><i class="fas fa-comments"></i></a><button id="go-up" type="button" title="回到顶部"><span class="scroll-percent"></span><i class="fas fa-arrow-up"></i></button></div></div><div><script src="/js/utils.js?v=4.13.0"></script><script src="/js/main.js?v=4.13.0"></script><script src="https://lib.baomitu.com/fancyapps-ui/5.0.33/fancybox/fancybox.umd.min.js"></script><div class="js-pjax"><script>(()=>{let t=null;const e=()=>{if(t=Artalk.init(Object.assign({el:"#artalk-wrap",server:"https://artalk.dreamlove.top",site:"梦洁小站",pageKey:location.pathname,darkMode:"dark"===document.documentElement.getAttribute("data-theme")},null)),"null"===GLOBAL_CONFIG.lightbox)return;t.on("list-loaded",()=>{t.ctx.get("list").getCommentNodes().forEach(t=>{const e=t.getRender().$content;btf.loadLightbox(e.querySelectorAll("img:not([atk-emoticon])"))})});btf.addGlobalFn("pjax",()=>{t.destroy()},"destroyArtalk")},a=async()=>{"object"==typeof Artalk||(await getCSS("https://lib.baomitu.com/artalk/2.8.2/Artalk.min.css"),await getScript("https://lib.baomitu.com/artalk/2.8.2/Artalk.min.js")),e()};btf.addGlobalFn("themeChange",e=>{const a=document.getElementById("artalk-wrap");if(!a||!a.children.length)return;const l="dark"===e;t.setDarkMode(l)},"artalk"),a()})()</script></div><script id="canvas_nest" defer color="0,0,255" opacity="0.7" zindex="-1" count="99" mobile="false" src="https://lib.baomitu.com/butterfly-extsrc/1.1.3/canvas-nest.min.js"></script><script async data-pjax src="//busuanzi.ibruce.info/busuanzi/2.3/busuanzi.pure.mini.js"></script><div id="algolia-search"><div class="search-dialog"><nav class="search-nav"><span class="search-dialog-title">搜索</span><button class="search-close-button"><i class="fas fa-times"></i></button></nav><div class="search-wrap"><div id="algolia-search-input"></div><hr><div id="algolia-search-results"><div id="algolia-hits"></div><div id="algolia-pagination"></div><div id="algolia-info"><div class="algolia-stats"></div><div class="algolia-poweredBy"></div></div></div></div></div><div id="search-mask"></div><script src="https://lib.baomitu.com/algoliasearch/4.22.1/algoliasearch-lite.umd.min.js"></script><script src="https://lib.baomitu.com/instantsearch.js/4.65.0/instantsearch.production.min.js"></script><script src="/js/search/algolia.js?v=4.13.0"></script></div></div></body></html>